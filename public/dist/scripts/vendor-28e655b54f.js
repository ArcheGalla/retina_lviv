/**
 * @license AngularJS v1.4.7
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,r=2,a=arguments,o=a[0],s="["+(t?t+":":"")+o+"] ",c=a[1];for(s+=c.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<a.length?yt(a[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.7/"+(t?t+"/":"")+o,i=r,n="?";i<a.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(yt(a[i]));return new e(s)}}function r(t){if(null==t||k(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===zi&&e?!0:w(t)||Ri(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function a(t,e,n){var i,o;if(t)if(_(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Ri(t)||r(t)){var s="object"!=typeof t;for(i=0,o=t.length;o>i;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==a)t.forEach(e,n,t);else if(S(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)xi.call(t,i)&&e.call(n,t[i],i,t);return t}function o(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function c(){return++Ni}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var i=t.$$hashKey,r=0,a=e.length;a>r;++r){var o=e[r];if(x(o)||_(o))for(var s=Object.keys(o),c=0,h=s.length;h>c;c++){var f=s[c],d=o[f];n&&x(d)?K(d)?t[f]=new Date(d.valueOf()):A(d)?t[f]=new RegExp(d):(x(t[f])||(t[f]=Ri(d)?[]:{}),l(t[f],[d],!0)):t[f]=d}}return u(t,i),t}function h(t){return l(t,Ti.call(arguments,1),!1)}function f(t){return l(t,Ti.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function g(){}function v(t){return t}function m(t){return function(){return t}}function $(t){return _(t.toString)&&t.toString!==Object.prototype.toString}function y(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function x(t){return null!==t&&"object"==typeof t}function S(t){return null!==t&&"object"==typeof t&&!Di(t)}function w(t){return"string"==typeof t}function C(t){return"number"==typeof t}function K(t){return"[object Date]"===Ei.call(t)}function _(t){return"function"==typeof t}function A(t){return"[object RegExp]"===Ei.call(t)}function k(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function F(t){return"[object File]"===Ei.call(t)}function P(t){return"[object FormData]"===Ei.call(t)}function E(t){return"[object Blob]"===Ei.call(t)}function D(t){return"boolean"==typeof t}function M(t){return t&&_(t.then)}function O(t){return Ii.test(Ei.call(t))}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function L(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function R(t){return bi(t.nodeName||t[0]&&t[0].nodeName)}function I(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function G(t,e,n,i){if(k(t)||T(t))throw Mi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(O(e))throw Mi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Mi("cpi","Can't copy! Source and destination are identical.");n=n||[],i=i||[],x(t)&&(n.push(t),i.push(e));var r;if(Ri(t)){e.length=0;for(var o=0;o<t.length;o++)e.push(G(t[o],null,n,i))}else{var s=e.$$hashKey;if(Ri(e)?e.length=0:a(e,function(t,n){delete e[n]}),S(t))for(r in t)e[r]=G(t[r],null,n,i);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=G(t[r],null,n,i));else for(r in t)xi.call(t,r)&&(e[r]=G(t[r],null,n,i));u(e,s)}}else if(e=t,x(t)){var c;if(n&&-1!==(c=n.indexOf(t)))return i[c];if(Ri(t))return G(t,[],n,i);if(O(t))e=new t.constructor(t);else if(K(t))e=new Date(t.getTime());else if(A(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else{if(!_(t.cloneNode)){var l=Object.create(Di(t));return G(t,l,n,i)}e=t.cloneNode(!0)}i&&(n.push(t),i.push(e))}return e}function j(t,e){if(Ri(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(x(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function V(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,a=typeof t,o=typeof e;if(a==o&&"object"==a){if(!Ri(t)){if(K(t))return K(e)?V(t.getTime(),e.getTime()):!1;if(A(t))return A(e)?t.toString()==e.toString():!1;if(T(t)||T(e)||k(t)||k(e)||Ri(e)||K(e)||A(e))return!1;r=vt();for(i in t)if("$"!==i.charAt(0)&&!_(t[i])){if(!V(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&b(e[i])&&!_(e[i]))return!1;return!0}if(!Ri(e))return!1;if((n=t.length)==e.length){for(i=0;n>i;i++)if(!V(t[i],e[i]))return!1;return!0}}return!1}function U(t,e,n){return t.concat(Ti.call(e,n))}function B(t,e){return Ti.call(t,e||0)}function H(t,e){var n=arguments.length>2?B(arguments,2):[];return!_(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,U(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function q(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:k(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":T(i)&&(r="$SCOPE"),r}function z(t,e){return"undefined"==typeof t?n:(C(e)||(e=e?2:null),JSON.stringify(t,q,e))}function W(t){return w(t)?JSON.parse(t):t}function Y(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J(t,e,n){n=n?-1:1;var i=Y(e,t.getTimezoneOffset());return X(t,n*(i-t.getTimezoneOffset()))}function Q(t){t=_i(t).clone();try{t.empty()}catch(e){}var n=_i("<div>").append(t).html();try{return t[0].nodeType===Yi?bi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+bi(e)})}catch(e){return bi(n)}}function Z(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e={};return a((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=Z(i),b(i)&&(r=b(r)?Z(r):!0,xi.call(e,i)?Ri(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function et(t){var e=[];return a(t,function(t,n){Ri(t)?a(t,function(t){e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}):e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}),e.length?e.join("&"):""}function nt(t){return it(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function it(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function rt(t,e){var n,i,r=Bi.length;for(i=0;r>i;++i)if(n=Bi[i]+e,w(n=t.getAttribute(n)))return n;return null}function at(t,e){var n,i,r={};a(Bi,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),a(Bi,function(e){var r,a=e+"app";!n&&(r=t.querySelector("["+a.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(a))}),n&&(r.strictDi=null!==rt(n,"strict-di"),e(n,i?[i]:[],r))}function ot(n,i,r){x(r)||(r={});var o={strictDi:!1};r=h(o,r);var s=function(){if(n=_i(n),n.injector()){var t=n[0]===e?"document":Q(n);throw Mi("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var a=Qt(i,r.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),a},c=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&c.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(c,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Oi.resumeBootstrap=function(t){return a(t,function(t){i.push(t)}),s()},void(_(Oi.resumeDeferredBootstrap)&&Oi.resumeDeferredBootstrap()))}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ct(t){var e=Oi.element(t).injector();if(!e)throw Mi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ut(t,e){return e=e||"_",t.replace(Hi,function(t,n){return(n?e:"")+t.toLowerCase()})}function lt(){var e;if(!qi){var i=Ui();Ai=y(i)?t.jQuery:i?t[i]:n,Ai&&Ai.fn.on?(_i=Ai,h(Ai.fn,{scope:dr.scope,isolateScope:dr.isolateScope,controller:dr.controller,injector:dr.injector,inheritedData:dr.inheritedData}),e=Ai.cleanData,Ai.cleanData=function(t){var n;if(Li)Li=!1;else for(var i,r=0;null!=(i=t[r]);r++)n=Ai._data(i,"events"),n&&n.$destroy&&Ai(i).triggerHandler("$destroy");e(t)}):_i=kt,Oi.element=_i,qi=!0}}function ht(t,e,n){if(!t)throw Mi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ft(t,e,n){return n&&Ri(t)&&(t=t[t.length-1]),ht(_(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw Mi("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var i,r=e.split("."),a=t,o=r.length,s=0;o>s;s++)i=r[s],t&&(t=(a=t)[i]);return!n&&_(t)?H(a,t):t}function gt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=_i(Ti.call(t,0,r))),e.push(n));return e||t}function vt(){return Object.create(null)}function mt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),a=e(t,"angular",Object);return a.$$minErr=a.$$minErr||i,e(a,"module",function(){var t={};return function(i,a,o){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(i,"module"),a&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),l}}function e(t,e){return function(n,a){return a&&_(a)&&(a.$$moduleName=i),r.push([t,e,arguments]),l}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var r=[],s=[],c=[],u=t("$injector","invoke","push",s),l={_invokeQueue:r,_configBlocks:s,_runBlocks:c,requires:a,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return c.push(t),this}};return o&&u(o),l})}})}function $t(t){var e=[];return JSON.stringify(t,function(t,n){if(n=q(t,n),x(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?$t(t):t}function bt(e){h(e,{bootstrap:ot,copy:G,extend:h,merge:f,equals:V,element:_i,forEach:a,injector:Qt,noop:g,bind:H,toJson:z,fromJson:W,identity:v,isUndefined:y,isDefined:b,isString:w,isFunction:_,isObject:x,isNumber:C,isElement:N,isArray:Ri,version:Zi,isDate:K,lowercase:bi,uppercase:Si,callbacks:{counter:0},getTestability:ct,$$minErr:i,$$csp:Vi,reloadWithDebugInfo:st}),(ki=mt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:mn}),t.provider("$compile",ce).directive({a:da,input:Fa,textarea:Fa,form:$a,script:wo,select:_o,style:ko,option:Ao,ngBind:Da,ngBindHtml:Oa,ngBindTemplate:Ma,ngClass:La,ngClassEven:Ia,ngClassOdd:Ra,ngCloak:Ga,ngController:ja,ngForm:ya,ngHide:mo,ngIf:Ba,ngInclude:Ha,ngInit:za,ngNonBindable:so,ngPluralize:ho,ngRepeat:fo,ngShow:vo,ngStyle:$o,ngSwitch:yo,ngSwitchWhen:bo,ngSwitchDefault:xo,ngOptions:lo,ngTransclude:So,ngModel:ro,ngList:Wa,ngChange:Na,pattern:Fo,ngPattern:Fo,required:To,ngRequired:To,minlength:Eo,ngMinlength:Eo,maxlength:Po,ngMaxlength:Po,ngValue:Ea,ngModelOptions:oo}).directive({ngInclude:qa}).directive(pa).directive(Va),t.provider({$anchorScroll:Zt,$animate:kr,$animateCss:Tr,$$animateQueue:Ar,$$AnimateRunner:_r,$browser:ae,$cacheFactory:oe,$controller:de,$document:pe,$exceptionHandler:ge,$filter:Pn,$$forceReflow:Mr,$interpolate:Te,$interval:Fe,$http:Ke,$httpParamSerializer:me,$httpParamSerializerJQLike:$e,$httpBackend:Ae,$xhrFactory:_e,$location:Be,$log:He,$parse:hn,$rootScope:vn,$q:fn,$$q:dn,$sce:xn,$sceDelegate:bn,$sniffer:Sn,$templateCache:se,$templateRequest:wn,$$testability:Cn,$timeout:Kn,$window:kn,$$rAF:gn,$$jqLite:zt,$$HashMap:mr,$$cookieReader:Fn})}])}function xt(){return++er}function St(t){return t.replace(rr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(ar,"Moz$1")}function wt(t){return!ur.test(t)}function Ct(t){var e=t.nodeType;return e===zi||!e||e===Ji}function Kt(t){for(var e in tr[t.ng339])return!0;return!1}function _t(t,e){var n,i,r,o,s=e.createDocumentFragment(),c=[];if(wt(t))c.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),i=(lr.exec(t)||["",""])[1].toLowerCase(),r=fr[i]||fr._default,n.innerHTML=r[1]+t.replace(hr,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;c=U(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(c,function(t){s.appendChild(t)}),s}function At(t,n){n=n||e;var i;return(i=cr.exec(t))?[n.createElement(i[1])]:(i=_t(t,n))?i.childNodes:[]}function kt(t){if(t instanceof kt)return t;var e;if(w(t)&&(t=Gi(t),e=!0),!(this instanceof kt)){if(e&&"<"!=t.charAt(0))throw sr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new kt(t)}e?Rt(this,At(t)):Rt(this,t)}function Tt(t){return t.cloneNode(!0)}function Ft(t,e){if(e||Et(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Et(n[i])}function Pt(t,e,n,i){if(b(i))throw sr("offargs","jqLite#off() does not support the `selector` argument");var r=Dt(t),o=r&&r.events,s=r&&r.handle;if(s)if(e)a(e.split(" "),function(e){if(b(n)){var i=o[e];if(I(i||[],n),i&&i.length>0)return}ir(t,e,s),delete o[e]});else for(e in o)"$destroy"!==e&&ir(t,e,s),delete o[e]}function Et(t,e){var i=t.ng339,r=i&&tr[i];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Pt(t)),delete tr[i],t.ng339=n}}function Dt(t,e){var i=t.ng339,r=i&&tr[i];return e&&!r&&(t.ng339=i=xt(),r=tr[i]={events:{},data:{},handle:n}),r}function Mt(t,e,n){if(Ct(t)){var i=b(n),r=!i&&e&&!x(e),a=!e,o=Dt(t,!r),s=o&&o.data;if(i)s[e]=n;else{if(a)return s;if(r)return s&&s[e];h(s,e)}}}function Ot(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Nt(t,e){e&&t.setAttribute&&a(e.split(" "),function(e){t.setAttribute("class",Gi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Gi(e)+" "," ")))})}function Lt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(e.split(" "),function(t){t=Gi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Gi(n))}}function Rt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function It(t,e){return Gt(t,"$"+(e||"ngController")+"Controller")}function Gt(t,e,n){t.nodeType==Ji&&(t=t.documentElement);for(var i=Ri(e)?e:[e];t;){for(var r=0,a=i.length;a>r;r++)if(b(n=_i.data(t,i[r])))return n;t=t.parentNode||t.nodeType===Qi&&t.host}}function jt(t){for(Ft(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Vt(t,e){e||Ft(t);var n=t.parentNode;n&&n.removeChild(t)}function Ut(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):_i(n).on("load",e)}function Bt(t,e){var n=pr[e.toLowerCase()];return n&&gr[R(t)]&&n}function Ht(t){return vr[t]}function qt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],a=r?r.length:0;if(a){if(y(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},a>1&&(r=j(r));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||r[s].call(t,n)}};return n.elem=t,n}function zt(){this.$get=function(){return h(kt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ot(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Nt(t,e)}})}}function Wt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||c)():i+":"+t}function Yt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}a(t,this.put,this)}function Xt(t){var e=t.toString().replace(xr,""),n=e.match($r);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Jt(t,e,n){var i,r,o,s;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw w(n)&&n||(n=t.name||Xt(t)),Sr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=t.toString().replace(xr,""),o=r.match($r),a(o[1].split(yr),function(t){t.replace(br,function(t,e,n){i.push(n)})})}t.$inject=i}}else Ri(t)?(s=t.length-1,ft(t[s],"fn"),i=t.slice(0,s)):ft(t,"fn",!0);return i}function Qt(t,e){function i(t){return function(e,n){return x(e)?void a(e,s(t)):t(e,n)}}function r(t,e){if(dt(t,"service"),(_(e)||Ri(e))&&(e=C.instantiate(e)),!e.$get)throw Sr("pget","Provider '{0}' must define $get factory method.",t);return S[t+v]=e}function o(t,e){return function(){var n=A.invoke(e,this);if(y(n))throw Sr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function c(t,e,n){return r(t,{$get:n!==!1?o(t,e):e})}function u(t,e){return c(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return c(t,m(e),!1)}function h(t,e){dt(t,"constant"),S[t]=e,K[t]=e}function f(t,e){var n=C.get(t+v),i=n.$get;n.$get=function(){var t=A.invoke(i,n);return A.invoke(e,null,{$delegate:t})}}function d(t){ht(y(t)||Ri(t),"modulesToLoad","not an array");var e,n=[];return a(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!b.get(t)){b.put(t,!0);try{w(t)?(e=ki(t),n=n.concat(d(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):_(t)?n.push(C.invoke(t)):Ri(t)?n.push(C.invoke(t)):ft(t,"module")}catch(r){throw Ri(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Sr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function p(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===g)throw Sr("cdep","Circular dependency found: {0}",e+" <- "+$.join(" <- "));return t[e]}try{return $.unshift(e),t[e]=g,t[e]=n(e,i)}catch(r){throw t[e]===g&&delete t[e],r}finally{$.shift()}}function r(t,n,r,a){"string"==typeof r&&(a=r,r=null);var o,s,c,u=[],l=Qt.$$annotate(t,e,a);for(s=0,o=l.length;o>s;s++){if(c=l[s],"string"!=typeof c)throw Sr("itkn","Incorrect injection token! Expected service name as string, got {0}",c);u.push(r&&r.hasOwnProperty(c)?r[c]:i(c,a))}return Ri(t)&&(t=t[o]),t.apply(n,u)}function a(t,e,n){var i=Object.create((Ri(t)?t[t.length-1]:t).prototype||null),a=r(t,i,e,n);return x(a)||_(a)?a:i}return{invoke:r,instantiate:a,get:i,annotate:Qt.$$annotate,has:function(e){return S.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=e===!0;var g={},v="Provider",$=[],b=new Yt([],!0),S={$provide:{provider:i(r),factory:i(c),service:i(u),value:i(l),constant:i(h),decorator:f}},C=S.$injector=p(S,function(t,e){throw Oi.isString(e)&&$.push(e),Sr("unpr","Unknown provider: {0}",$.join(" <- "))}),K={},A=K.$injector=p(K,function(t,e){var i=C.get(t+v,e);return A.invoke(i.$get,i,n,t)});return a(d(t),function(t){t&&A.invoke(t)}),A}function Zt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===R(t)?(e=t,!0):void 0}),e}function a(){var t=s.yOffset;if(_(t))t=t();else if(N(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else C(t)||(t=0);return t}function o(t){if(t){t.scrollIntoView();var n=a();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=w(t)?t:n.hash();var e;t?(e=c.getElementById(t))?o(e):(e=r(c.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var c=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Ut(function(){i.$evalAsync(s)})}),s}]}function te(t,e){return t||e?t?e?(Ri(t)&&(t=t.join(" ")),Ri(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ee(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Cr)return n}}function ne(t){w(t)&&(t=t.split(" "));var e=vt();return a(t,function(t){t.length&&(e[t]=!0)}),e}function ie(t){return x(t)?t:{}}function re(t,e,n,i){function r(t){try{t.apply(null,B(arguments,1))}finally{if($--,0===$)for(;b.length;)try{b.pop()()}catch(e){n.error(e)}}}function o(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){K=null,u(),l()}function c(){try{return d.state}catch(t){}}function u(){x=c(),x=y(x)?null:x,V(x,k)&&(x=k),k=x}function l(){(w!==h.url()||S!==x)&&(w=h.url(),S=x,a(_,function(t){t(h.url(),x)}))}var h=this,f=(e[0],t.location),d=t.history,p=t.setTimeout,v=t.clearTimeout,m={};h.isMock=!1;var $=0,b=[];h.$$completeOutstandingRequest=r,h.$$incOutstandingRequestCount=function(){$++},h.notifyWhenNoOutstandingRequests=function(t){0===$?t():b.push(t)};var x,S,w=f.href,C=e.find("base"),K=null;u(),S=x,h.url=function(e,n,r){if(y(r)&&(r=null),f!==t.location&&(f=t.location),d!==t.history&&(d=t.history),e){var a=S===r;if(w===e&&(!i.history||a))return h;var s=w&&Oe(w)===Oe(e);return w=e,S=r,!i.history||s&&a?((!s||K)&&(K=e),n?f.replace(e):s?f.hash=o(e):f.href=e,f.href!==e&&(K=e)):(d[n?"replaceState":"pushState"](r,"",e),u(),S=x),h}return K||f.href.replace(/%27/g,"'")},h.state=function(){return x};var _=[],A=!1,k=null;h.onUrlChange=function(e){return A||(i.history&&_i(t).on("popstate",s),_i(t).on("hashchange",s),A=!0),_.push(e),e},h.$$applicationDestroyed=function(){_i(t).off("hashchange popstate",s)},h.$$checkUrlChange=l,h.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return $++,n=p(function(){delete m[n],r(t)},e||0),m[n]=!0,n},h.defer.cancel=function(t){return m[t]?(delete m[t],v(t),r(g),!0):!1}}function ae(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new re(t,i,e,n)}]}function oe(){this.$get=function(){function t(t,n){function r(t){t!=f&&(d?d==t&&(d=t.n):d=t,a(t.n,t.p),a(t,f),f=t,f.n=null)}function a(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var o=0,s=h({},n,{id:t}),c={},u=n&&n.capacity||Number.MAX_VALUE,l={},f=null,d=null;return e[t]={put:function(t,e){if(!y(e)){if(u<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});r(n)}return t in c||o++,c[t]=e,o>u&&this.remove(d.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=l[t];if(!e)return;r(e)}return c[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=l[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),a(e.n,e.p),delete l[t]}delete c[t],o--},removeAll:function(){c={},o=0,l={},f=d=null},destroy:function(){c=null,s=null,l=null,delete e[t]},info:function(){return h({},s,{size:o})}}}var e={};return t.info=function(){var t={};return a(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function se(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ce(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(t,function(t,a){var o=t.match(i);if(!o)throw Fr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,a,t,n?"controller bindings definition":"isolate scope definition");r[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a}}),r}function o(t,e){var n={isolateScope:null,bindToController:null};if(x(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),x(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),x(n.bindToController)){var i=t.controller,a=t.controllerAs;if(!i)throw Fr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!fe(i,a))throw Fr("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function c(t){var e=t.charAt(0);if(!e||e!==bi(e))throw Fr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Fr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var u={},l="Directive",f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,$=L("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/;this.directive=function A(e,n){return dt(e,"directive"),w(e)?(c(e),ht(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+l,["$injector","$exceptionHandler",function(t,n){var i=[];return a(u[e],function(r,a){try{var s=t.invoke(r);_(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var c=s.$$bindings=o(s,s.name);x(c.isolateScope)&&(s.$$isolateBindings=c.isolateScope),s.$$moduleName=r.$$moduleName,i.push(s)}catch(u){n(u)}}),i}])),u[e].push(n)):a(e,s(A)),this},this.aHrefSanitizationWhitelist=function(t){return b(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var K=!0;this.debugInfoEnabled=function(t){return b(t)?(K=t,this):K},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,o,s,c,m,b,A,k,F){function P(t,e){try{t.addClass(e)}catch(n){}}function E(t,e,n,i,r){t instanceof _i||(t=_i(t)),a(t,function(e,n){e.nodeType==Yi&&e.nodeValue.match(/\S+/)&&(t[n]=_i(e).wrap("<span></span>").parent()[0])});var o=M(t,e,t,n,i,r);E.$$addScopeClass(t);var s=null;return function(e,n,i){ht(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,c=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=D(c));var u;if(u="html"!==s?_i(Z(s,_i("<div>").append(t).html())):n?dr.clone.call(t):t,a)for(var l in a)u.data("$"+l+"Controller",a[l].instance);return E.$$addScopeInfo(u,e),n&&n(u,e),o&&o(e,u,u,r),u}}function D(t){var e=t&&t[0];return e&&"foreignobject"!==R(e)&&e.toString().match(/SVG/)?"svg":"html"}function M(t,e,i,r,a,o){function s(t,i,r,a){var o,s,c,u,l,h,f,d,v;if(p){var m=i.length;for(v=new Array(m),l=0;l<g.length;l+=3)f=g[l],v[f]=i[f]}else v=i;for(l=0,h=g.length;h>l;)if(c=v[g[l++]],o=g[l++],s=g[l++],o){if(o.scope){u=t.$new(),E.$$addScopeInfo(_i(c),u);var $=o.$$destroyBindings;$&&(o.$$destroyBindings=null,u.$on("$destroyed",$))}else u=t;d=o.transcludeOnThisElement?O(t,o.transclude,a):!o.templateOnThisElement&&a?a:!a&&e?O(t,e):null,o(s,u,c,r,d,o)}else s&&s(t,c.childNodes,n,a)}for(var c,u,l,h,f,d,p,g=[],v=0;v<t.length;v++)c=new ot,u=N(t[v],[],c,0===v?r:n,a),l=u.length?j(u,t[v],c,e,i,null,[],[],o):null,l&&l.scope&&E.$$addScopeClass(c.$$element),f=l&&l.terminal||!(h=t[v].childNodes)||!h.length?null:M(h,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||f)&&(g.push(v,l,f),d=!0,p=p||l),o=null;return d?s:null}function O(t,e,n){var i=function(i,r,a,o,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return i}function N(t,e,n,i,r){var a,o,s=t.nodeType,c=n.$attr;switch(s){case zi:H(e,ue(R(t)),"E",i,r);for(var u,l,h,p,g,v,m=t.attributes,$=0,y=m&&m.length;y>$;$++){var b=!1,S=!1;u=m[$],l=u.name,g=Gi(u.value),p=ue(l),(v=ft.test(p))&&(l=l.replace(Pr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");q(C)&&p===C+"Start"&&(b=l,S=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),h=ue(l.toLowerCase()),c[h]=l,(v||!n.hasOwnProperty(h))&&(n[h]=g,Bt(t,h)&&(n[h]=!0)),et(t,e,g,h,v),H(e,h,"A",i,r,b,S)}if(o=t.className,x(o)&&(o=o.animVal),w(o)&&""!==o)for(;a=d.exec(o);)h=ue(a[2]),H(e,h,"C",i,r)&&(n[h]=Gi(a[3])),o=o.substr(a.index+a[0].length);break;case Yi:if(11===Ki)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Yi;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);J(e,t.nodeValue);break;case Xi:try{a=f.exec(t.nodeValue),a&&(h=ue(a[1]),H(e,h,"M",i,r)&&(n[h]=Gi(a[2])))}catch(K){}}return e.sort(Y),e}function L(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Fr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==zi&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return _i(i)}function G(t,e,n){return function(i,r,a,o,s){return r=L(r[0],e,n),t(i,r,a,o,s)}}function j(t,i,a,o,s,u,l,h,f){function d(t,e,n,i){t&&(n&&(t=G(t,n,i)),t.require=m.require,t.directiveName=$,(F===m||m.$$isolateScope)&&(t=it(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=G(e,n,i)),e.require=m.require,e.directiveName=$,(F===m||m.$$isolateScope)&&(e=it(e,{isolateScope:!0})),h.push(e))}function p(t,e,n,i){var r;if(w(e)){var a=e.match(S),o=e.substring(a[0].length),s=a[1]||a[3],c="?"===a[2];if("^^"===s?n=n.parent():(r=i&&i[o],r=r&&r.instance),!r){var u="$"+o+"Controller";r=s?n.inheritedData(u):n.data(u)}if(!r&&!c)throw Fr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,t)}else if(Ri(e)){r=[];for(var l=0,h=e.length;h>l;l++)r[l]=p(t,e[l],n,i)}return r||null}function g(t,e,n,i,r,a){var o=vt();for(var s in i){var u=i[s],l={$scope:u===F||u.$$isolateScope?r:a,$element:t,$attrs:e,$transclude:n},h=u.controller;"@"==h&&(h=e[u.name]);var f=c(h,l,!0,u.controllerAs);o[u.name]=f,R||t.data("$"+u.name+"Controller",f.instance)}return o}function v(t,e,r,o,s,c){function u(t,e,i){var r;return T(t)||(i=e,e=t,t=n),R&&(r=y),i||(i=R?x.parent():x),s(t,e,r,i,D)}var f,d,v,m,$,y,b,x,S;if(i===r?(S=a,x=a.$$element):(x=_i(r),S=new ot(x,a)),F&&($=e.$new(!0)),s&&(b=u,b.$$boundTransclude=s),k&&(y=g(x,S,b,k,$,e)),F&&(E.$$addScopeInfo(x,$,!0,!(P&&(P===F||P===F.$$originalDirective))),E.$$addScopeClass(x,!0),$.$$isolateBindings=F.$$isolateBindings,at(e,S,$,$.$$isolateBindings,F,$)),y){var w,C,K=F||A;K&&y[K.name]&&(w=K.$$bindings.bindToController,m=y[K.name],m&&m.identifier&&w&&(C=m,c.$$destroyBindings=at(e,S,m.instance,w,K)));for(f in y){m=y[f];var _=m();_!==m.instance&&(m.instance=_,x.data("$"+f+"Controller",_),m===C&&(c.$$destroyBindings(),c.$$destroyBindings=at(e,S,_,w,K)))}}for(f=0,d=l.length;d>f;f++)v=l[f],rt(v,v.isolateScope?$:e,x,S,v.require&&p(v.directiveName,v.require,x,y),b);var D=e;for(F&&(F.template||null===F.templateUrl)&&(D=$),t&&t(D,r.childNodes,n,s),f=h.length-1;f>=0;f--)v=h[f],rt(v,v.isolateScope?$:e,x,S,v.require&&p(v.directiveName,v.require,x,y),b)}f=f||{};for(var m,$,y,b,C,K=-Number.MAX_VALUE,A=f.newScopeDirective,k=f.controllerDirectives,F=f.newIsolateScopeDirective,P=f.templateDirective,D=f.nonTlbTranscludeDirective,M=!1,O=!1,R=f.hasElementTranscludeDirective,I=a.$$element=_i(i),j=u,V=o,H=0,q=t.length;q>H;H++){m=t[H];var Y=m.$$start,J=m.$$end;if(Y&&(I=L(i,Y,J)),y=n,K>m.priority)break;if((C=m.scope)&&(m.templateUrl||(x(C)?(X("new/isolated scope",F||A,m,I),F=m):X("new/isolated scope",F,m,I)),A=A||m),$=m.name,!m.templateUrl&&m.controller&&(C=m.controller,k=k||vt(),X("'"+$+"' controller",k[$],m,I),
k[$]=m),(C=m.transclude)&&(M=!0,m.$$tlb||(X("transclusion",D,m,I),D=m),"element"==C?(R=!0,K=m.priority,y=I,I=a.$$element=_i(e.createComment(" "+$+": "+a[$]+" ")),i=I[0],nt(s,B(y),i),V=E(y,o,K,j&&j.name,{nonTlbTranscludeDirective:D})):(y=_i(Tt(i)).contents(),I.empty(),V=E(y,o))),m.template)if(O=!0,X("template",P,m,I),P=m,C=_(m.template)?m.template(I,a):m.template,C=lt(C),m.replace){if(j=m,y=wt(C)?[]:he(Z(m.templateNamespace,Gi(C))),i=y[0],1!=y.length||i.nodeType!==zi)throw Fr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");nt(s,I,i);var tt={$attr:{}},et=N(i,[],tt),st=t.splice(H+1,t.length-(H+1));F&&U(et),t=t.concat(et).concat(st),z(a,tt),q=t.length}else I.html(C);if(m.templateUrl)O=!0,X("template",P,m,I),P=m,m.replace&&(j=m),v=W(t.splice(H,t.length-H),I,a,s,M&&V,l,h,{controllerDirectives:k,newScopeDirective:A!==m&&A,newIsolateScopeDirective:F,templateDirective:P,nonTlbTranscludeDirective:D}),q=t.length;else if(m.compile)try{b=m.compile(I,a,V),_(b)?d(null,b,Y,J):b&&d(b.pre,b.post,Y,J)}catch(ct){r(ct,Q(I))}m.terminal&&(v.terminal=!0,K=Math.max(K,m.priority))}return v.scope=A&&A.scope===!0,v.transcludeOnThisElement=M,v.templateOnThisElement=O,v.transclude=V,f.hasElementTranscludeDirective=R,v}function U(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function H(e,n,i,a,o,s,c){if(n===o)return null;var h=null;if(u.hasOwnProperty(n))for(var f,d=t.get(n+l),g=0,v=d.length;v>g;g++)try{f=d[g],(y(a)||a>f.priority)&&-1!=f.restrict.indexOf(i)&&(s&&(f=p(f,{$$start:s,$$end:c})),e.push(f),h=f)}catch(m){r(m)}return h}function q(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+l),r=0,a=i.length;a>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function z(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;a(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),a(e,function(e,a){"class"==a?(P(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==a?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==a.charAt(0)||t.hasOwnProperty(a)||(t[a]=e,i[a]=n[a])})}function W(t,e,n,i,r,s,c,u){var l,h,f=[],d=e[0],g=t.shift(),v=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),m=_(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,$=g.templateNamespace;return e.empty(),o(m).then(function(o){var p,y,b,S;if(o=lt(o),g.replace){if(b=wt(o)?[]:he(Z($,Gi(o))),p=b[0],1!=b.length||p.nodeType!==zi)throw Fr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,m);y={$attr:{}},nt(i,e,p);var w=N(p,[],y);x(g.scope)&&U(w),t=w.concat(t),z(n,y)}else p=d,e.html(o);for(t.unshift(v),l=j(t,p,n,r,e,g,s,c,u),a(i,function(t,n){t==p&&(i[n]=e[0])}),h=M(e[0].childNodes,r);f.length;){var C=f.shift(),K=f.shift(),_=f.shift(),A=f.shift(),k=e[0];if(!C.$$destroyed){if(K!==d){var T=K.className;u.hasElementTranscludeDirective&&g.replace||(k=Tt(p)),nt(_,_i(K),k),P(_i(k),T)}S=l.transcludeOnThisElement?O(C,l.transclude,A):A,l(h,C,k,i,S,l)}}f=null}),function(t,e,n,i,r){var a=r;e.$$destroyed||(f?f.push(e,n,i,a):(l.transcludeOnThisElement&&(a=O(e,l.transclude,r)),l(h,e,n,i,a,l)))}}function Y(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function X(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Fr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,Q(i))}function J(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&E.$$addBindingClass(e),function(t,e){var r=e.parent();i||E.$$addBindingClass(r),E.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Z(t,n){switch(t=bi(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function tt(t,e){if("srcdoc"==e)return A.HTML;var n=R(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?A.RESOURCE_URL:void 0}function et(t,e,n,r,a){var o=tt(t,r);a=$[r]||a;var s=i(n,!0,o,a);if(s){if("multiple"===r&&"select"===R(t))throw Fr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(t));e.push({priority:100,compile:function(){return{pre:function(t,e,c){var u=c.$$observers||(c.$$observers=vt());if(C.test(r))throw Fr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=c[r];l!==n&&(s=l&&i(l,!0,o,a),n=l),s&&(c[r]=s(t),(u[r]||(u[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?c.$updateClass(t,e):c.$set(r,t)}))}}}})}}function nt(t,n,i){var r,a,o=n[0],s=n.length,c=o.parentNode;if(t)for(r=0,a=t.length;a>r;r++)if(t[r]==o){t[r++]=i;for(var u=r,l=u+s-1,h=t.length;h>u;u++,l++)h>l?t[u]=t[l]:delete t[u];t.length-=s-1,t.context===o&&(t.context=i);break}c&&c.replaceChild(i,o);var f=e.createDocumentFragment();f.appendChild(o),_i.hasData(o)&&(_i(i).data(_i(o).data()),Ai?(Li=!0,Ai.cleanData([o])):delete _i.cache[o[_i.expando]]);for(var d=1,p=n.length;p>d;d++){var g=n[d];_i(g).remove(),f.appendChild(g),delete n[d]}n[0]=i,n.length=1}function it(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function rt(t,e,n,i,a,o){try{t(e,n,i,a,o)}catch(s){r(s,Q(n))}}function at(t,e,n,r,o,c){var u;a(r,function(r,a){var c,l,h,f,d=r.attrName,p=r.optional,v=r.mode;switch(v){case"@":p||xi.call(e,d)||(n[a]=e[d]=void 0),e.$observe(d,function(t){w(t)&&(n[a]=t)}),e.$$observers[d].$$scope=t,w(e[d])&&(n[a]=i(e[d])(t));break;case"=":if(!xi.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;l=s(e[d]),f=l.literal?V:function(t,e){return t===e||t!==t&&e!==e},h=l.assign||function(){throw c=n[a]=l(t),Fr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[d],o.name)},c=n[a]=l(t);var m=function(e){return f(e,n[a])||(f(e,c)?h(t,e=n[a]):n[a]=e),c=e};m.$stateful=!0;var $;$=r.collection?t.$watchCollection(e[d],m):t.$watch(s(e[d],m),null,l.literal),u=u||[],u.push($);break;case"&":if(l=e.hasOwnProperty(d)?s(e[d]):g,l===g&&p)break;n[a]=function(e){return l(t,e)}}});var l=u?function(){for(var t=0,e=u.length;e>t;++t)u[t]()}:g;return c&&l!==g?(c.$on("$destroy",l),g):l}var ot=function(t,e){if(e){var n,i,r,a=Object.keys(e);for(n=0,i=a.length;i>n;n++)r=a[n],this[r]=e[r]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:ue,$addClass:function(t){t&&t.length>0&&k.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&k.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=le(t,e);n&&n.length&&k.addClass(this.$$element,n);var i=le(e,t);i&&i.length&&k.removeClass(this.$$element,i)},$set:function(t,e,n,i){var o,s=this.$$element[0],c=Bt(s,t),u=Ht(t),l=t;if(c?(this.$$element.prop(t,e),i=c):u&&(this[u]=e,l=u),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t],i||(this.$attr[t]=i=ut(t,"-"))),o=R(this.$$element),"a"===o&&"href"===t||"img"===o&&"src"===t)this[t]=e=F(e,"src"===t);else if("img"===o&&"srcset"===t){for(var h="",f=Gi(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(f)?d:/(,)/,g=f.split(p),v=Math.floor(g.length/2),m=0;v>m;m++){var $=2*m;h+=F(Gi(g[$]),!0),h+=" "+Gi(g[$+1])}var b=Gi(g[2*m]).split(/\s/);h+=F(Gi(b[0]),!0),2===b.length&&(h+=" "+Gi(b[1])),this[t]=e=h}n!==!1&&(null===e||y(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e));var x=this.$$observers;x&&a(x[l],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=vt()),r=i[t]||(i[t]=[]);return r.push(e),m.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){I(r,e)}}};var st=i.startSymbol(),ct=i.endSymbol(),lt="{{"==st||"}}"==ct?v:function(t){return t.replace(/\{\{/g,st).replace(/}}/g,ct)},ft=/^ngAttr[A-Z]/;return E.$$addBindingInfo=K?function(t,e){var n=t.data("$binding")||[];Ri(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,E.$$addBindingClass=K?function(t){P(t,"ng-binding")}:g,E.$$addScopeInfo=K?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:g,E.$$addScopeClass=K?function(t,e){P(t,e?"ng-isolate-scope":"ng-scope")}:g,E}]}function ue(t){return St(t.replace(Pr,""))}function le(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var a=0;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o==r[s])continue t;n+=(n.length>0?" ":"")+o}return n}function he(t){t=_i(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Xi&&Fi.call(t,e,1)}return t}function fe(t,e){if(e&&w(e))return e;if(w(t)){var n=Dr.exec(t);if(n)return n[3]}}function de(){var t={},e=!1;this.register=function(e,n){dt(e,"controller"),x(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,a){function o(t,e,n,r){if(!t||!x(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,s,c,u){var l,f,d,p;if(c=c===!0,u&&w(u)&&(p=u),w(i)){if(f=i.match(Dr),!f)throw Er("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);d=f[1],p=p||f[3],i=t.hasOwnProperty(d)?t[d]:pt(s.$scope,d,!0)||(e?pt(a,d,!0):n),ft(i,d,!0)}if(c){var g=(Ri(i)?i[i.length-1]:i).prototype;l=Object.create(g||null),p&&o(s,p,l,d||i.name);var v;return v=h(function(){var t=r.invoke(i,l,s,d);return t!==l&&(x(t)||_(t))&&(l=t,p&&o(s,p,l,d||i.name)),l},{instance:l,identifier:p})}return l=r.instantiate(i,s,d),p&&o(s,p,l,d||i.name),l}}]}function pe(){this.$get=["$window",function(t){return _i(t.document)}]}function ge(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ve(t){return x(t)?K(t)?t.toISOString():z(t):t}function me(){this.$get=function(){return function(t){if(!t)return"";var e=[];return o(t,function(t,n){null===t||y(t)||(Ri(t)?a(t,function(t,i){e.push(it(n)+"="+it(ve(t)))}):e.push(it(n)+"="+it(ve(t))))}),e.join("&")}}}function $e(){this.$get=function(){return function(t){function e(t,i,r){null===t||y(t)||(Ri(t)?a(t,function(t,n){e(t,i+"["+(x(t)?n:"")+"]")}):x(t)&&!K(t)?o(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(it(i)+"="+it(ve(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function ye(t,e){if(w(t)){var n=t.replace(Ir,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Or)||be(n))&&(t=W(n))}}return t}function be(t){var e=t.match(Lr);return e&&Rr[e[0]].test(t)}function xe(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=vt();return w(t)?a(t.split("\n"),function(t){n=t.indexOf(":"),e(bi(Gi(t.substr(0,n))),Gi(t.substr(n+1)))}):x(t)&&a(t,function(t,n){e(bi(n),Gi(t))}),i}function Se(t){var e;return function(n){if(e||(e=xe(t)),n){var i=e[bi(n)];return void 0===i&&(i=null),i}return e}}function we(t,e,n,i){return _(i)?i(t,e,n):(a(i,function(i){t=i(t,e,n)}),t)}function Ce(t){return t>=200&&300>t}function Ke(){var t=this.defaults={transformResponse:[ye],transformRequest:[function(t){return!x(t)||F(t)||E(t)||P(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:j(Nr),put:j(Nr),patch:j(Nr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var r=!0;this.useLegacyPromiseExtensions=function(t){return b(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,c,u,l,f,d){function p(e){function o(t){var e=h({},t);return e.data=t.data?we(t.data,t.headers,t.status,u.transformResponse):t.data,Ce(t.status)?e:f.reject(e)}function s(t,e){var n,i={};return a(t,function(t,r){_(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function c(e){var n,i,r,a=t.headers,o=h({},e.headers);a=h({},a.common,a[bi(e.method)]);t:for(n in a){i=bi(n);for(r in o)if(bi(r)===i)continue t;o[n]=a[n]}return s(o,j(e))}if(!Oi.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var u=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);u.headers=c(e),u.method=Si(u.method),u.paramSerializer=w(u.paramSerializer)?d.get(u.paramSerializer):u.paramSerializer;var l=function(e){var i=e.headers,r=we(e.data,Se(i),n,e.transformRequest);return y(r)&&a(i,function(t,e){"content-type"===bi(e)&&delete i[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,r).then(o,o)},p=[l,n],g=f.when(u);for(a(C,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&p.push(t.response,t.responseError)});p.length;){var v=p.shift(),$=p.shift();g=g.then(v,$)}return r?(g.success=function(t){return ft(t,"fn"),g.then(function(e){t(e.data,e.status,e.headers,u)}),g},g.error=function(t){return ft(t,"fn"),g.then(null,function(e){t(e.data,e.status,e.headers,u)}),g}):(g.success=jr("success"),g.error=jr("error")),g}function g(t){a(arguments,function(t){p[t]=function(e,n){return p(h({},n||{},{method:t,url:e}))}})}function v(t){a(arguments,function(t){p[t]=function(e,n,i){return p(h({},i||{},{method:t,url:e,data:n}))}})}function m(i,r){function a(t,n,i,r){function a(){o(n,t,i,r)}d&&(Ce(t)?d.put(C,[t,n,xe(i),r]):d.remove(C)),e?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}function o(t,e,n,r){e=e>=-1?e:0,(Ce(e)?v.resolve:v.reject)({data:t,status:e,headers:Se(n),config:i,statusText:r})}function u(t){o(t.data,t.status,j(t.headers()),t.statusText)}function h(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var d,g,v=f.defer(),m=v.promise,w=i.headers,C=$(i.url,i.paramSerializer(i.params));if(p.pendingRequests.push(i),m.then(h,h),!i.cache&&!t.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(d=x(i.cache)?i.cache:x(t.cache)?t.cache:S),d&&(g=d.get(C),b(g)?M(g)?g.then(u,u):Ri(g)?o(g[1],g[0],j(g[2]),g[3]):o(g,200,{},"OK"):d.put(C,m)),y(g)){var K=An(i.url)?c()[i.xsrfCookieName||t.xsrfCookieName]:n;K&&(w[i.xsrfHeaderName||t.xsrfHeaderName]=K),s(i.method,C,r,a,w,i.timeout,i.withCredentials,i.responseType)}return m}function $(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var S=u("$http");t.paramSerializer=w(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var C=[];return a(o,function(t){C.unshift(w(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function _e(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ae(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return ke(t,i,t.defer,e.angular.callbacks,n[0])}]}function ke(t,e,n,i,r){function o(t,e,n){var a=r.createElement("script"),o=null;return a.type="text/javascript",a.src=t,a.async=!0,o=function(t){ir(a,"load",o),ir(a,"error",o),r.body.removeChild(a),a=null;var s=-1,c="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),c=t.type,s="error"===t.type?404:200),n&&n(s,c)},nr(a,"load",o),nr(a,"error",o),r.body.appendChild(a),o}return function(r,s,c,u,l,h,f,d){function p(){$&&$(),x&&x.abort()}function v(e,i,r,a,o){b(C)&&n.cancel(C),$=x=null,e(i,r,a,o),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"==bi(r)){var m="_"+(i.counter++).toString(36);i[m]=function(t){i[m].data=t,i[m].called=!0};var $=o(s.replace("JSON_CALLBACK","angular.callbacks."+m),m,function(t,e){v(u,t,i[m].data,"",e),i[m]=g})}else{var x=e(r,s);x.open(r,s,!0),a(l,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==_n(s).protocol?404:0),v(u,n,e,x.getAllResponseHeaders(),t)};var S=function(){v(u,-1,null,null,"")};if(x.onerror=S,x.onabort=S,f&&(x.withCredentials=!0),d)try{x.responseType=d}catch(w){if("json"!==d)throw w}x.send(y(c)?null:c)}if(h>0)var C=n(p,h);else M(h)&&h.then(p)}}function Te(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function a(t){return"\\\\\\"+t}function o(n){return n.replace(f,t).replace(d,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function c(a,c,f,d){function p(t){try{return t=k(t),d&&!b(t)?t:s(t)}catch(e){i(Vr.interr(a,e))}}d=!!d;for(var g,v,m,$=0,x=[],S=[],w=a.length,C=[],K=[];w>$;){if(-1==(g=a.indexOf(t,$))||-1==(v=a.indexOf(e,g+u))){$!==w&&C.push(o(a.substring($)));break}$!==g&&C.push(o(a.substring($,g))),m=a.substring(g+u,v),x.push(m),S.push(n(m,p)),$=v+l,K.push(C.length),C.push("")}if(f&&C.length>1&&Vr.throwNoconcat(a),!c||x.length){var A=function(t){for(var e=0,n=x.length;n>e;e++){if(d&&y(t[e]))return;C[K[e]]=t[e]}return C.join("")},k=function(t){return f?r.getTrusted(f,t):r.valueOf(t)};return h(function(t){var e=0,n=x.length,r=new Array(n);try{for(;n>e;e++)r[e]=S[e](t);return A(r)}catch(o){i(Vr.interr(a,o))}},{exp:a,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(S,function(i,r){var a=A(i);_(e)&&e.call(this,a,i!==r?n:a,t),n=a})}})}}var u=t.length,l=e.length,f=new RegExp(t.replace(/./g,a),"g"),d=new RegExp(e.replace(/./g,a),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function Fe(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,o,s,c){var u=arguments.length>4,l=u?B(arguments,4):[],h=e.setInterval,f=e.clearInterval,d=0,p=b(c)&&!c,g=(p?i:n).defer(),v=g.promise;return s=b(s)?s:0,v.then(null,null,u?function(){r.apply(null,l)}:r),v.$$intervalId=h(function(){g.notify(d++),s>0&&d>=s&&(g.resolve(d),f(v.$$intervalId),delete a[v.$$intervalId]),p||t.$apply()},o),a[v.$$intervalId]=g,v}var a={};return r.cancel=function(t){return t&&t.$$intervalId in a?(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0):!1},r}]}function Pe(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function Ee(t,e){var n=_n(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||Br[n.protocol]||null}function De(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=_n(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=tt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Me(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Oe(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ne(t){return t.replace(/(#.+)|#$/,"$1")}function Le(t){return t.substr(0,Oe(t).lastIndexOf("/")+1)}function Re(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ie(t,e,n){this.$$html5=!0,n=n||"",Ee(t,this),this.$$parse=function(t){var n=Me(e,t);if(!w(n))throw Hr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);De(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),n=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Pe(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o,s;return b(a=Me(t,i))?(o=a,s=b(a=Me(n,a))?e+(Me("/",a)||a):t+o):b(a=Me(e,i))?s=e+a:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function Ge(t,e,n){Ee(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var a,o=Me(t,i)||Me(e,i);y(o)||"#"!==o.charAt(0)?this.$$html5?a=o:(a="",y(o)&&(t=i,this.replace())):(a=Me(n,o),y(a)&&(a=o)),De(a,this),this.$$path=r(this.$$path,a,t),this.$$compose()},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Pe(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Oe(t)==Oe(e)?(this.$$parse(e),!0):!1}}function je(t,e,n){this.$$html5=!0,Ge.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return t==Oe(i)?a=i:(o=Me(e,i))?a=t+n+o:e===i+"/"&&(a=e),a&&this.$$parse(a),!!a},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Pe(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Ve(t){return function(){return this[t]}}function Ue(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Be(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return D(t)?(e.enabled=t,this):x(t)?(D(t.enabled)&&(e.enabled=t.enabled),D(t.requireBase)&&(e.requireBase=t.requireBase),D(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,a,o){function s(t,e,n){var r=u.url(),a=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(o){throw u.url(r),u.$$state=a,o}}function c(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,l,h,f=i.baseHref(),d=i.url();if(e.enabled){if(!f&&e.requireBase)throw Hr("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Re(d)+(f||"/"),l=r.history?Ie:je}else h=Oe(d),l=Ge;var p=Le(h);u=new l(h,p,"#"+t),u.$$parseLinkUrl(d,d),u.$$state=i.state();var g=/^\s*(javascript|mailto):/i;a.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=_i(t.target);"a"!==R(r[0]);)if(r[0]===a[0]||!(r=r.parent())[0])return;var s=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");x(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=_n(s.animVal).href),g.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,c)&&(t.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),Ne(u.absUrl())!=Ne(d)&&i.url(u.absUrl(),!0);var v=!0;return i.onUrlChange(function(t,e){return y(Me(p,t))?void(o.location.href=t):(n.$evalAsync(function(){var i,r=u.absUrl(),a=u.$$state;u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,a).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=a,s(r,!1,a)):(v=!1,c(r,a)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=Ne(i.url()),e=Ne(u.absUrl()),a=i.state(),o=u.$$replace,l=t!==e||u.$$html5&&r.history&&a!==u.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,a).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=a):(l&&s(e,o,a===u.$$state?null:u.$$state),c(t,a)))})),u.$$replace=!1}),u}]}function He(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||g,o=!1;try{o=!!r.apply}catch(s){}return o?function(){var t=[];return a(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function qe(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw zr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function ze(t,e){if(t+="",!w(t))throw zr("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function We(t,e){if(t){if(t.constructor===t)throw zr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw zr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw zr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw zr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ye(t,e){if(t){if(t.constructor===t)throw zr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Wr||t===Yr||t===Xr)throw zr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Xe(t,e){if(t&&(t===0..constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw zr("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function Je(t,e){return"undefined"!=typeof t?t:e}function Qe(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Ze(t,e){var n=t(e);return!n.$stateful}function tn(t,e){var n,i;switch(t.type){case ta.Program:n=!0,a(t.body,function(t){tn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case ta.Literal:t.constant=!0,t.toWatch=[];break;case ta.UnaryExpression:tn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case ta.BinaryExpression:tn(t.left,e),tn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case ta.LogicalExpression:tn(t.left,e),tn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case ta.ConditionalExpression:tn(t.test,e),tn(t.alternate,e),tn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case ta.Identifier:t.constant=!1,t.toWatch=[t];break;case ta.MemberExpression:tn(t.object,e),t.computed&&tn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case ta.CallExpression:n=t.filter?Ze(e,t.callee.name):!1,i=[],a(t.arguments,function(t){tn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Ze(e,t.callee.name)?i:[t];break;case ta.AssignmentExpression:tn(t.left,e),tn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case ta.ArrayExpression:n=!0,i=[],a(t.elements,function(t){tn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case ta.ObjectExpression:n=!0,i=[],a(t.properties,function(t){tn(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case ta.ThisExpression:t.constant=!1,t.toWatch=[]}}function en(t){if(1==t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length?i:i[0]!==e?i:n}}function nn(t){return t.type===ta.Identifier||t.type===ta.MemberExpression}function rn(t){return 1===t.body.length&&nn(t.body[0].expression)?{type:ta.AssignmentExpression,left:t.body[0].expression,right:{type:ta.NGValueParameter},operator:"="}:void 0}function an(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===ta.Literal||t.body[0].expression.type===ta.ArrayExpression||t.body[0].expression.type===ta.ObjectExpression)}function on(t){return t.constant}function sn(t,e){this.astBuilder=t,this.$filter=e}function cn(t,e){this.astBuilder=t,this.$filter=e}function un(t){return"constructor"==t}function ln(t){return _(t.valueOf)?t.valueOf():na.call(t)}function hn(){var t=vt(),e=vt();this.$get=["$filter",function(i){function r(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=ln(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function o(t,e,i,a,o){var s,c=a.inputs;if(1===c.length){var u=r;return c=c[0],t.$watch(function(t){var e=c(t);return r(e,u)||(s=a(t,n,n,[e]),u=e&&ln(e)),s},e,i,o)}for(var l=[],h=[],f=0,d=c.length;d>f;f++)l[f]=r,h[f]=null;return t.$watch(function(t){for(var e=!1,i=0,o=c.length;o>i;i++){var u=c[i](t);(e||(e=!r(u,l[i])))&&(h[i]=u,l[i]=u&&ln(u))}return e&&(s=a(t,n,n,h)),s},e,i,o)}function s(t,e,n,i){var r,a;return r=t.$watch(function(t){return i(t)},function(t,n,i){a=t,_(e)&&e.apply(this,arguments),b(t)&&i.$$postDigest(function(){b(a)&&r()})},n)}function c(t,e,n,i){function r(t){var e=!0;return a(t,function(t){b(t)||(e=!1)}),e}var o,s;return o=t.$watch(function(t){return i(t)},function(t,n,i){s=t,_(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(s)&&o()})},n)}function u(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){_(e)&&e.apply(this,arguments),r()},n)}function l(t,e){if(!e)return t;var n=t.$$watchDelegate,i=n!==c&&n!==s,r=i?function(n,i,r,a){var o=t(n,i,r,a);return e(o,n,i)}:function(n,i,r,a){var o=t(n,i,r,a),s=e(o,n,i);return b(o)?s:o};return t.$$watchDelegate&&t.$$watchDelegate!==o?r.$$watchDelegate=t.$$watchDelegate:e.$stateful||(r.$$watchDelegate=o,r.inputs=t.inputs?t.inputs:[t]),r}var h=Vi().noUnsafeEval,f={csp:h,expensiveChecks:!1},d={csp:h,expensiveChecks:!0};return function(n,r,a){var h,p,v;switch(typeof n){case"string":n=n.trim(),v=n;var m=a?e:t;if(h=m[v],!h){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var $=a?d:f,y=new Zr($),b=new ea(y,i,$);h=b.parse(n),h.constant?h.$$watchDelegate=u:p?h.$$watchDelegate=h.literal?c:s:h.inputs&&(h.$$watchDelegate=o),m[v]=h}return l(h,r);case"function":return l(n,r);default:return g}}}]}function fn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return pn(function(e){t.$evalAsync(e)},e)}]}function dn(){this.$get=["$browser","$exceptionHandler",function(t,e){return pn(function(e){t.defer(e)},e)}]}function pn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function o(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function c(t){var i,r,a;a=t.pending,t.processScheduled=!1,t.pending=n;for(var o=0,s=a.length;s>o;++o){r=a[o][0],i=a[o][t.status];try{_(i)?r.resolve(i(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(c){r.reject(c),e(c)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){c(e)}))}function l(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new l,n=0,i=Ri(t)?[]:{};return a(t,function(t,r){n++,$(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var d=i("$q",TypeError),p=function(){return new l};h(o.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&u(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}}),h(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(x(t)||_(t))&&(n=t&&t.then),_(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(a){i[1](a),e(a)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,a=0,o=i.length;o>a;a++){r=i[a][0],t=i[a][3];try{r.notify(_(t)?t(n):n)}catch(s){e(s)}}})}});var g=function(t){var e=new l;return e.reject(t),e.promise},v=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){
var i=null;try{_(n)&&(i=n())}catch(r){return v(r,!1)}return M(i)?i.then(function(){return v(t,e)},function(t){return v(t,!1)}):v(t,e)},$=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},b=$,S=function w(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!_(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var i=new l;return t(e,n),i.promise};return S.defer=p,S.reject=g,S.when=$,S.resolve=b,S.all=f,S}function gn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return a.supported=r,a}]}function vn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),o=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,u,l,h){function f(t){t.currentScope.$$destroyed=!0}function d(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function v(){C.$$phase=null}function m(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function $(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function b(){}function S(){for(;k.length;)try{k.shift()()}catch(t){u(t)}s=null}function w(){null===s&&(s=h.defer(function(){C.$apply(S)}))}d.prototype={constructor:d,$new:function(e,n){var i;return n=n||this,e?(i=new d,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",f),i},$watch:function(t,e,n,i){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var a=this,s=a.$$watchers,c={fn:e,last:b,get:r,exp:i||t,eq:!!n};return o=null,_(e)||(c.fn=g),s||(s=a.$$watchers=[]),s.unshift(c),m(this,1),function(){I(s,c)>=0&&m(a,-1),o=null}},$watchGroup:function(t,e){function n(){c=!1,u?(u=!1,e(r,r,s)):e(r,i,s)}var i=new Array(t.length),r=new Array(t.length),o=[],s=this,c=!1,u=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(r,r,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,a){r[0]=t,i[0]=n,e(r,t===n?r:i,a)}):(a(t,function(t,e){var a=s.$watch(t,function(t,a){r[e]=t,i[e]=a,c||(c=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(t,e){function n(t){a=t;var e,n,i,s,c;if(!y(a)){if(x(a))if(r(a)){o!==d&&(o=d,v=o.length=0,h++),e=a.length,v!==e&&(h++,o.length=v=e);for(var u=0;e>u;u++)c=o[u],s=a[u],i=c!==c&&s!==s,i||c===s||(h++,o[u]=s)}else{o!==p&&(o=p={},v=0,h++),e=0;for(n in a)xi.call(a,n)&&(e++,s=a[n],c=o[n],n in o?(i=c!==c&&s!==s,i||c===s||(h++,o[n]=s)):(v++,o[n]=s,h++));if(v>e){h++;for(n in o)xi.call(a,n)||(v--,delete o[n])}}else o!==a&&(o=a,h++);return h}}function i(){if(g?(g=!1,e(a,a,c)):e(a,s,c),u)if(x(a))if(r(a)){s=new Array(a.length);for(var t=0;t<a.length;t++)s[t]=a[t]}else{s={};for(var n in a)xi.call(a,n)&&(s[n]=a[n])}else s=a}n.$stateful=!0;var a,o,s,c=this,u=e.length>1,h=0,f=l(t,n),d=[],p={},g=!0,v=0;return this.$watch(f,i)},$digest:function(){var t,i,r,a,c,l,f,d,g,m,$=e,y=this,x=[];p("$digest"),h.$$checkUrlChange(),this===C&&null!==s&&(h.defer.cancel(s),S()),o=null;do{for(l=!1,d=y;K.length;){try{m=K.shift(),m.scope.$eval(m.expression,m.locals)}catch(w){u(w)}o=null}t:do{if(a=d.$$watchers)for(c=a.length;c--;)try{if(t=a[c])if((i=t.get(d))===(r=t.last)||(t.eq?V(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===o){l=!1;break t}}else l=!0,o=t,t.last=t.eq?G(i,null):i,t.fn(i,r===b?i:r,d),5>$&&(g=4-$,x[g]||(x[g]=[]),x[g].push({msg:_(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch(w){u(w)}if(!(f=d.$$watchersCount&&d.$$childHead||d!==y&&d.$$nextSibling))for(;d!==y&&!(f=d.$$nextSibling);)d=d.$parent}while(d=f);if((l||K.length)&&!$--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(l||K.length);for(v();A.length;)try{A.shift()()}catch(w){u(w)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&h.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var e in this.$$listenerCount)$(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){C.$$phase||K.length||h.defer(function(){K.length&&C.$digest()}),K.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){A.push(t)},$apply:function(t){try{p("$apply");try{return this.$eval(t)}finally{v()}}catch(e){u(e)}finally{try{C.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&k.push(e),w()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,$(r,1,t))}},$emit:function(t,e){var n,i,r,a=[],o=this,s=!1,c={name:t,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=U([c],arguments,1);do{for(n=o.$$listeners[t]||a,c.currentScope=o,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,l)}catch(h){u(h)}else n.splice(i,1),i--,r--;if(s)return c.currentScope=null,c;o=o.$parent}while(o);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,i=n,r=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var o,s,c,l=U([a],arguments,1);i=r;){for(a.currentScope=i,o=i.$$listeners[t]||[],s=0,c=o.length;c>s;s++)if(o[s])try{o[s].apply(null,l)}catch(h){u(h)}else o.splice(s,1),s--,c--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var C=new d,K=C.$$asyncQueue=[],A=C.$$postDigestQueue=[],k=C.$$applyAsyncQueue=[];return C}]}function mn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,a=i?e:t;return r=_n(n).href,""===r||r.match(a)?n:"unsafe:"+r}}}function $n(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw ia("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=ji(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(A(t))return new RegExp("^"+t.source+"$");throw ia("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(t){var e=[];return b(t)&&a(t,function(t){e.push($n(t))}),e}function bn(){this.SCE_CONTEXTS=ra;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=yn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=yn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?An(e):!!t.exec(e.href)}function r(n){var r,a,o=_n(n.toString()),s=!1;for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!0;break}if(s)for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function o(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw ia("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw ia("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||y(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===ra.RESOURCE_URL){if(r(e))return e;throw ia("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===ra.HTML)return u(e);throw ia("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw ia("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var l=a(),h={};return h[ra.HTML]=a(l),h[ra.CSS]=a(l),h[ra.URL]=a(l),h[ra.JS]=a(l),h[ra.RESOURCE_URL]=a(h[ra.URL]),{trustAs:o,getTrusted:c,valueOf:s}}]}function xn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Ki)throw ia("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=j(ra);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=v),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return a(ra,function(t,e){var n=bi(e);i[St("parse_as_"+n)]=function(e){return r(t,e)},i[St("get_trusted_"+n)]=function(e){return o(t,e)},i[St("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function Sn(){this.$get=["$window","$document",function(t,e){var n,i,r={},a=d((/android (\d+)/.exec(bi((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,l=!1,h=!1;if(u){for(var f in u)if(i=c.exec(f)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),l=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!a||l&&h||(l=w(u.webkitTransition),h=w(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>a||o),hasEvent:function(t){if("input"===t&&11>=Ki)return!1;if(y(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:Vi(),vendorPrefix:n,transitions:l,animations:h,android:a}}]}function wn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(a,o){function s(t){if(!o)throw Fr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText);return n.reject(t)}r.totalPendingRequests++,w(a)&&t.get(a)||(a=i.getTrustedResourceUrl(a));var c=e.defaults&&e.defaults.transformResponse;Ri(c)?c=c.filter(function(t){return t!==ye}):c===ye&&(c=null);var u={cache:t,transformResponse:c};return e.get(a,u)["finally"](function(){r.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},s)}return r.totalPendingRequests=0,r}]}function Cn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return a(i,function(t){var i=Oi.element(t).data("$binding");i&&a(i,function(i){if(n){var a=new RegExp("(^|\\s)"+ji(e)+"(\\s|\\||$)");a.test(i)&&r.push(t)}else-1!=i.indexOf(e)&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=n?"=":"*=",o="["+i[r]+"model"+a+'"'+e+'"]',s=t.querySelectorAll(o);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function a(a,s,c){_(a)||(c=s,s=a,a=g);var u,l=B(arguments,3),h=b(c)&&!c,f=(h?i:n).defer(),d=f.promise;return u=e.defer(function(){try{f.resolve(a.apply(null,l))}catch(e){f.reject(e),r(e)}finally{delete o[d.$$timeoutId]}h||t.$apply()},s),d.$$timeoutId=u,o[u]=f,d}var o={};return a.cancel=function(t){return t&&t.$$timeoutId in o?(o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},a}]}function _n(t){var e=t;return Ki&&(aa.setAttribute("href",e),e=aa.href),aa.setAttribute("href",e),{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:aa.hostname,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}}function An(t){var e=w(t)?_n(t):t;return e.protocol===oa.protocol&&e.host===oa.host}function kn(){this.$get=m(t)}function Tn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,a,o,s,c,u=n.cookie||"";if(u!==r)for(r=u,t=r.split("; "),i={},o=0;o<t.length;o++)a=t[o],s=a.indexOf("="),s>0&&(c=e(a.substring(0,s)),y(i[c])&&(i[c]=e(a.substring(s+1))));return i}}function Fn(){this.$get=Tn}function Pn(t){function e(i,r){if(x(i)){var o={};return a(i,function(t,n){o[n]=e(n,t)}),o}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Nn),e("date",Yn),e("filter",En),e("json",Xn),e("limitTo",Jn),e("lowercase",ha),e("number",Ln),e("orderBy",Qn),e("uppercase",fa)}function En(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var a,o,s=On(e);switch(s){case"function":a=e;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":a=Dn(e,n,o);break;default:return t}return Array.prototype.filter.call(t,a)}}function Dn(t,e,n){var i,r=x(t)&&"$"in t;return e===!0?e=V:_(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:x(e)||x(t)&&!$(t)?!1:(t=bi(""+t),e=bi(""+e),-1!==t.indexOf(e))}),i=function(i){return r&&!x(i)?Mn(i,t.$,e,!1):Mn(i,t,e,n)}}function Mn(t,e,n,i,r){var a=On(t),o=On(e);if("string"===o&&"!"===e.charAt(0))return!Mn(t,e.substring(1),n,i);if(Ri(t))return t.some(function(t){return Mn(t,e,n,i)});switch(a){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&Mn(t[s],e,n,!0))return!0;return r?!1:Mn(t,e,n,!1)}if("object"===o){for(s in e){var c=e[s];if(!_(c)&&!y(c)){var u="$"===s,l=u?t:t[s];if(!Mn(l,c,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function On(t){return null===t?"null":typeof t}function Nn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return y(n)&&(n=e.CURRENCY_SYM),y(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Rn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Ln(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Rn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Rn(t,e,n,i,r){if(x(t))return"";var a=0>t;t=Math.abs(t);var o=t===1/0;if(!o&&!isFinite(t))return"";var s=t+"",c="",u=!1,l=[];if(o&&(c="∞"),!o&&-1!==s.indexOf("e")){var h=s.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>r+1?t=0:(c=s,u=!0)}if(o||u)r>0&&1>t&&(c=t.toFixed(r),t=parseFloat(c),c=c.replace(sa,i));else{var f=(s.split(sa)[1]||"").length;y(r)&&(r=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var d=(""+t).split(sa),p=d[0];d=d[1]||"";var g,v=0,m=e.lgSize,$=e.gSize;if(p.length>=m+$)for(v=p.length-m,g=0;v>g;g++)(v-g)%$===0&&0!==g&&(c+=n),c+=p.charAt(g);for(g=v;g<p.length;g++)(p.length-g)%m===0&&0!==g&&(c+=n),c+=p.charAt(g);for(;d.length<r;)d+="0";r&&"0"!==r&&(c+=i+d.substr(0,r))}return 0===t&&(a=!1),l.push(a?e.negPre:e.posPre,c,a?e.negSuf:e.posSuf),l.join("")}function In(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Gn(t,e,n,i){return n=n||0,function(r){var a=r["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),In(a,e,i)}}function jn(t,e){return function(n,i){var r=n["get"+t](),a=Si(e?"SHORT"+t:t);return i[a][r]}}function Vn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=In(Math[i>0?"floor":"ceil"](i/60),2)+In(Math.abs(i%60),2)}function Un(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Bn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Hn(t){return function(e){var n=Un(e.getFullYear()),i=Bn(e),r=+i-+n,a=1+Math.round(r/6048e5);return In(a,t)}}function qn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function zn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Wn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Yn(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,a=0,o=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=d(e[9]+e[10]),a=d(e[9]+e[11])),o.call(i,d(e[1]),d(e[2])-1,d(e[3]));var c=d(e[4]||0)-r,u=d(e[5]||0)-a,l=d(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,c,u,l,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,s,c="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,w(n)&&(n=la.test(n)?d(n):e(n)),C(n)&&(n=new Date(n)),!K(n)||!isFinite(n.getTime()))return n;for(;i;)s=ua.exec(i),s?(u=U(u,s,1),i=u.pop()):(u.push(i),i=null);var l=n.getTimezoneOffset();return r&&(l=Y(r,n.getTimezoneOffset()),n=J(n,r,!0)),a(u,function(e){o=ca[e],c+=o?o(n,t.DATETIME_FORMATS,l):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Xn(){return function(t,e){return y(e)&&(e=2),z(t,e)}}function Jn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):d(e),isNaN(e)?t:(C(t)&&(t=t.toString()),Ri(t)||w(t)?(n=!n||isNaN(n)?0:d(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Qn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var i=1,r=v;if(_(e))r=e;else if(w(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var a=r();r=function(t){return t[a]}}return{get:r,descending:i*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:$(t)&&(t=t.toString(),n(t))?t:e}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=i(t,e)),{value:t,type:n}}function o(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,i){function s(t,e){return{value:t,predicateValues:u.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,i=0,r=u.length;r>i&&!(n=o(t.predicateValues[i],e.predicateValues[i])*u[i].descending);++i);return n}if(!r(t))return t;Ri(n)||(n=[n]),0===n.length&&(n=["+"]);var u=e(n,i);u.push({get:function(){return{}},descending:i?-1:1});var l=Array.prototype.map.call(t,s);return l.sort(c),t=l.map(function(t){return t.value})}}function Zn(t){return _(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function ti(t,e){t.$name=e}function ei(t,e,i,r,o){var s=this,c=[];s.$error={},s.$$success={},s.$pending=n,s.$name=o(e.name||e.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=ga,s.$rollbackViewValue=function(){a(c,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){a(c,function(t){t.$commitViewValue()})},s.$addControl=function(t){dt(t.$name,"input"),c.push(t),t.$name&&(s[t.$name]=t),t.$$parentForm=s},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],a(s.$pending,function(e,n){s.$setValidity(n,null,t)}),a(s.$error,function(e,n){s.$setValidity(n,null,t)}),a(s.$$success,function(e,n){s.$setValidity(n,null,t)}),I(c,t),t.$$parentForm=ga},vi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(I(i,n),0===i.length&&delete t[e])},$animate:r}),s.$setDirty=function(){r.removeClass(t,Ja),r.addClass(t,Qa),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){r.setClass(t,Ja,Qa+" "+va),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(c,function(t){t.$setPristine()})},s.$setUntouched=function(){a(c,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,va),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function ni(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ii(t,e,n,i,r,a){ri(t,e,n,i,r,a),ni(i)}function ri(t,e,n,i,r,a){var o=bi(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,c()})}var c=function(t){if(u&&(a.defer.cancel(u),u=null),!s){var r=e.val(),c=t&&t.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=Gi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))e.on("input",c);else{var u,l=function(t,e,n){u||(u=a.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||l(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function ai(t,e){if(K(t))return t;if(w(t)){_a.lastIndex=0;var n=_a.exec(t);if(n){var i=+n[1],r=+n[2],a=0,o=0,s=0,c=0,u=Un(i),l=7*(r-1);return e&&(a=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),c=e.getMilliseconds()),new Date(i,0,u.getDate()+l,a,o,s,c)}}return 0/0}function oi(t,e){return function(n,i){var r,o;if(K(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ba.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,function(t,n){n<e.length&&(o[e[n]]=+t)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return 0/0}}function si(t,e,i,r){return function(a,o,s,c,u,l,h){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return b(t)&&!K(t)?i(t)||n:t}ci(a,o,s,c),ri(a,o,s,c,u,l);var p,g=c&&c.$options&&c.$options.timezone;if(c.$$parserName=t,c.$parsers.push(function(t){if(c.$isEmpty(t))return null;if(e.test(t)){var r=i(t,p);return g&&(r=J(r,g)),r}return n}),c.$formatters.push(function(t){if(t&&!K(t))throw no("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&g&&(p=J(p,g,!0)),h("date")(t,r,g)):(p=null,"")}),b(s.min)||s.ngMin){var v;c.$validators.min=function(t){return!f(t)||y(v)||i(t)>=v},s.$observe("min",function(t){v=d(t),c.$validate()})}if(b(s.max)||s.ngMax){var m;c.$validators.max=function(t){return!f(t)||y(m)||i(t)<=m},s.$observe("max",function(t){m=d(t),c.$validate()})}}}function ci(t,e,i,r){var a=e[0],o=r.$$hasNativeValidators=x(a.validity);o&&r.$parsers.push(function(t){var i=e.prop(yi)||{};return i.badInput&&!i.typeMismatch?n:t})}function ui(t,e,i,r,a,o){if(ci(t,e,i,r),ri(t,e,i,r,a,o),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:wa.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!C(t))throw no("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),b(i.min)||i.ngMin){var s;r.$validators.min=function(t){return r.$isEmpty(t)||y(s)||t>=s},i.$observe("min",function(t){b(t)&&!C(t)&&(t=parseFloat(t,10)),s=C(t)&&!isNaN(t)?t:n,r.$validate()})}if(b(i.max)||i.ngMax){var c;r.$validators.max=function(t){return r.$isEmpty(t)||y(c)||c>=t},i.$observe("max",function(t){b(t)&&!C(t)&&(t=parseFloat(t,10)),c=C(t)&&!isNaN(t)?t:n,r.$validate()})}}function li(t,e,n,i,r,a){ri(t,e,n,i,r,a),ni(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||xa.test(n)}}function hi(t,e,n,i,r,a){ri(t,e,n,i,r,a),ni(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Sa.test(n)}}function fi(t,e,n,i){y(n.name)&&e.attr("name",c());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function di(t,e,n,i,r){var a;if(b(i)){if(a=t(i),!a.constant)throw no("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return r}function pi(t,e,n,i,r,a,o,s){var c=di(s,t,"ngTrueValue",n.ngTrueValue,!0),u=di(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return V(t,c)}),i.$parsers.push(function(t){return t?c:u})}function gi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],a=0;a<e.length;a++)if(r==e[a])continue t;n.push(r)}return n}function r(t){var e=[];return Ri(t)?(a(t,function(t){e=e.concat(r(t))}),e):w(t)?t.split(" "):x(t)?(a(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(o,s,c){function u(t){var e=h(t,1);c.$addClass(e)}function l(t){var e=h(t,-1);c.$removeClass(e)}function h(t,e){var n=s.data("$classCounts")||vt(),i=[];return a(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function f(t,e){var r=i(e,t),a=i(t,e);r=h(r,1),a=h(a,-1),r&&r.length&&n.addClass(s,r),a&&a.length&&n.removeClass(s,a)}function d(t){if(e===!0||o.$index%2===e){var n=r(t||[]);if(p){if(!V(t,p)){var i=r(p);f(i,n)}}else u(n)}p=j(t)}var p;o.$watch(c[t],d,!0),c.$observe("class",function(e){d(o.$eval(c[t]))}),"ngClass"!==t&&o.$watch("$index",function(n,i){var a=1&n;if(a!==(1&i)){var s=r(o.$eval(c[t]));a===e?u(s):l(s)}})}}}]}function vi(t){function e(t,e,c){y(e)?i("$pending",t,c):r("$pending",t,c),D(e)?e?(h(s.$error,t,c),l(s.$$success,t,c)):(l(s.$error,t,c),h(s.$$success,t,c)):(h(s.$error,t,c),h(s.$$success,t,c)),s.$pending?(a(eo,!0),s.$valid=s.$invalid=n,o("",null)):(a(eo,!1),s.$valid=mi(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var u;u=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,o(t,u),s.$$parentForm.$setValidity(t,u,s)}function i(t,e,n){s[t]||(s[t]={}),l(s[t],e,n)}function r(t,e,i){s[t]&&h(s[t],e,i),mi(s[t])&&(s[t]=n)}function a(t,e){e&&!u[t]?(f.addClass(c,t),u[t]=!0):!e&&u[t]&&(f.removeClass(c,t),u[t]=!1)}function o(t,e){t=t?"-"+ut(t,"-"):"",a(Ya+t,e===!0),a(Xa+t,e===!1)}var s=t.ctrl,c=t.$element,u={},l=t.set,h=t.unset,f=t.$animate;u[Xa]=!(u[Ya]=c.hasClass(Ya)),s.$setValidity=e}function mi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var $i=/^\/(.+)\/([a-z]*)$/,yi="validity",bi=function(t){return w(t)?t.toLowerCase():t},xi=Object.prototype.hasOwnProperty,Si=function(t){return w(t)?t.toUpperCase():t},wi=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Ci=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(bi=wi,Si=Ci);var Ki,_i,Ai,ki,Ti=[].slice,Fi=[].splice,Pi=[].push,Ei=Object.prototype.toString,Di=Object.getPrototypeOf,Mi=i("ng"),Oi=t.angular||(t.angular={}),Ni=0;Ki=e.documentMode,g.$inject=[],v.$inject=[];var Li,Ri=Array.isArray,Ii=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Gi=function(t){return w(t)?t.trim():t},ji=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Vi=function(){function t(){try{return new Function(""),!1}catch(t){return!0}}if(!b(Vi.rules)){var n=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Vi.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Vi.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Vi.rules},Ui=function(){if(b(Ui.name_))return Ui.name_;var t,n,i,r,a=Bi.length;for(n=0;a>n;++n)if(i=Bi[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Ui.name_=r},Bi=["ng-","data-ng-","ng:","x-ng-"],Hi=/[A-Z]/g,qi=!1,zi=1,Wi=2,Yi=3,Xi=8,Ji=9,Qi=11,Zi={full:"1.4.7",major:1,minor:4,dot:7,codeName:"dark-luminescence"};kt.expando="ng339";var tr=kt.cache={},er=1,nr=function(t,e,n){t.addEventListener(e,n,!1)},ir=function(t,e,n){t.removeEventListener(e,n,!1)};kt._data=function(t){return this.cache[t[this.expando]]||{}};var rr=/([\:\-\_]+(.))/g,ar=/^moz([A-Z])/,or={mouseleave:"mouseout",mouseenter:"mouseover"},sr=i("jqLite"),cr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ur=/<|&#?\w+;/,lr=/<([\w:-]+)/,hr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,fr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fr.optgroup=fr.option,fr.tbody=fr.tfoot=fr.colgroup=fr.caption=fr.thead,fr.th=fr.td;var dr=kt.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),kt(t).on("load",i))},toString:function(){var t=[];return a(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return _i(t>=0?this[t]:this[this.length+t])},length:0,push:Pi,sort:[].sort,splice:[].splice},pr={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){pr[bi(t)]=t});var gr={};a("input,select,option,textarea,button,form,details".split(","),function(t){gr[t]=!0});var vr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:Mt,removeData:Et,hasData:Kt},function(t,e){kt[e]=t}),a({data:Mt,inheritedData:Gt,scope:function(t){return _i.data(t,"$scope")||Gt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return _i.data(t,"$isolateScope")||_i.data(t,"$isolateScopeNoTemplate")},controller:It,injector:function(t){return Gt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ot,css:function(t,e,n){return e=St(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==Yi&&r!==Wi&&r!==Xi){var a=bi(e);if(pr[a]){if(!b(i))return t[e]||(t.attributes.getNamedItem(e)||g).specified?a:n;i?(t[e]=!0,t.setAttribute(e,a)):(t[e]=!1,t.removeAttribute(a))}else if(b(i))t.setAttribute(e,i);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?n:o}}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){
if(y(e)){var n=t.nodeType;return n===zi||n===Yi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===R(t)){var n=[];return a(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(Ft(t,!0),void(t.innerHTML=e))},empty:jt},function(t,e){kt.prototype[e]=function(e,n){var i,r,a=this.length;if(t!==jt&&y(2==t.length&&t!==Ot&&t!==It?e:n)){if(x(e)){for(i=0;a>i;i++)if(t===Mt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var o=t.$dv,s=y(o)?Math.min(a,1):a,c=0;s>c;c++){var u=t(this[c],e,n);o=o?o+u:u}return o}for(i=0;a>i;i++)t(this[i],e,n);return this}}),a({removeData:Et,on:function Do(t,e,n,i){if(b(i))throw sr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ct(t)){var r=Dt(t,!0),a=r.events,o=r.handle;o||(o=r.handle=qt(t,a));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],c=s.length;c--;){e=s[c];var u=a[e];u||(a[e]=[],"mouseenter"===e||"mouseleave"===e?Do(t,or[e],function(t){var n=this,i=t.relatedTarget;(!i||i!==n&&!n.contains(i))&&o(t,e)}):"$destroy"!==e&&nr(t,e,o),u=a[e]),u.push(n)}}},off:Pt,one:function(t,e,n){t=_i(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Ft(t),a(new kt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return a(t.childNodes,function(t){t.nodeType===zi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===zi||n===Qi){e=new kt(e);for(var i=0,r=e.length;r>i;i++){var a=e[i];t.appendChild(a)}}},prepend:function(t,e){if(t.nodeType===zi){var n=t.firstChild;a(new kt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=_i(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Vt,detach:function(t){Vt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new kt(e);for(var r=0,a=e.length;a>r;r++){var o=e[r];i.insertBefore(o,n.nextSibling),n=o}},addClass:Lt,removeClass:Nt,toggleClass:function(t,e,n){e&&a(e.split(" "),function(e){var i=n;y(i)&&(i=!Ot(t,e)),(i?Lt:Nt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Qi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Tt,triggerHandler:function(t,e,n){var i,r,o,s=e.type||e,c=Dt(t),u=c&&c.events,l=u&&u[s];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(i=h(i,e)),r=j(l),o=n?[i].concat(n):[i],a(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(t,e){kt.prototype[e]=function(e,n,i){for(var r,a=0,o=this.length;o>a;a++)y(r)?(r=t(this[a],e,n,i),b(r)&&(r=_i(r))):Rt(r,t(this[a],e,n,i));return b(r)?r:this},kt.prototype.bind=kt.prototype.on,kt.prototype.unbind=kt.prototype.off}),Yt.prototype={put:function(t,e){this[Wt(t,this.nextUid)]=e},get:function(t){return this[Wt(t,this.nextUid)]},remove:function(t){var e=this[t=Wt(t,this.nextUid)];return delete this[t],e}};var mr=[function(){this.$get=[function(){return Yt}]}],$r=/^[^\(]*\(\s*([^\)]*)\)/m,yr=/,/,br=/^\s*(_?)(\S+?)\1\s*$/,xr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Sr=i("$injector");Qt.$$annotate=Jt;var wr=i("$animate"),Cr=1,Kr="ng-animate",_r=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,i){return t(function(t){e(function(){t()})}).then(n,i)}},n}]},Ar=function(){var t=new Yt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=w(e)?e.split(" "):Ri(e)?e:[],a(e,function(e){e&&(i=!0,t[e]=n)})),i}function o(){a(e,function(e){var n=t.get(e);if(n){var i=ne(e.attr("class")),r="",o="";a(n,function(t,e){var n=!!i[e];t!==n&&(t?r+=(r.length?" ":"")+e:o+=(o.length?" ":"")+e)}),a(e,function(t){r&&Lt(t,r),o&&Nt(t,o)}),t.remove(e)}}),e.length=0}function s(n,a,s){var c=t.get(n)||{},u=r(c,a,!0),l=r(c,s,!1);(u||l)&&(t.put(n,c),e.push(n),1===e.length&&i.$$postDigest(o))}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,i,r){return r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass),new n}}}]},kr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw wr("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Kr+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw wr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Kr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=ee(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,a){return i=i&&_i(i),r=r&&_i(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",ie(a))},move:function(n,i,r,a){return i=i&&_i(i),r=r&&_i(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",ie(a))},leave:function(e,n){return t.push(e,"leave",ie(n),function(){e.remove()})},addClass:function(e,n,i){return i=ie(i),i.addClass=te(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ie(i),i.removeClass=te(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=ie(r),r.addClass=te(r.addClass,n),r.removeClass=te(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,a){return a=ie(a),a.from=a.from?h(a.from,n):n,a.to=a.to?h(a.to,i):i,r=r||"ng-inline-animate",a.tempClasses=te(a.tempClasses,r),t.push(e,"animate",a)}}}]}],Tr=function(){this.$get=["$$rAF","$q",function(t,e){var n=function(){};return n.prototype={done:function(t){this.defer&&this.defer[t===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=e.defer()),this.defer.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)}},function(e,i){function r(){return t(function(){a(),o||s.done(),o=!0}),s}function a(){i.addClass&&(e.addClass(i.addClass),i.addClass=null),i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null),i.to&&(e.css(i.to),i.to=null)}i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var o,s=new n;return{start:r,end:r}}}]},Fr=i("$compile");ce.$inject=["$provide","$$sanitizeUriProvider"];var Pr=/^((?:x|data)[\:\-_])/i,Er=i("$controller"),Dr=/^(\S+)(\s+as\s+(\w+))?$/,Mr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof _i&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Or="application/json",Nr={"Content-Type":Or+";charset=utf-8"},Lr=/^\[|^\{(?!\{)/,Rr={"[":/]$/,"{":/}$/},Ir=/^\)\]\}',?\n/,Gr=i("$http"),jr=function(t){return function(){throw Gr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Vr=Oi.$interpolateMinErr=i("$interpolate");Vr.throwNoconcat=function(t){throw Vr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Vr.interr=function(t,e){return Vr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Ur=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Br={http:80,https:443,ftp:21},Hr=i("$location"),qr={$$html5:!1,$$replace:!1,absUrl:Ve("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Ur.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ve("$$protocol"),host:Ve("$$host"),port:Ve("$$port"),path:Ue("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||C(t))t=t.toString(),this.$$search=tt(t);else{if(!x(t))throw Hr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=G(t,{}),a(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ue("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};a([je,Ge,Ie],function(t){t.prototype=Object.create(qr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ie||!this.$$html5)throw Hr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var zr=i("$parse"),Wr=Function.prototype.call,Yr=Function.prototype.apply,Xr=Function.prototype.bind,Jr=vt();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Jr[t]=!0});var Qr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Zr=function(t){this.options=t};Zr.prototype={constructor:Zr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=Jr[e],a=Jr[n],o=Jr[i];if(r||a||o){var s=o?i:a?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw zr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=bi(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i+=a,r){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=Qr[a];n+=s||a}r=!1}else if("\\"===a)r=!0;else{if(a===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",e)}};var ta=function(t,e){this.lexer=t,this.options=e};ta.Program="Program",ta.ExpressionStatement="ExpressionStatement",ta.AssignmentExpression="AssignmentExpression",ta.ConditionalExpression="ConditionalExpression",ta.LogicalExpression="LogicalExpression",ta.BinaryExpression="BinaryExpression",ta.UnaryExpression="UnaryExpression",ta.CallExpression="CallExpression",ta.MemberExpression="MemberExpression",ta.Identifier="Identifier",ta.Literal="Literal",ta.ArrayExpression="ArrayExpression",ta.Property="Property",ta.ObjectExpression="ObjectExpression",ta.ThisExpression="ThisExpression",ta.NGValueParameter="NGValueParameter",ta.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:ta.Program,body:t}},expressionStatement:function(){return{type:ta.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:ta.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:ta.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:ta.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:ta.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:ta.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:ta.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:ta.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:ta.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:ta.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=G(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:ta.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:ta.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:ta.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:ta.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:ta.Identifier,name:t.text}},constant:function(){return{type:ta.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ta.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:ta.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:ta.ObjectExpression,properties:e}},throwError:function(t,e){throw zr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw zr("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw zr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===n||o===i||o===r||!e&&!n&&!i&&!r)return a}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},constants:{"true":{type:ta.Literal,value:!0},"false":{type:ta.Literal,value:!1},"null":{type:ta.Literal,value:null},undefined:{type:ta.Literal,value:n},"this":{type:ta.ThisExpression}}},sn.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},tn(r,i.$filter);var o,s="";if(this.stage="assign",o=rn(r)){this.state.computing="assign";var c=this.nextId();this.recurse(o,c),this.return_(c),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=en(r.body);i.stage="inputs",a(u,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,qe,We,Ye,ze,Xe,Je,Qe,t);return this.state=this.stage=n,h.literal=an(r),h.constant=on(r),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return a(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return a(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,o,s){var c,u,l,h,f=this;if(r=r||g,!s&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,o,!0));switch(t.type){case ta.Program:a(t.body,function(e,i){f.recurse(e.expression,n,n,function(t){u=t}),i!==t.body.length-1?f.current().body.push(u,";"):f.return_(u)});break;case ta.Literal:h=this.escape(t.value),this.assign(e,h),r(h);break;case ta.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),h=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,h),r(h);break;case ta.BinaryExpression:this.recurse(t.left,n,n,function(t){c=t}),this.recurse(t.right,n,n,function(t){u=t}),h="+"===t.operator?this.plus(c,u):"-"===t.operator?this.ifDefined(c,0)+t.operator+this.ifDefined(u,0):"("+c+")"+t.operator+"("+u+")",this.assign(e,h),r(h);break;case ta.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_("&&"===t.operator?e:f.not(e),f.lazyRecurse(t.right,e)),r(e);break;case ta.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),r(e);break;case ta.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),qe(t.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_("inputs"===f.stage||"s",function(){o&&1!==o&&f.if_(f.not(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),(f.state.expensiveChecks||un(t.name))&&f.addEnsureSafeObject(e),r(e);break;case ta.MemberExpression:c=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,c,n,function(){f.if_(f.notNull(c),function(){t.computed?(u=f.nextId(),f.recurse(t.property,u),f.getStringValue(u),f.addEnsureSafeMemberName(u),o&&1!==o&&f.if_(f.not(f.computedMember(c,u)),f.lazyAssign(f.computedMember(c,u),"{}")),h=f.ensureSafeObject(f.computedMember(c,u)),f.assign(e,h),i&&(i.computed=!0,i.name=u)):(qe(t.property.name),o&&1!==o&&f.if_(f.not(f.nonComputedMember(c,t.property.name)),f.lazyAssign(f.nonComputedMember(c,t.property.name),"{}")),h=f.nonComputedMember(c,t.property.name),(f.state.expensiveChecks||un(t.property.name))&&(h=f.ensureSafeObject(h)),f.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))},function(){f.assign(e,"undefined")}),r(e)},!!o);break;case ta.CallExpression:e=e||this.nextId(),t.filter?(u=f.filter(t.callee.name),l=[],a(t.arguments,function(t){var e=f.nextId();f.recurse(t,e),l.push(e)}),h=u+"("+l.join(",")+")",f.assign(e,h),r(e)):(u=f.nextId(),c={},l=[],f.recurse(t.callee,u,c,function(){f.if_(f.notNull(u),function(){f.addEnsureSafeFunction(u),a(t.arguments,function(t){f.recurse(t,f.nextId(),n,function(t){l.push(f.ensureSafeObject(t))})}),c.name?(f.state.expensiveChecks||f.addEnsureSafeObject(c.context),h=f.member(c.context,c.name,c.computed)+"("+l.join(",")+")"):h=u+"("+l.join(",")+")",h=f.ensureSafeObject(h),f.assign(e,h)},function(){f.assign(e,"undefined")}),r(e)}));break;case ta.AssignmentExpression:if(u=this.nextId(),c={},!nn(t.left))throw zr("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,c,function(){f.if_(f.notNull(c.context),function(){f.recurse(t.right,u),f.addEnsureSafeObject(f.member(c.context,c.name,c.computed)),f.addEnsureSafeAssignContext(c.context),h=f.member(c.context,c.name,c.computed)+t.operator+u,f.assign(e,h),r(e||h)})},1);break;case ta.ArrayExpression:l=[],a(t.elements,function(t){f.recurse(t,f.nextId(),n,function(t){l.push(t)})}),h="["+l.join(",")+"]",this.assign(e,h),r(h);break;case ta.ObjectExpression:l=[],a(t.properties,function(t){f.recurse(t.value,f.nextId(),n,function(e){l.push(f.escape(t.key.type===ta.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+l.join(",")+"}",this.assign(e,h),r(h);break;case ta.ThisExpression:this.assign(e,"s"),r("s");break;case ta.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,a){var o=this;return function(){o.recurse(t,e,n,i,r,a)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(w(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw zr("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},cn.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,tn(i,n.$filter);var r,o;(r=rn(i))&&(o=this.recurse(r));var s,c=en(i.body);c&&(s=[],a(c,function(t,e){var i=n.recurse(t);t.input=i,s.push(i),t.watchId=e}));var u=[];a(i.body,function(t){u.push(n.recurse(t.expression))});var l=0===i.body.length?function(){}:1===i.body.length?u[0]:function(t,e){var n;return a(u,function(i){n=i(t,e)}),n};return o&&(l.assign=function(t,e,n){return o(t,n,e)}),s&&(l.inputs=s),l.literal=an(i),l.constant=on(i),l},recurse:function(t,e,i){var r,o,s,c=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case ta.Literal:return this.value(t.value,e);case ta.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case ta.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case ta.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case ta.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case ta.Identifier:return qe(t.name,c.expression),c.identifier(t.name,c.expensiveChecks||un(t.name),e,i,c.expression);case ta.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(qe(t.property.name,c.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,i,c.expression):this.nonComputedMember(r,o,c.expensiveChecks,e,i,c.expression);case ta.CallExpression:return s=[],a(t.arguments,function(t){s.push(c.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,i,r,a){for(var c=[],u=0;u<s.length;++u)c.push(s[u](t,i,r,a));var l=o.apply(n,c,a);return e?{context:n,name:n,value:l}:l}:function(t,n,i,r){var a,u=o(t,n,i,r);if(null!=u.value){We(u.context,c.expression),Ye(u.value,c.expression);for(var l=[],h=0;h<s.length;++h)l.push(We(s[h](t,n,i,r),c.expression));a=We(u.value.apply(u.context,l),c.expression)}return e?{value:a}:a};case ta.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,a){var s=r(t,n,i,a),u=o(t,n,i,a);return We(s.value,c.expression),Xe(s.context),s.context[s.name]=u,e?{value:u}:u};case ta.ArrayExpression:return s=[],a(t.elements,function(t){s.push(c.recurse(t))}),function(t,n,i,r){for(var a=[],o=0;o<s.length;++o)a.push(s[o](t,n,i,r));return e?{value:a}:a};case ta.ObjectExpression:return s=[],a(t.properties,function(t){s.push({key:t.key.type===ta.Identifier?t.key.name:""+t.key.value,value:c.recurse(t.value)})}),function(t,n,i,r){for(var a={},o=0;o<s.length;++o)a[s[o].key]=s[o].value(t,n,i,r);return e?{value:a}:a};case ta.ThisExpression:return function(t){return e?{value:t}:t};case ta.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,a){var o=t(n,i,r,a);return o=b(o)?+o:0,e?{value:o}:o}},"unary-":function(t,e){return function(n,i,r,a){var o=t(n,i,r,a);return o=b(o)?-o:0,e?{value:o}:o}},"unary!":function(t,e){return function(n,i,r,a){var o=!t(n,i,r,a);return e?{value:o}:o}},"binary+":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o),c=e(i,r,a,o),u=Qe(s,c);return n?{value:u}:u}},"binary-":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o),c=e(i,r,a,o),u=(b(s)?s:0)-(b(c)?c:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)*e(i,r,a,o);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)/e(i,r,a,o);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)%e(i,r,a,o);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)===e(i,r,a,o);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)!==e(i,r,a,o);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)==e(i,r,a,o);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)!=e(i,r,a,o);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)<e(i,r,a,o);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)>e(i,r,a,o);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)<=e(i,r,a,o);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)>=e(i,r,a,o);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)&&e(i,r,a,o);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,a,o){var s=t(i,r,a,o)||e(i,r,a,o);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,a,o,s){var c=t(r,a,o,s)?e(r,a,o,s):n(r,a,o,s);return i?{value:c}:c}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,a){return function(o,s,c,u){var l=s&&t in s?s:o;r&&1!==r&&l&&!l[t]&&(l[t]={});var h=l?l[t]:n;return e&&We(h,a),i?{context:l,name:t,value:h}:h}},computedMember:function(t,e,n,i,r){return function(a,o,s,c){var u,l,h=t(a,o,s,c);return null!=h&&(u=e(a,o,s,c),u=ze(u),qe(u,r),i&&1!==i&&h&&!h[u]&&(h[u]={}),l=h[u],We(l,r)),n?{context:h,name:u,value:l}:l}},nonComputedMember:function(t,e,i,r,a,o){return function(s,c,u,l){var h=t(s,c,u,l);a&&1!==a&&h&&!h[e]&&(h[e]={});var f=null!=h?h[e]:n;return(i||un(e))&&We(f,o),r?{context:h,name:e,value:f}:f}},inputs:function(t,e){return function(n,i,r,a){return a?a[e]:t(n,i,r)}}};var ea=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new ta(this.lexer),this.astCompiler=n.csp?new cn(this.ast,e):new sn(this.ast,e)};ea.prototype={constructor:ea,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var na=(vt(),vt(),Object.prototype.valueOf),ia=i("$sce"),ra={
HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Fr=i("$compile"),aa=e.createElement("a"),oa=_n(t.location.href);Tn.$inject=["$document"],Pn.$inject=["$provide"],Nn.$inject=["$locale"],Ln.$inject=["$locale"];var sa=".",ca={yyyy:Gn("FullYear",4),yy:Gn("FullYear",2,0,!0),y:Gn("FullYear",1),MMMM:jn("Month"),MMM:jn("Month",!0),MM:Gn("Month",2,1),M:Gn("Month",1,1),dd:Gn("Date",2),d:Gn("Date",1),HH:Gn("Hours",2),H:Gn("Hours",1),hh:Gn("Hours",2,-12),h:Gn("Hours",1,-12),mm:Gn("Minutes",2),m:Gn("Minutes",1),ss:Gn("Seconds",2),s:Gn("Seconds",1),sss:Gn("Milliseconds",3),EEEE:jn("Day"),EEE:jn("Day",!0),a:qn,Z:Vn,ww:Hn(2),w:Hn(1),G:zn,GG:zn,GGG:zn,GGGG:Wn},ua=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,la=/^\-?\d+$/;Yn.$inject=["$locale"];var ha=m(bi),fa=m(Si);Qn.$inject=["$parse"];var da=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ei.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),pa={};a(pr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=ue("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),pa[i]=function(){return{restrict:"A",priority:100,link:r}}}}),a(vr,function(t,e){pa[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match($i);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),a(["src","srcset","href"],function(t){var e=ue("ng-"+t);pa[e]=function(){return{priority:99,link:function(n,i,r){var a=t,o=t;"href"===t&&"[object SVGAnimatedString]"===Ei.call(i.prop("href"))&&(o="xlinkHref",r.$attr[o]="xlink:href",a=null),r.$observe(e,function(e){return e?(r.$set(o,e),void(Ki&&a&&i.prop(a,r[o]))):void("href"===t&&r.$set(o,null))})}}}});var ga={$addControl:g,$$renameControl:ti,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},va="ng-submitted";ei.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ma=function(t){return["$timeout","$parse",function(e,i){function r(t){return""===t?i('this[""]').assign:i(t).assign||g}var a={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:ei,compile:function(i,a){i.addClass(Ja).addClass(Ya);var o=a.name?"name":t&&a.ngForm?"ngForm":!1;return{pre:function(t,i,a,s){var c=s[0];if(!("action"in a)){var u=function(e){t.$apply(function(){c.$commitViewValue(),c.$setSubmitted()}),e.preventDefault()};nr(i[0],"submit",u),i.on("$destroy",function(){e(function(){ir(i[0],"submit",u)},0,!1)})}var l=s[1]||c.$$parentForm;l.$addControl(c);var f=o?r(c.$name):g;o&&(f(t,c),a.$observe(o,function(e){c.$name!==e&&(f(t,n),c.$$parentForm.$$renameControl(c,e),(f=r(c.$name))(t,c))})),i.on("$destroy",function(){c.$$parentForm.$removeControl(c),f(t,n),h(c,ga)})}}}};return a}]},$a=ma(),ya=ma(!0),ba=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,xa=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Sa=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wa=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ca=/^(\d{4})-(\d{2})-(\d{2})$/,Ka=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_a=/^(\d{4})-W(\d\d)$/,Aa=/^(\d{4})-(\d\d)$/,ka=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ta={text:ii,date:si("date",Ca,oi(Ca,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":si("datetimelocal",Ka,oi(Ka,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:si("time",ka,oi(ka,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:si("week",_a,ai,"yyyy-Www"),month:si("month",Aa,oi(Aa,["yyyy","MM"]),"yyyy-MM"),number:ui,url:li,email:hi,radio:fi,checkbox:pi,hidden:g,button:g,submit:g,reset:g,file:g},Fa=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,o,s){s[0]&&(Ta[bi(o.type)]||Ta.text)(r,a,o,s[0],e,t,n,i)}}}}],Pa=/^(true|false|\d+)$/,Ea=function(){return{restrict:"A",priority:100,compile:function(t,e){return Pa.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Da=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=y(t)?"":t})}}}}],Ma=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var a=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=y(t)?"":t})}}}}],Oa=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var a=e(r.ngBindHtml),o=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(o,function(){i.html(t.getTrustedHtml(a(e))||"")})}}}}],Na=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),La=gi("",!0),Ra=gi("Odd",0),Ia=gi("Even",1),Ga=Zn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ja=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Va={},Ua={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ue("ng-"+t);Va[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,a){var o=n(a[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){o(e,{$event:n})};Ua[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Ba=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,a,o){var s,c,u;n.$watch(r.ngIf,function(n){n?c||o(function(n,a){c=a,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=gt(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],Ha=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Oi.noop,compile:function(i,r){var a=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(i,r,c,u,l){var h,f,d,p=0,g=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){f=null}),f=d,d=null)};i.$watch(a,function(a){var c=function(){!b(s)||s&&!i.$eval(s)||e()},f=++p;a?(t(a,!0).then(function(t){if(f===p){var e=i.$new();u.template=t;var s=l(e,function(t){g(),n.enter(t,null,r).then(c)});h=e,d=s,h.$emit("$includeContentLoaded",a),i.$eval(o)}},function(){f===p&&(g(),i.$emit("$includeContentError",a))}),i.$emit("$includeContentRequested",a)):(g(),u.template=null)})}}}}],qa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,a){return/SVG/.test(i[0].toString())?(i.empty(),void t(_t(a.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(a.template),void t(i.contents())(n))}}}],za=Zn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Wa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var o=e.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,c=s?Gi(o):o,u=function(t){if(!y(t)){var e=[];return t&&a(t.split(c),function(t){t&&e.push(s?Gi(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){return Ri(t)?t.join(o):n}),r.$isEmpty=function(t){return!t||!t.length}}}},Ya="ng-valid",Xa="ng-invalid",Ja="ng-pristine",Qa="ng-dirty",Za="ng-untouched",to="ng-touched",eo="ng-pending",no=i("ngModel"),io=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,o,s,c,u,l,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t),this.$$parentForm=ga;var f,d=o(i.ngModel),p=d.assign,v=d,m=p,$=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=o(i.ngModel+"()"),n=o(i.ngModel+"($$$p)");v=function(t){var n=d(t);return _(n)&&(n=e(t)),n},m=function(t,e){_(d(t))?n(t,{$$$p:x.$modelValue}):p(t,x.$modelValue)}}else if(!d.assign)throw no("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,Q(r))},this.$render=g,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var S=0;vi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(r,Qa),s.addClass(r,Ja)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(r,Ja),s.addClass(r,Qa),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(r,Za,to)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(r,to,Za)},this.$rollbackViewValue=function(){c.cancel($),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!C(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,i=x.$valid,r=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){a||i===t||(x.$modelValue=t?e:n,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var t=x.$$parserName||"parse";return y(f)?(c(t,null),!0):(f||(a(x.$validators,function(t,e){c(e,null)}),a(x.$asyncValidators,function(t,e){c(e,null)})),c(t,f),f)}function o(){var n=!0;return a(x.$validators,function(i,r){var a=i(t,e);n=n&&a,c(r,a)}),n?!0:(a(x.$asyncValidators,function(t,e){c(e,null)}),!1)}function s(){var i=[],r=!0;a(x.$asyncValidators,function(a,o){var s=a(t,e);if(!M(s))throw no("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(o,n),i.push(s.then(function(){c(o,!0)},function(t){r=!1,c(o,!1)}))}),i.length?l.all(i).then(function(){u(r)},g):u(!0)}function c(t,e){h===S&&x.$setValidity(t,e)}function u(t){h===S&&i(t)}S++;var h=S;return r()&&o()?void s():void u(!1)},this.$commitViewValue=function(){var t=x.$viewValue;c.cancel($),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==o&&x.$$writeModelToScope()}var i=x.$$lastCommittedViewValue,r=i;if(f=y(r)?n:!0)for(var a=0;a<x.$parsers.length;a++)if(r=x.$parsers[a](r),y(r)){f=!1;break}C(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=v(t));var o=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,s&&(x.$modelValue=r,e()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){m(t,x.$modelValue),a(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=x.$options;r&&b(r.debounce)&&(n=r.debounce,C(n)?i=n:C(n[e])?i=n[e]:C(n["default"])&&(i=n["default"])),c.cancel($),i?$=c(function(){x.$commitViewValue()},i):u.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,f=n;for(var i=x.$formatters,r=i.length,a=e;r--;)a=i[r](a);x.$viewValue!==a&&(x.$viewValue=x.$$lastCommittedViewValue=a,x.$render(),x.$$runValidators(e,a,g))}return e})}],ro=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:io,priority:1,compile:function(e){return e.addClass(Ja).addClass(Za).addClass(Ya),{pre:function(t,e,n,i){var r=i[0],a=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),a.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var a=r[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){a.$touched||(t.$$phase?e.$evalAsync(a.$setTouched):e.$apply(a.$setTouched))})}}}}}],ao=/(\s+|^)default(\s+|$)/,oo=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=G(t.$eval(e.ngModelOptions)),b(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Gi(this.$options.updateOn.replace(ao,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},so=Zn({terminal:!0,priority:1e3}),co=i("ngOptions"),uo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,lo=["$compile","$parse",function(t,n){function i(t,e,i){function a(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function o(t){var e;if(!u&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(uo);if(!s)throw co("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Q(e));var c=s[5]||s[7],u=s[6],l=/ as /.test(s[0])&&s[1],h=s[9],f=n(s[2]?s[1]:c),d=l&&n(l),p=d||f,g=h&&n(h),v=h?function(t,e){return g(i,e)}:function(t){return Wt(t)},m=function(t,e){return v(t,w(t,e))},$=n(s[2]||s[1]),y=n(s[3]||""),b=n(s[4]||""),x=n(s[8]),S={},w=u?function(t,e){return S[u]=e,S[c]=t,S}:function(t){return S[c]=t,S};return{trackBy:h,getTrackByValue:m,getWatchables:n(x,function(t){var e=[];t=t||[];for(var n=o(t),r=n.length,a=0;r>a;a++){var c=t===n?a:n[a],u=(t[c],w(t[c],c)),l=v(t[c],u);if(e.push(l),s[2]||s[1]){var h=$(i,u);e.push(h)}if(s[4]){var f=b(i,u);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=x(i)||[],r=o(n),s=r.length,c=0;s>c;c++){var u=n===r?c:r[c],l=n[u],f=w(l,u),d=p(i,f),g=v(d,f),S=$(i,f),C=y(i,f),K=b(i,f),_=new a(g,d,S,C,K);t.push(_),e[g]=_}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return h?Oi.copy(t.viewValue):t.viewValue}}}}}var o=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,r,c){function u(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function l(t,e,n,i){var r;return e&&bi(e.nodeName)===n?r=e:(r=i.cloneNode(!1),e?t.insertBefore(r,e):t.appendChild(r)),r}function h(t){for(var e;t;)e=t.nextSibling,Vt(t),t=e}function f(t){var e=g&&g[0],n=S&&S[0];if(e||n)for(;t&&(t===e||t===n||e&&e.nodeType===Xi);)t=t.nextSibling;return t}function d(){var t=w&&v.readValue();w=C.getOptions();var e={},i=n[0].firstChild;if(x&&n.prepend(g),i=f(i),w.items.forEach(function(t){var r,a,c;t.group?(r=e[t.group],r||(a=l(n[0],i,"optgroup",s),i=a.nextSibling,a.label=t.group,r=e[t.group]={groupElement:a,currentOptionElement:a.firstChild}),c=l(r.groupElement,r.currentOptionElement,"option",o),u(t,c),r.currentOptionElement=c.nextSibling):(c=l(n[0],i,"option",o),u(t,c),i=c.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(i),p.$render(),!p.$isEmpty(t)){var r=v.readValue();(C.trackBy?V(t,r):t===r)||(p.$setViewValue(r),p.$render())}}var p=c[1];if(p){for(var g,v=c[0],m=r.multiple,$=0,y=n.children(),b=y.length;b>$;$++)if(""===y[$].value){g=y.eq($);break}var x=!!g,S=_i(o.cloneNode(!1));S.val("?");var w,C=i(r.ngOptions,n,e),K=function(){x||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},_=function(){x||g.remove()},A=function(){n.prepend(S),n.val("?"),S.prop("selected",!0),S.attr("selected",!0)},k=function(){S.remove()};m?(p.$isEmpty=function(t){return!t||0===t.length},v.writeValue=function(t){w.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=w.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},v.readValue=function(){var t=n.val()||[],e=[];return a(t,function(t){var n=w.selectValueMap[t];n&&!n.disabled&&e.push(w.getViewValueFromOption(n))}),e},C.trackBy&&e.$watchCollection(function(){return Ri(p.$viewValue)?p.$viewValue.map(function(t){return C.getTrackByValue(t)}):void 0},function(){p.$render()})):(v.writeValue=function(t){var e=w.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(k(),_(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||x?(k(),K()):(_(),A())},v.readValue=function(){var t=w.selectValueMap[n.val()];return t&&!t.disabled?(_(),k(),w.getViewValueFromOption(t)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(p.$viewValue)},function(){p.$render()})),x?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=_i(o.cloneNode(!1)),d(),e.$watchCollection(C.getWatchables,d)}}}}],ho=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,s,c){function u(t){s.text(t||"")}var l,h=c.count,f=c.$attr.when&&s.attr(c.$attr.when),d=c.offset||0,p=o.$eval(f)||{},v={},m=e.startSymbol(),$=e.endSymbol(),b=m+h+"-"+d+$,x=Oi.noop;a(c,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+bi(n[2]);p[i]=s.attr(c.$attr[e])}}),a(p,function(t,n){v[n]=e(t.replace(i,b))}),o.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in p||(i=t.pluralCat(i-d)),i!==l&&!(r&&C(l)&&isNaN(l))){x();var a=v[i];y(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),x=g,u()):x=o.$watch(a,u),l=i}})}}}],fo=["$parse","$animate",function(t,o){var s="$$NG_REMOVED",c=i("ngRepeat"),u=function(t,e,n,i,r,a,o){t[n]=i,r&&(t[r]=a),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,f){var d=f.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var v=g[1],m=g[2],$=g[3],y=g[4];if(g=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var b=g[3]||g[1],x=g[2];if($&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test($)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test($)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",$);var S,w,C,K,_={$id:Wt};return y?S=t(y):(C=function(t,e){return Wt(e)},K=function(t){return t}),function(t,e,i,f,g){S&&(w=function(e,n,i){return x&&(_[x]=e),_[b]=n,_.$index=i,S(t,_)});var v=vt();t.$watchCollection(m,function(i){var f,m,y,S,_,A,k,T,F,P,E,D,M=e[0],O=vt();if($&&(t[$]=i),r(i))F=i,T=w||C;else{T=w||K,F=[];for(var N in i)xi.call(i,N)&&"$"!==N.charAt(0)&&F.push(N)}for(S=F.length,E=new Array(S),f=0;S>f;f++)if(_=i===F?f:F[f],A=i[_],k=T(_,A,f),v[k])P=v[k],delete v[k],O[k]=P,E[f]=P;else{if(O[k])throw a(E,function(t){t&&t.scope&&(v[t.id]=t)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,k,A);E[f]={id:k,scope:n,clone:n},O[k]=!0}for(var L in v){if(P=v[L],D=gt(P.clone),o.leave(D),D[0].parentNode)for(f=0,m=D.length;m>f;f++)D[f][s]=!0;P.scope.$destroy()}for(f=0;S>f;f++)if(_=i===F?f:F[f],A=i[_],P=E[f],P.scope){y=M;do y=y.nextSibling;while(y&&y[s]);l(P)!=y&&o.move(gt(P.clone),null,_i(M)),M=h(P),u(P.scope,f,b,A,x,_,S)}else g(function(t,e){P.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,o.enter(t,null,_i(M)),M=n,P.clone=t,O[P.id]=P,u(P.scope,f,b,A,x,_,S)});v=O})}}}}],po="ng-hide",go="ng-hide-animate",vo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,po,{tempClasses:go})})}}}],mo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,po,{tempClasses:go})})}}}],$o=Zn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&a(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),yo=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var s=r.ngSwitch||r.on,c=[],u=[],l=[],h=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var i,r;for(i=0,r=l.length;r>i;++i)t.cancel(l[i]);for(l.length=0,i=0,r=h.length;r>i;++i){var s=gt(u[i].clone);h[i].$destroy();var d=l[i]=t.leave(s);d.then(f(l,i))}u.length=0,h.length=0,(c=o.cases["!"+n]||o.cases["?"])&&a(c,function(n){n.transclude(function(i,r){h.push(r);var a=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var o={clone:i};u.push(o),t.enter(i,a.parent(),a)})})})}}}],bo=Zn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),xo=Zn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),So=Zn({restrict:"EAC",link:function(t,e,n,r,a){if(!a)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(e));a(function(t){e.empty(),e.append(t)})}}),wo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Co={$setViewValue:g,$render:g},Ko=["$element","$scope","$attrs",function(t,i,r){var a=this,o=new Yt;a.ngModelCtrl=Co,a.unknownOption=_i(e.createElement("option")),a.renderUnknownOption=function(e){var n="? "+Wt(e)+" ?";a.unknownOption.val(n),t.prepend(a.unknownOption),t.val(n)},i.$on("$destroy",function(){a.renderUnknownOption=g}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),t.val()},a.writeValue=function(e){a.hasOption(e)?(a.removeUnknownOption(),t.val(e),""===e&&a.emptyOption.prop("selected",!0)):null==e&&a.emptyOption?(a.removeUnknownOption(),t.val("")):a.renderUnknownOption(e)},a.addOption=function(t,e){dt(t,'"option value"'),""===t&&(a.emptyOption=e);var n=o.get(t)||0;o.put(t,n+1)},a.removeOption=function(t){var e=o.get(t);e&&(1===e?(o.remove(t),""===t&&(a.emptyOption=n)):o.put(t,e-1))},a.hasOption=function(t){return!!o.get(t)}}],_o=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ko,link:function(t,e,n,i){var r=i[1];if(r){var o=i[0];if(o.ngModelCtrl=r,r.$render=function(){o.writeValue(r.$viewValue)},e.on("change",function(){t.$apply(function(){r.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var t=[];return a(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},o.writeValue=function(t){var n=new Yt(t);a(e.find("option"),function(t){t.selected=b(n.get(t.value))})};var s,c=0/0;t.$watch(function(){c!==r.$viewValue||V(s,r.$viewValue)||(s=j(r.$viewValue),r.$render()),c=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}}}},Ao=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,i){if(b(i.value))var r=t(i.value,!0);else{var a=t(n.text(),!0);a||i.$set("value",n.text())}return function(t,n,i){function o(t){u.addOption(t,n),u.ngModelCtrl.$render(),e(n)}var s="$selectController",c=n.parent(),u=c.data(s)||c.parent().data(s);if(u&&u.ngModelCtrl){if(r){var l;i.$observe("value",function(t){b(l)&&u.removeOption(l),l=t,o(t)})}else a?t.$watch(a,function(t,e){i.$set("value",t),e!==t&&u.removeOption(e),o(t)}):o(i.value);n.on("$destroy",function(){u.removeOption(i.value),u.ngModelCtrl.$render()})}}}}}],ko=m({restrict:"E",terminal:!1}),To=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Fo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,a){if(a){var o,s=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,Q(e));o=t||n,a.$validate()}),a.$validators.pattern=function(t,e){return a.$isEmpty(e)||y(o)||o.test(e)}}}}},Po=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=d(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},Eo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=d(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(lt(),bt(Oi),Oi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function i(t,i){var r=i;n===r&&(r=Math.min(e(t),3));var a=Math.pow(10,r),o=(t*a|0)%a;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(t,e){var n=0|t,a=i(t,e);return 1==n&&0==a.v?r.ONE:r.OTHER}})}]),void _i(e).ready(function(){at(e,ot)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.7
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function r(t,e){return t||e?t?e?(V(t)&&(t=t.join(" ")),V(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function a(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=V(t)?t:t&&U(t)&&t.length?t.split(/\s+/):[],j(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function s(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function c(t){if(t instanceof G)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===Y)return t;break;default:return G(u(t))}return t.nodeType===Y?G(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==Y)return n}}function l(t,e,n){j(e,function(e){t.addClass(e,n)})}function h(t,e,n){j(e,function(e){t.removeClass(e,n)})}function f(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(h(t,e,n.removeClass),n.removeClass=null)}}function d(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||R;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=R},t.$$prepared=!0}return t}function p(t,e){g(t,e),v(t,e)}function g(t,e){e.from&&(t.css(e.from),e.from=null)}function v(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var i=(e.addClass||"")+" "+(n.addClass||""),r=(e.removeClass||"")+" "+(n.removeClass||""),a=$(t.attr("class"),i,r);n.preparationClasses&&(e.preparationClasses=K(n.preparationClasses,e.preparationClasses),delete n.preparationClasses);var o=e.domOperation!==R?e.domOperation:null;return I(e,n),o&&(e.domOperation=o),e.addClass=a.addClass?a.addClass:null,e.removeClass=a.removeClass?a.removeClass:null,e}function $(t,e,n){function i(t){U(t)&&(t=t.split(" "));var e={};return j(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,a=-1,o={};t=i(t),e=i(e),j(e,function(t,e){o[e]=r}),n=i(n),j(n,function(t,e){o[e]=o[e]===r?null:a});var s={addClass:"",removeClass:""};return j(o,function(e,n){var i,o;e===r?(i="addClass",o=!t[n]):e===a&&(i="removeClass",o=t[n]),o&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(t){return t instanceof e.element?t[0]:t}function b(t,e,n){var i="";e&&(i=o(e,Q,!0)),n.addClass&&(i=K(i,o(n.addClass,X))),n.removeClass&&(i=K(i,o(n.removeClass,J))),i.length&&(n.preparationClasses=i,t.addClass(i))}function x(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function S(t,e){var n=e?"-"+e+"s":"";return C(t,[ft,n]),[ft,n]}function w(t,e){var n=e?"paused":"",i=N+ct;return C(t,[i,n]),[i,n]}function C(t,e){var n=e[0],i=e[1];t.style[n]=i}function K(t,e){return t?e?t+" "+e:t:e}function _(t){return[ht,t+"s"]}function A(t,e){var n=e?lt:ft;return[n,t+"s"]}function k(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return j(n,function(t,e){var n=r[t];if(n){var a=n.charAt(0);("-"===a||"+"===a||a>=0)&&(n=T(n)),0===n&&(n=null),i[e]=n}}),i}function T(t){var e=0,n=t.split(/\s*,\s*/);return j(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function F(t){return 0===t||null!=t}function P(t,e){var n=M,i=t+"s";return e?n+=it:i+=" linear all",[n,i]}function E(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function D(t,e,n){j(n,function(n){t[n]=q(t[n])?t[n]:e.style.getPropertyValue(n)})}var M,O,N,L,R=e.noop,I=e.extend,G=e.element,j=e.forEach,V=e.isArray,U=e.isString,B=e.isObject,H=e.isUndefined,q=e.isDefined,z=e.isFunction,W=e.isElement,Y=1,X="-add",J="-remove",Q="ng-",Z="-active",tt="ng-animate",et="$$ngAnimateChildren",nt="";H(t.ontransitionend)&&q(t.onwebkittransitionend)?(nt="-webkit-",M="WebkitTransition",O="webkitTransitionEnd transitionend"):(M="transition",O="transitionend"),H(t.onanimationend)&&q(t.onwebkitanimationend)?(nt="-webkit-",N="WebkitAnimation",L="webkitAnimationEnd animationend"):(N="animation",L="animationend");var it="Duration",rt="Property",at="Delay",ot="TimingFunction",st="IterationCount",ct="PlayState",ut=9999,lt=N+at,ht=N+it,ft=M+at,dt=M+it,pt=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),a=0;a<e.length;a++)e[a]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],gt=[function(){return function(t,n,i){var r=i.ngAnimateChildren;e.isString(r)&&0===r.length?n.data(et,!0):i.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(et,t)})}}],vt="$$animateCss",mt=1e3,$t=3,yt=1.5,bt={transitionDuration:dt,transitionDelay:ft,transitionProperty:M+rt,animationDuration:ht,animationDelay:lt,animationIterationCount:N+st},xt={transitionDuration:dt,transitionDelay:ft,animationDuration:ht,animationDelay:lt},St=["$animateProvider",function(t){var e=E(),n=E();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(t,i,r,c,u,l,h,m){function $(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++I);return r+"-"+t.getAttribute("class")+"-"+e}function b(n,i,r,a){var o=e.get(r);return o||(o=k(t,n,a),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),e.put(r,o),o}function x(r,a,s,c){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var l=o(a,"-stagger");i.addClass(r,l),u=k(t,r,c),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,l),n.put(s,u)}return u||{}}function K(t){G.push(t),h.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=u(),i=0;i<G.length;i++)G[i](t);G.length=0})}function T(t,e,n){var i=b(t,e,n,bt),r=i.animationDelay,a=i.transitionDelay;return i.maxDelay=r&&a?Math.max(r,a):r||a,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var E=f(i),I=0,G=[];return function(t,n){function u(){f()}function h(){f(!0)}function f(e){B||q&&H||(B=!0,H=!1,n.$$skipPreparationClasses||i.removeClass(t,dt),i.removeClass(t,gt),w(U,!1),S(U,!1),j(it,function(t){U.style[t[0]]=""}),E(t,n),p(t,n),Object.keys(G).length&&j(G,function(t,e){t?U.style.setProperty(e,t):U.style.removeProperty(e)}),n.onDone&&n.onDone(),z&&z.complete(!e))}function b(t){Mt.blockTransition&&S(U,t),Mt.blockKeyframeAnimation&&w(U,!!t)}function k(){return z=new r({end:u,cancel:h}),K(R),f(),{$$willAnimate:!1,start:function(){return z},end:u}}function I(){function e(){if(!B){if(b(!1),j(it,function(t){var e=t[0],n=t[1];U.style[e]=n}),E(t,n),i.addClass(t,gt),Mt.recalculateTimingStyles){if(pt=U.className+" "+dt,wt=$(U,pt),Et=T(U,pt,wt),Dt=Et.maxDelay,Y=Math.max(Dt,0),et=Et.maxDuration,0===et)return void f();Mt.hasTransitions=Et.transitionDuration>0,Mt.hasAnimations=Et.animationDuration>0}if(Mt.applyAnimationDelay&&(Dt="boolean"!=typeof n.delay&&F(n.delay)?parseFloat(n.delay):Dt,Y=Math.max(Dt,0),Et.animationDelay=Dt,Ot=A(Dt,!0),it.push(Ot),U.style[Ot[0]]=Ot[1]),tt=Y*mt,nt=et*mt,n.easing){var e,s=n.easing;Mt.hasTransitions&&(e=M+ot,it.push([e,s]),U.style[e]=s),Mt.hasAnimations&&(e=N+ot,it.push([e,s]),U.style[e]=s)}Et.transitionDuration&&u.push(O),Et.animationDuration&&u.push(L),o=Date.now();var l=tt+yt*nt,h=o+l,d=t.data(vt)||[],p=!0;if(d.length){var g=d[0];p=h>g.expectedEndTime,p?c.cancel(g.timer):d.push(f)}if(p){var m=c(r,l,!1);d[0]={timer:m,expectedEndTime:h},d.push(f),t.data(vt,d)}t.on(u.join(" "),a),n.to&&(n.cleanupStyles&&D(G,U,Object.keys(n.to)),v(t,n))}}function r(){var e=t.data(vt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(vt)}}function a(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed($t));Math.max(n-o,0)>=tt&&i>=et&&(q=!0,f())}if(!B){if(!U.parentNode)return void f();var o,u=[],l=function(t){if(q)H&&t&&(H=!1,f());else if(H=!t,Et.animationDuration){var e=w(U,H);H?it.push(e):s(it,e)}},h=Ft>0&&(Et.transitionDuration&&0===Ct.transitionDuration||Et.animationDuration&&0===Ct.animationDuration)&&Math.max(Ct.animationDelay,Ct.transitionDelay);h?c(e,Math.floor(h*Ft*mt),!1):e(),W.resume=function(){l(!0)},W.pause=function(){l(!1)}}}var G={},U=y(t);if(!U||!U.parentNode||!m.enabled())return k();n=d(n);var B,H,q,z,W,Y,tt,et,nt,it=[],at=t.attr("class"),st=a(n);if(0===n.duration||!l.animations&&!l.transitions)return k();var ct=n.event&&V(n.event)?n.event.join(" "):n.event,lt=ct&&n.structural,ht="",ft="";lt?ht=o(ct,Q,!0):ct&&(ht=ct),n.addClass&&(ft+=o(n.addClass,X)),n.removeClass&&(ft.length&&(ft+=" "),ft+=o(n.removeClass,J)),n.applyClassesEarly&&ft.length&&E(t,n);var dt=[ht,ft].join(" ").trim(),pt=at+" "+dt,gt=o(dt,Z),bt=st.to&&Object.keys(st.to).length>0,St=(n.keyframeStyle||"").length>0;if(!St&&!bt&&!dt)return k();var wt,Ct;if(n.stagger>0){var Kt=parseFloat(n.stagger);Ct={transitionDelay:Kt,animationDelay:Kt,transitionDuration:0,animationDuration:0}}else wt=$(U,pt),Ct=x(U,dt,wt,xt);n.$$skipPreparationClasses||i.addClass(t,dt);var _t;if(n.transitionStyle){var At=[M,n.transitionStyle];C(U,At),it.push(At)}if(n.duration>=0){_t=U.style[M].length>0;var kt=P(n.duration,_t);C(U,kt),it.push(kt)}if(n.keyframeStyle){var Tt=[N,n.keyframeStyle];C(U,Tt),it.push(Tt)}var Ft=Ct?n.staggerIndex>=0?n.staggerIndex:e.count(wt):0,Pt=0===Ft;Pt&&!n.skipBlocking&&S(U,ut);var Et=T(U,pt,wt),Dt=Et.maxDelay;Y=Math.max(Dt,0),et=Et.maxDuration;var Mt={};if(Mt.hasTransitions=Et.transitionDuration>0,Mt.hasAnimations=Et.animationDuration>0,Mt.hasTransitionAll=Mt.hasTransitions&&"all"==Et.transitionProperty,Mt.applyTransitionDuration=bt&&(Mt.hasTransitions&&!Mt.hasTransitionAll||Mt.hasAnimations&&!Mt.hasTransitions),Mt.applyAnimationDuration=n.duration&&Mt.hasAnimations,Mt.applyTransitionDelay=F(n.delay)&&(Mt.applyTransitionDuration||Mt.hasTransitions),Mt.applyAnimationDelay=F(n.delay)&&Mt.hasAnimations,Mt.recalculateTimingStyles=ft.length>0,(Mt.applyTransitionDuration||Mt.applyAnimationDuration)&&(et=n.duration?parseFloat(n.duration):et,Mt.applyTransitionDuration&&(Mt.hasTransitions=!0,Et.transitionDuration=et,_t=U.style[M+rt].length>0,it.push(P(et,_t))),Mt.applyAnimationDuration&&(Mt.hasAnimations=!0,Et.animationDuration=et,it.push(_(et)))),0===et&&!Mt.recalculateTimingStyles)return k();if(null!=n.delay){var Ot=parseFloat(n.delay);Mt.applyTransitionDelay&&it.push(A(Ot)),Mt.applyAnimationDelay&&it.push(A(Ot,!0))}return null==n.duration&&Et.transitionDuration>0&&(Mt.recalculateTimingStyles=Mt.recalculateTimingStyles||Pt),tt=Y*mt,nt=et*mt,n.skipBlocking||(Mt.blockTransition=Et.transitionDuration>0,Mt.blockKeyframeAnimation=Et.animationDuration>0&&Ct.animationDelay>0&&0===Ct.animationDuration),n.from&&(n.cleanupStyles&&D(G,U,Object.keys(n.from)),g(t,n)),Mt.blockTransition||Mt.blockKeyframeAnimation?b(et):n.skipBlocking||S(U,!1),{$$willAnimate:!0,end:u,start:function(){return B?void 0:(W={end:u,cancel:h,resume:null,pause:null},z=new r(W),K(I),z)}}}}]}],wt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",a="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,s,c,u,l,h){function d(t){return t.replace(/\bng-\S+\b/g,"")}function p(t,e){return U(t)&&(t=t.split(" ")),U(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function g(e,o,c){function u(t){var e={},n=y(t).getBoundingClientRect();return j(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=$.scrollTop;break;case"left":i+=$.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function l(){var e=t(v,{addClass:r,delay:!0,from:u(o)});return e.$$willAnimate?e:null}function h(t){return t.attr("class")||""}function f(){var e=d(h(c)),n=p(e,m),i=p(m,e),o=t(v,{to:u(c),addClass:a+" "+n,removeClass:r+" "+i,delay:!0});return o.$$willAnimate?o:null}function g(){v.remove(),o.removeClass(n),c.removeClass(n)}var v=G(y(o).cloneNode(!0)),m=d(h(v));o.addClass(n),c.addClass(n),v.addClass(i),x.append(v);var b,S=l();if(!S&&(b=f(),!b))return g();var w=S||b;return{start:function(){function t(){n&&n.end()}var e,n=w.start();return n.done(function(){return n=null,!b&&(b=f())?(n=b.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new s({end:t,cancel:t})}}}function v(t,e,n,i){var r=m(t,R),a=m(e,R),o=[];return j(i,function(t){var e=t.out,i=t["in"],r=g(n,e,i);r&&o.push(r)}),r||a||0!==o.length?{start:function(){function t(){j(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),a&&e.push(a.start()),j(o,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}:void 0}function m(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=K(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return R;{var $=h[0].body,b=y(c),x=G(e(b)||$.contains(b)?b:$);f(l)}return function(t){return t.from&&t.to?v(t.from,t.to,t.classes,t.anchors):m(t)}}]}],Ct=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=V(n)?n:n.split(" ");for(var i=[],r={},a=0;a<n.length;a++){var o=n[a],s=t.$$registeredAnimations[o];s&&!r[o]&&(i.push(e.get(s)),r[o]=!0)}return i}var a=f(i);return function(t,e,i,o){function s(){o.domOperation(),a(t,o)}function c(t,e,i,r,a){var o;switch(i){case"animate":o=[e,r.from,r.to,a];break;case"setClass":o=[e,g,v,a];break;case"addClass":o=[e,g,a];break;case"removeClass":o=[e,v,a];break;default:o=[e,a]}o.push(r);var s=t.apply(t,o);if(s)if(z(s.start)&&(s=s.start()),s instanceof n)s.done(a);else if(z(s))return s;return R}function u(t,e,i,r,a){var o=[];return j(r,function(r){var s=r[a];s&&o.push(function(){var r,a,o=!1,u=function(t){o||(o=!0,(a||R)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),a=c(s,t,e,i,function(t){var e=t===!1;u(e)}),r})}),o}function l(t,e,i,r,a){var o=u(t,e,i,r,a);if(0===o.length){var s,c;"beforeSetClass"===a?(s=u(t,"removeClass",i,r,"beforeRemoveClass"),c=u(t,"addClass",i,r,"beforeAddClass")):"setClass"===a&&(s=u(t,"removeClass",i,r,"removeClass"),c=u(t,"addClass",i,r,"addClass")),s&&(o=o.concat(s)),c&&(o=o.concat(c))}if(0!==o.length)return function(t){var e=[];return o.length&&j(o,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){j(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&B(i)&&(o=i,i=null),o=d(o),i||(i=t.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var h,f,g=o.addClass,v=o.removeClass,m=r(i);if(m.length){var $,y;"leave"==e?(y="leave",$="afterLeave"):(y="before"+e.charAt(0).toUpperCase()+e.substr(1),$=e),"enter"!==e&&"move"!==e&&(h=l(t,e,o,m,y)),f=l(t,e,o,m,$)}return h||f?{start:function(){function e(e){c=!0,s(),p(t,o),u.complete(e)}function i(t){c||((r||R)(t),e(t))}var r,a=[];h&&a.push(function(t){r=h(t)}),a.length?a.push(function(t){s(),t(!0)}):s(),f&&a.push(function(t){r=f(t)});var c=!1,u=new n({end:function(){i()},cancel:function(){i(!0)}});return n.chain(a,e),u}}:void 0}}]}],Kt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,a=e.classes;return t(n,i,a,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){j(a,function(t){t.end()})}}function n(t){o.complete(t)}var a=[];i&&a.push(i.start()),r&&a.push(r.start()),e.all(a,n);var o=new e({end:t(),cancel:t()});return o}}}return n(t)}}]}],_t="data-ng-animate",At="$ngAnimatePin",kt=["$animateProvider",function(t){function e(t,e,n,i){return o[t].some(function(t){return t(e,n,i)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var r=1,a=2,o=this.rules={skip:[],cancel:[],join:[]};o.join.push(function(t,e,i){return!e.structural&&n(e.options)}),o.skip.push(function(t,e,i){return!e.structural&&!n(e.options)}),o.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),o.skip.push(function(t,e,n){return n.structural&&n.state===a&&!e.structural}),o.cancel.push(function(t,e,n){return n.structural&&e.structural}),o.cancel.push(function(t,e,n){return n.state===a&&e.structural}),o.cancel.push(function(t,e,n){var i=e.options,r=n.options;return i.addClass&&i.addClass===r.removeClass||i.removeClass&&i.removeClass===r.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(o,s,l,h,g,v,$,S,w,C){function K(){var t=!1;return function(e){t?e():s.$$postDigest(function(){t=!0,e()})}}function _(t,e){return m(t,e,{})}function A(t,e){var n=y(t),i=[],r=R[e];return r&&j(r,function(t){t.node.contains(n)&&i.push(t.callback)}),i}function k(t,i,u){function l(e,n,i,r){w(function(){var e=A(t,n);e.length&&o(function(){j(e,function(e){e(t,i,r)})})}),e.progress(n,i,r)}function h(e){x(t,u),J(t,u),p(t,u),u.domOperation(),S.complete(!e)}var f,g;t=c(t),t&&(f=y(t),g=t.parent()),u=d(u);var S=new $,w=K();if(V(u.addClass)&&(u.addClass=u.addClass.join(" ")),u.addClass&&!U(u.addClass)&&(u.addClass=null),V(u.removeClass)&&(u.removeClass=u.removeClass.join(" ")),u.removeClass&&!U(u.removeClass)&&(u.removeClass=null),u.from&&!B(u.from)&&(u.from=null),u.to&&!B(u.to)&&(u.to=null),!f)return h(),S;var C=[f.className,u.addClass,u.removeClass].join(" ");if(!X(C))return h(),S;var k=["enter","move","leave"].indexOf(i)>=0,P=!N||O.get(f),L=!P&&M.get(f)||{},R=!!L.state;if(P||R&&L.state==r||(P=!E(t,g,i)),P)return h(),S;k&&T(t);var I={structural:k,element:t,event:i,close:h,options:u,runner:S};if(R){var G=e("skip",t,I,L);if(G)return L.state===a?(h(),S):(m(t,L.options,u),L.runner);var H=e("cancel",t,I,L);if(H)if(L.state===a)L.runner.end();else{if(!L.structural)return m(t,L.options,I.options),L.runner;L.close()}else{var q=e("join",t,I,L);if(q){if(L.state!==a)return b(t,k?i:null,u),i=I.event=L.event,u=m(t,L.options,I.options),L.runner;_(t,u)}}}else _(t,u);var z=I.structural;if(z||(z="animate"===I.event&&Object.keys(I.options.to||{}).length>0||n(I.options)),!z)return h(),F(t),S;var W=(L.counter||0)+1;return I.counter=W,D(t,r,I),s.$$postDigest(function(){var e=M.get(f),r=!e;e=e||{};var o=t.parent()||[],s=o.length>0&&("animate"===e.event||e.structural||n(e.options));if(r||e.counter!==W||!s)return r&&(J(t,u),p(t,u)),(r||k&&e.event!==i)&&(u.domOperation(),S.end()),void(s||F(t));i=!e.structural&&n(e.options,!0)?"setClass":e.event,D(t,a);var c=v(t,i,e.options);c.done(function(e){h(!e);var n=M.get(f);n&&n.counter===W&&F(y(t)),l(S,i,"close",{})}),S.setHost(c),l(S,i,"start",{})}),S}function T(t){var e=y(t),n=e.querySelectorAll("["+_t+"]");j(n,function(t){var e=parseInt(t.getAttribute(_t)),n=M.get(t);switch(e){case a:n.runner.end();case r:n&&M.remove(t)}})}function F(t){var e=y(t);e.removeAttribute(_t),M.remove(e)}function P(t,e){return y(t)===y(e)}function E(t,e,n){var i,r=G(h[0].body),a=P(t,r)||"HTML"===t[0].nodeName,o=P(t,l),s=!1,c=t.data(At);for(c&&(e=c);e&&e.length;){o||(o=P(e,l));var u=e[0];if(u.nodeType!==Y)break;var f=M.get(u)||{};if(s||(s=f.structural||O.get(u)),H(i)||i===!0){var d=e.data(et);q(d)&&(i=d)}if(s&&i===!1)break;o||(o=P(e,l),o||(c=e.data(At),c&&(e=c))),a||(a=P(e,r)),e=e.parent()}var p=!s||i;return p&&o&&a}function D(t,e,n){n=n||{},n.state=e;var i=y(t);i.setAttribute(_t,e);var r=M.get(i),a=r?I(r,n):n;M.put(i,a)}var M=new g,O=new g,N=null,L=s.$watch(function(){return 0===S.totalPendingRequests},function(t){t&&(L(),s.$$postDigest(function(){s.$$postDigest(function(){null===N&&(N=!0)})}))}),R={},z=t.classNameFilter(),X=z?function(t){return z.test(t)}:function(){return!0},J=f(w);return{on:function(t,e,n){var i=u(e);R[t]=R[t]||[],R[t].push({node:i,callback:n})},off:function(t,e,n){function i(t,e,n){var i=u(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}var r=R[t];r&&(R[t]=1===arguments.length?null:i(r,e,n))},pin:function(t,e){i(W(t),"element","not an element"),i(W(e),"parentElement","not an element"),t.data(At,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,k(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!N;else{var i=W(t);if(i){var r=y(t),a=O.get(r);1===n?e=!a:(e=!!e,e?a&&O.remove(r):O.put(r,!0))}else e=N=!!t}return e}}}]}],Tt=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],Ft=["$q","$sniffer","$$animateAsyncRun",function(t,e,n){function i(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}var r=0,a=1,o=2;return i.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},i.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;j(t,function(t){t.done(n)})},i.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===o?t():this._doneCallbacks.push(t)},progress:R,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===r&&(e._state=a,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==o&&(j(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=o)}},i}],Pt=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function i(t){return t.data(s)}var a="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,s,c,u,l,h){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,i=n.parentNode;a.put(n,t);for(var o;i;){if(o=a.get(i)){o.processed||(o=e(o));break}i=i.parentNode}return(o||r).children.push(t),t}function n(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,a=0,o=[];for(e=0;e<i.length;e++){var s=i[e];0>=r&&(r=a,a=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(t){a++,i.push(t)}),r--}return o.length&&n.push(o),n}var i,r={children:[]},a=new l;for(i=0;i<t.length;i++){var o=t[i];a.put(o.domNode,t[i]={domNode:o.domNode,fn:o.fn,children:[]})}for(i=0;i<t.length;i++)e(t[i]);return n(r)}var v=[],m=f(t);return function(l,f,$){function b(t){var e="["+a+"]",n=t.hasAttribute(a)?[t]:t.querySelectorAll(e),i=[];return j(n,function(t){var e=t.getAttribute(a);e&&e.length&&i.push(t)}),i}function x(t){var e=[],n={};j(t,function(t,i){var r=t.element,o=y(r),s=t.event,c=["enter","move"].indexOf(s)>=0,u=t.structural?b(o):[];if(u.length){var l=c?"to":"from";j(u,function(t){var e=t.getAttribute(a);n[e]=n[e]||{},n[e][l]={animationID:i,element:G(t)}})}else e.push(t)});var i={},r={};return j(n,function(n,a){var o=n.from,s=n.to;if(!o||!s){var c=o?o.animationID:s.animationID,u=c.toString();return void(i[u]||(i[u]=!0,e.push(t[c])))}var l=t[o.animationID],h=t[s.animationID],f=o.animationID.toString();if(!r[f]){var d=r[f]={structural:!0,beforeStart:function(){l.beforeStart(),h.beforeStart()},close:function(){l.close(),h.close()},classes:S(l.classes,h.classes),from:l,to:h,anchors:[]};d.classes.length?e.push(d):(e.push(l),e.push(h))}r[f].anchors.push({out:o.element,"in":s.element})}),e}function S(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var a=0;a<e.length;a++)if(r===e[a]){n.push(r);break}}return n.join(" ")}function w(t){for(var e=o.length-1;e>=0;e--){var n=o[e];if(c.has(n)){var i=c.get(n),r=i(t);if(r)return r}}}function C(){l.addClass(tt),P&&t.addClass(l,P)}function K(t,e){function n(t){i(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function _(){var t=i(l);!t||"leave"===f&&$.$$domOperationFired||t.end()}function A(e){l.off("$destroy",_),n(l),m(l,$),p(l,$),$.domOperation(),P&&t.removeClass(l,P),l.removeClass(tt),T.complete(!e)}$=d($);var k=["enter","move","leave"].indexOf(f)>=0,T=new u({end:function(){A()},cancel:function(){A(!0)}});if(!o.length)return A(),T;e(l,T);var F=r(l.attr("class"),r($.addClass,$.removeClass)),P=$.tempClasses;return P&&(F+=" "+P,$.tempClasses=null),v.push({element:l,classes:F,event:f,structural:k,options:$,beforeStart:C,close:A}),l.on("$destroy",_),v.length>1?T:(s.$$postDigest(function(){var t=[];j(v,function(e){i(e.element)?t.push(e):e.close()}),v.length=0;var e=x(t),n=[];j(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close,r=t.anchors?t.from.element||t.to.element:t.element;if(i(r)){var a=w(t);a&&(e=a.start)}if(e){var o=e();o.done(function(t){n(!t)}),K(t,o)}else n()}})}),h(g(n))}),T)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",gt).factory("$$rAFScheduler",pt).factory("$$AnimateRunner",Ft).factory("$$animateAsyncRun",Tt).provider("$$animateQueue",kt).provider("$$animation",Pt).provider("$animateCss",St).provider("$$animateCssDriver",wt).provider("$$animateJs",Ct).provider("$$animateJsDriver",Kt)}(window,window.angular),!function(t){"use strict";function e(t,e){return-1!==t.indexOf(e,t.length-e.length)}function n(){}function i(t,s){function c(t,e){return S.push(t),w.push(e),K!=o&&(K=o,setTimeout(function(){u()},0)),p}function u(){if(K!=o)return K=r,_(t),void(_=n);if(++C==S.length){if(!g)return void(K=r);C=0}S[C].apply(null,[].concat(u,w[C]))}function l(e,n,i){var r=n.length;return r?void function a(o){setTimeout(function(){x(t,b(t)+n[o]),o+=1,r>o?a(o):e()},i)}(0):e()}function h(n,i,r){var a=b(t),o=a.length;return null!=i&&("string"==typeof i?o=e(a,i+y)?i.length+y.length:0:i>-1&&(o=Math.min(i,o))),o?void function s(e){setTimeout(function(){var i=b(t);e?(x(t,i.substring(0,i.length-1)),s(e-1)):n()},r)}(o):n()}function f(e){x(t,""),e()}function d(e,n){n.call(e,t)}var p=this;if(!(p instanceof i))return new i(t,s);s=s||{};var g=s.loop,v=s.speed||s.typeSpeed||50,m=s.speed||s.deleteSpeed||50,$=s.delay||s.pauseDelay||2e3,y=s.postfix||"",b=s.getter||function(t){return t.innerHTML},x=s.setter||function(t,e){t.innerHTML=e},S=[],w=[],C=-1,K=r,_=n;p.type=function(t,e){return c(l,[t+y,e||v])},p["delete"]=function(t,e){return c(h,[t,e||m])},p.clear=function(){return c(f)},p.pause=function(t){return c(setTimeout,[t||$])},p.call=function(t){return c(d,[t])},p.triggerPause=function(t){return K=a,_=t||n,p},p.triggerResume=function(){if(K!=o){var t=K;K=o,t==r&&u()}return p},p.isRunning=function(){return K!=r}}var r=0,a=1,o=2;"object"==typeof module?module.exports=i:t.malarkey=i}(this);/*
 * KineticJS JavaScript Framework v5.1.0
 * http://www.kineticjs.com/
 * Copyright 2013, Eric Rowell
 * Licensed under the MIT or GPL Version 2 licenses.
 * Date: 2014-03-27
 *
 * Copyright (C) 2011 - 2013 by Eric Rowell
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Kinetic={};!function(t){var e=Math.PI/180;Kinetic={version:"5.1.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,UA:function(){var e=t.navigator&&t.navigator.userAgent||"",n=e.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],r=!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",mobile:r}}(),Filters:{},Node:function(t){this._init(t)},Shape:function(t){this.__init(t)},Container:function(t){this.__init(t)},Stage:function(t){this.___init(t)},BaseLayer:function(t){this.___init(t)},Layer:function(t){this.____init(t)},FastLayer:function(t){this.____init(t)},Group:function(t){this.___init(t)},isDragging:function(){var t=Kinetic.DD;return t?t.isDragging:!1},isDragReady:function(){var t=Kinetic.DD;return t?!!t.node:!1},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){void 0!==e&&(void 0===this.names[e]&&(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(void 0!==t){var n=this.names[t];if(void 0!==n){for(var i=0;i<n.length;i++){var r=n[i];r._id===e&&n.splice(i,1)}0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*e:t}}}(this),function(t,e){if("object"==typeof exports){var n=require("canvas"),i=require("jsdom").jsdom,r=i("<!DOCTYPE html><html><head></head><body></body></html>"),a=e();return Kinetic.document=r,Kinetic.window=Kinetic.document.createWindow(),Kinetic.window.Image=n.Image,Kinetic.root=t,Kinetic._nodeCanvas=n,void(module.exports=a)}"function"==typeof define&&define.amd&&define(e),Kinetic.document=document,Kinetic.window=window,Kinetic.root=t}((1,eval)("this"),function(){return Kinetic}),function(){Kinetic.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;e>n;n++)this[n]=t[n];return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Kinetic.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;n>t;t++)e.push(this[t]);return e},Kinetic.Collection.toCollection=function(t){var e,n=new Kinetic.Collection,i=t.length;for(e=0;i>e;e++)n.push(t[e]);return n},Kinetic.Collection._mapMethod=function(t){Kinetic.Collection.prototype[t]=function(){var e,n=this.length,i=[].slice.call(arguments);for(e=0;n>e;e++)this[e][t].apply(this[e],i);return this}},Kinetic.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)Kinetic.Collection._mapMethod(n)},Kinetic.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Kinetic.Transform.prototype={copy:function(){return new Kinetic.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,a=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=a,this.m[3]=o,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=a,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,r=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],a=this.m[3],o=this.m[4],s=this.m[5],c=(n*(e-s)-i*(t-o))/(n*a-i*r),u=(t-o-r*c)/n;return this.translate(u,c)}};var t="2d",e="[object Array]",n="[object Number]",i="[object String]",r=Math.PI/180,a=180/Math.PI,o="#",s="",c="0",u="Kinetic warning: ",l="Kinetic error: ",h="rgb(",f={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return Object.prototype.toString.call(t)==e},_isNumber:function(t){return Object.prototype.toString.call(t)==n},_isString:function(t){return Object.prototype.toString.call(t)==i},_throttle:function(t,e,n){var i,r,a,o=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:(new Date).getTime(),o=null,a=t.apply(i,r),i=r=null};return function(){var u=(new Date).getTime();s||n.leading!==!1||(s=u);var l=e-(u-s);return i=this,r=arguments,0>=l?(clearTimeout(o),o=null,s=u,a=t.apply(i,r),i=r=null):o||n.trailing===!1||(o=setTimeout(c,l)),a}},_hasMethods:function(t){var e,n=[];for(e in t)this._isFunction(t[e])&&n.push(e);return n.length>0},createCanvasElement:function(){var t=Kinetic.document.createElement("canvas");return t.style=t.style||{},t},isBrowser:function(){return"object"!=typeof exports},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Kinetic.document)return!0;return!1},_simplifyArray:function(t){var e,n,i=[],r=t.length,a=Kinetic.Util;for(e=0;r>e;e++)n=t[e],a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n=n.toString()),i.push(n);return i},_getImage:function(e,n){var i,r;if(e)if(this._isElement(e))n(e);else if(this._isString(e))i=new Kinetic.window.Image,i.onload=function(){n(i)},i.src=e;else if(e.data){r=Kinetic.Util.createCanvasElement(),r.width=e.width,r.height=e.height;var a=r.getContext(t);a.putImageData(e,0,0),this._getImage(r.toDataURL(),n)}else n(null);else n(null)},_getRGBAString:function(t){var e=t.red||0,n=t.green||0,i=t.blue||0,r=t.alpha||1;return["rgba(",e,",",n,",",i,",",r,")"].join(s)},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(o,s);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=c+t;return o+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in f?(e=f[t],{r:e[0],g:e[1],b:e[2]}):t[0]===o?this._hexToRgb(t.substring(1)):t.substr(0,4)===h?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},_merge:function(t,e){var n=this._clone(e);for(var i in t)n[i]=this._isObject(t[i])?this._merge(t[i],n[i]):t[i];return n},cloneObject:function(t){var e={};for(var n in t)e[n]=this._isObject(t[n])?this.cloneObject(t[n]):this._isArray(t[n])?this.cloneArray(t[n]):t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},error:function(t){throw new Error(l+t)},warn:function(t){Kinetic.root.console&&console.warn&&console.warn(u+t)},extend:function(t,e){for(var n in e.prototype)n in t.prototype||(t.prototype[n]=e.prototype[n])},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,i,r,a,o){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),c=Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2)),u=o*s/(s+c),l=o*c/(s+c),h=n-u*(r-t),f=i-u*(a-e),d=n+l*(r-t),p=i+l*(a-e);return[h,f,d,p]},_expandPoints:function(t,e){var n,i,r=t.length,a=[];for(n=2;r-2>n;n+=2)i=Kinetic.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),a.push(i[0]),a.push(i[1]),a.push(t[n]),a.push(t[n+1]),a.push(i[2]),a.push(i[3]);return a},_removeLastLetter:function(t){return t.substring(0,t.length-1)}}}(),function(){var t=Kinetic.Util.createCanvasElement(),e=t.getContext("2d"),n=Kinetic.UA.mobile?function(){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n}():1;Kinetic.Canvas=function(t){this.init(t)},Kinetic.Canvas.prototype={init:function(t){t=t||{};var e=t.pixelRatio||Kinetic.pixelRatio||n;this.pixelRatio=e,this._canvas=Kinetic.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){this.pixelRatio=t,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px"},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(n){try{return this._canvas.toDataURL()}catch(i){return Kinetic.Util.warn("Unable to get data URL. "+i.message),""}}}},Kinetic.SceneCanvas=function(t){t=t||{};var e=t.width||0,n=t.height||0;Kinetic.Canvas.call(this,t),this.context=new Kinetic.SceneContext(this),this.setSize(e,n)},Kinetic.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio,n=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,t),n.scale(e,e)},setHeight:function(t){var e=this.pixelRatio,n=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,t),n.scale(e,e)}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(t){t=t||{};var e=t.width||0,n=t.height||0;Kinetic.Canvas.call(this,t),this.context=new Kinetic.HitContext(this),this.setSize(e,n)},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var t=",",e="(",n=")",i="([",r="])",a=";",o="()",s="=",c=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Kinetic.Context=function(t){this.init(t)},Kinetic.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Kinetic.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){var e=t.getFillEnabled();e&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(c){var u,l,h,f,d=this.traceArr,p=d.length,g="";for(u=0;p>u;u++)l=d[u],h=l.method,h?(f=l.args,g+=h,g+=c?o:Kinetic.Util._isArray(f[0])?i+f.join(t)+r:e+f.join(t)+n):(g+=l.property,c||(g+=s+l.val)),g+=a;return g},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e,n=this.traceArr;n.push(t),e=n.length,e>=Kinetic.traceArrMax&&n.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth(),e.getHeight())},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},fill:function(){this._context.fill()},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,n=this,i=c.length,r=Kinetic.Util._simplifyArray,a=this.setAttr,o=function(t){var i,a=n[t];n[t]=function(){return e=r(Array.prototype.slice.call(arguments,0)),i=a.apply(n,arguments),n._trace({method:t,args:e}),i}};for(t=0;i>t;t++)o(c[t]);n.setAttr=function(){a.apply(n,arguments),n._trace({property:arguments[0],val:arguments[1]})}}},Kinetic.SceneContext=function(t){Kinetic.Context.call(this,t)},Kinetic.SceneContext.prototype={_fillColor:function(t){var e=t.fill()||Kinetic.Util._getRGBAString({red:t.fillRed(),green:t.fillGreen(),blue:t.fillBlue(),alpha:t.fillAlpha()});this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternImage(),n=t.getFillPatternX(),i=t.getFillPatternY(),r=t.getFillPatternScale(),a=Kinetic.getAngle(t.getFillPatternRotation()),o=t.getFillPatternOffset(),s=t.getFillPatternRepeat();(n||i)&&this.translate(n||0,i||0),a&&this.rotate(a),r&&this.scale(r.x,r.y),o&&this.translate(-1*o.x,-1*o.y),this.setAttr("fillStyle",this.createPattern(e,s||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),i=t.getFillLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var a=0;a<i.length;a+=2)r.addColorStop(i[a],i[a+1]);this.setAttr("fillStyle",r),this.fill()}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),i=t.getFillRadialGradientStartRadius(),r=t.getFillRadialGradientEndRadius(),a=t.getFillRadialGradientColorStops(),o=this.createRadialGradient(e.x,e.y,i,n.x,n.y,r),s=0;s<a.length;s+=2)o.addColorStop(a[s],a[s+1]);this.setAttr("fillStyle",o),this.fill()},_fill:function(t){var e=t.fill()||t.fillRed()||t.fillGreen()||t.fillBlue(),n=t.getFillPatternImage(),i=t.getFillLinearGradientColorStops(),r=t.getFillRadialGradientColorStops(),a=t.getFillPriority();e&&"color"===a?this._fillColor(t):n&&"pattern"===a?this._fillPattern(t):i&&"linear-gradient"===a?this._fillLinearGradient(t):r&&"radial-gradient"===a?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):i?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&this.setLineDash(e),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()||Kinetic.Util._getRGBAString({red:t.strokeRed(),green:t.strokeGreen(),blue:t.strokeBlue(),alpha:t.strokeAlpha()})),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=Kinetic.Util,n=t.getAbsoluteOpacity(),i=e.get(t.getShadowColor(),"black"),r=e.get(t.getShadowBlur(),5),a=e.get(t.getShadowOpacity(),1),o=e.get(t.getShadowOffset(),{x:0,y:0});a&&this.setAttr("globalAlpha",a*n),this.setAttr("shadowColor",i),this.setAttr("shadowBlur",r),this.setAttr("shadowOffsetX",o.x),this.setAttr("shadowOffsetY",o.y)}},Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context),Kinetic.HitContext=function(t){Kinetic.Context.call(this,t)},Kinetic.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){t.hasStroke()&&(this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this))}},Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)}(),function(){var t="get",e="set";Kinetic.Factory={addGetterSetter:function(t,e,n,i,r){this.addGetter(t,e,n),this.addSetter(t,e,i,r),this.addOverloadedGetterSetter(t,e)},addGetter:function(e,n,i){var r=t+Kinetic.Util._capitalize(n);e.prototype[r]=function(){var t=this.attrs[n];return void 0===t?i:t}},addSetter:function(t,n,i,r){var a=e+Kinetic.Util._capitalize(n);t.prototype[a]=function(t){return i&&(t=i.call(this,t)),this._setAttr(n,t),r&&r.call(this),this}},addComponentsGetterSetter:function(n,i,r,a,o){var s,c,u=r.length,l=Kinetic.Util._capitalize,h=t+l(i),f=e+l(i);n.prototype[h]=function(){var t={};for(s=0;u>s;s++)c=r[s],t[c]=this.getAttr(i+l(c));return t},n.prototype[f]=function(t){var e,n=this.attrs[i];a&&(t=a.call(this,t));for(e in t)this._setAttr(i+l(e),t[e]);return this._fireChangeEvent(i,n,t),o&&o.call(this),this},this.addOverloadedGetterSetter(n,i)},addOverloadedGetterSetter:function(n,i){var r=Kinetic.Util._capitalize(i),a=e+r,o=t+r;n.prototype[i]=function(){return arguments.length?(this[a](arguments[0]),this):this[o]()}},backCompat:function(t,e){var n;for(n in e)t.prototype[n]=t.prototype[e[n]]},afterSetFilter:function(){this._filterUpToDate=!1}},Kinetic.Validators={RGBComponent:function(t){return t>255?255:0>t?0:Math.round(t)},alphaComponent:function(t){return t>1?1:1e-4>t?1e-4:t}}}(),function(){var t="absoluteOpacity",e="absoluteTransform",n="Change",i="children",r=".",a="",o="get",s="id",c="kinetic",u="listening",l="mouseenter",h="mouseleave",f="name",d="set",p="Shape",g=" ",v="stage",m="transform",$="Stage",y="visible",b=["id"],x=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(g);Kinetic.Util.addMethods(Kinetic.Node,{_init:function(n){var i=this;this._id=Kinetic.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(n),this.on(x,function(){this._clearCache(m),i._clearSelfAndDescendantCache(e)}),this.on("visibleChange.kinetic",function(){i._clearSelfAndDescendantCache(y)}),this.on("listeningChange.kinetic",function(){i._clearSelfAndDescendantCache(u)}),this.on("opacityChange.kinetic",function(){i._clearSelfAndDescendantCache(t)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){var n=this._cache[t];return void 0===n&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){{var e=t||{},n=e.x||0,i=e.y||0,r=e.width||this.width(),a=e.height||this.height(),o=e.drawBorder||!1;this.getLayer()}if(0===r||0===a)return void Kinetic.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.");var s=new Kinetic.SceneCanvas({pixelRatio:1,width:r,height:a}),c=new Kinetic.SceneCanvas({pixelRatio:1,width:r,height:a}),u=new Kinetic.HitCanvas({width:r,height:a}),l=(this.transformsEnabled(),this.x(),this.y(),s.getContext()),h=u.getContext();return this.clearCache(),l.save(),h.save(),o&&(l.save(),l.beginPath(),l.rect(0,0,r,a),l.closePath(),l.setAttr("strokeStyle","red"),l.setAttr("lineWidth",5),l.stroke(),l.restore()),l.translate(-1*n,-1*i),h.translate(-1*n,-1*i),"Shape"===this.nodeType&&(l.translate(-1*this.x(),-1*this.y()),h.translate(-1*this.x(),-1*this.y())),this.drawScene(s,this),this.drawHit(u,this),l.restore(),h.restore(),this._cache.canvas={scene:s,filter:c,hit:u},this},_drawCachedSceneCanvas:function(t){t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(this._getCachedSceneCanvas()._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var t,e,n,i,r=this.filters(),a=this._cache.canvas,o=a.scene,s=a.filter,c=s.getContext();if(r){if(!this._filterUpToDate){try{for(t=r.length,c.clear(),c.drawImage(o._canvas,0,0),e=c.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;t>n;n++)i=r[n],i.call(this,e),c.putImageData(e,0,0)}catch(u){Kinetic.Util.warn("Unable to apply filter. "+u.message)}this._filterUpToDate=!0}return s}return o},_drawCachedHitCanvas:function(t){var e=this._cache.canvas,n=e.hit;t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(n._canvas,0,0),t.restore()},on:function(t,e){var n,i,o,s,c,u=t.split(g),l=u.length;for(n=0;l>n;n++)i=u[n],o=i.split(r),s=o[0],c=o[1]||a,this.eventListeners[s]||(this.eventListeners[s]=[]),this.eventListeners[s].push({name:c,handler:e});return this},off:function(t){var e,n,i,a,o,s,c=t.split(g),u=c.length;for(e=0;u>e;e++)if(i=c[e],a=i.split(r),o=a[0],s=a[1],o)this.eventListeners[o]&&this._off(o,s);else for(n in this.eventListeners)this._off(n,s);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};this.fire(t.type,e)},addEventListener:function(t,e){this.on(t,function(t){e.call(this,t.evt)})},remove:function(){var n=this.getParent();return n&&n.children&&(n.children.splice(this.index,1),n._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(e),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(t),this},destroy:function(){Kinetic._removeId(this.getId()),Kinetic._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e=o+Kinetic.Util._capitalize(t);return Kinetic.Util._isFunction(this[e])?this[e]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),e=new Kinetic.Collection;t;)e.push(t),t=t.getParent();return e},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var e,n;if(t)for(e in t)e===i||(n=d+Kinetic.Util._capitalize(e),Kinetic.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},isListening:function(){return this._getCache(u,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?e?e.isListening():!0:t},isVisible:function(){return this._getCache(y,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?e?e.isVisible():!0:t},shouldDrawHit:function(){var t=this.getLayer();return t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()&&!Kinetic.isDragging()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function t(c){for(e=[],n=c.length,i=0;n>i;i++)r=c[i],s++,r.nodeType!==p&&(e=e.concat(r.getChildren().toArray())),r._id===o._id&&(i=n);e.length>0&&e[0].getDepth()<=a&&t(e)}var e,n,i,r,a=this.getDepth(),o=this,s=0;return o.nodeType!==$&&t(o.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform().getMatrix(),e=new Kinetic.Transform,n=this.offset();return e.m=t.slice(),e.translate(n.x,n.y),e.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,e=this.getAbsoluteTransform(),e.invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var n;for(n in t)this.attrs[n]=t[n];this._clearCache(m),this._clearSelfAndDescendantCache(e)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(m),this._clearSelfAndDescendantCache(e),t},move:function(t){var e=t.x,n=t.y,i=this.getX(),r=this.getY();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this},_eachAncestorReverse:function(t,e){var n,i,r=[],a=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(r.unshift(this);a&&(!e||a._id!==e._id);)r.unshift(a),a=a.parent;for(n=r.length,i=0;n>i;i++)t(r[i])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveToTop function is ignored.");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveUp function is ignored.");var t=this.index,e=this.parent.getChildren().length;return e-1>t?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1},moveDown:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveDown function is ignored.");var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1},moveToBottom:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveToBottom function is ignored.");var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1},setZIndex:function(t){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. zIndex parameter is ignored.");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(t,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return Kinetic.Node.prototype.remove.call(this),t.add(this),this},toObject:function(){var t,e,n,i,r=Kinetic.Util,a={},o=this.getAttrs();a.attrs={};for(t in o)e=o[t],r._isFunction(e)||r._isElement(e)||r._isObject(e)&&r._hasMethods(e)||(n=this[t],delete o[t],i=n?n.call(this):null,o[t]=e,i!==e&&(a.attrs[t]=e));return a.className=this.getClassName(),a},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache(v,this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return n?this._fireAndBubble(t,e||{}):this._fire(t,e||{}),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(e,this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var e,n,i=new Kinetic.Transform;return this._eachAncestorReverse(function(t){e=t.transformsEnabled(),n=t.getTransform(),"all"===e?i.multiply(n):"position"===e&&i.translate(t.x(),t.y())},t),i},getTransform:function(){return this._getCache(m,this._getTransform)},_getTransform:function(){var t=new Kinetic.Transform,e=this.getX(),n=this.getY(),i=Kinetic.getAngle(this.getRotation()),r=this.getScaleX(),a=this.getScaleY(),o=this.getSkewX(),s=this.getSkewY(),c=this.getOffsetX(),u=this.getOffsetY();return(0!==e||0!==n)&&t.translate(e,n),0!==i&&t.rotate(i),(0!==o||0!==s)&&t.skew(o,s),(1!==r||1!==a)&&t.scale(r,a),(0!==c||0!==u)&&t.translate(-1*c,-1*u),t},clone:function(t){var e,n,i,r,a,o=this.getClassName(),s=Kinetic.Util.cloneObject(this.attrs);for(var u in b){var l=b[u];delete s[l]}for(e in t)s[e]=t[e];var h=new Kinetic[o](s);for(e in this.eventListeners)for(n=this.eventListeners[e],i=n.length,r=0;i>r;r++)a=n[r],a.name.indexOf(c)<0&&(h.eventListeners[e]||(h.eventListeners[e]=[]),h.eventListeners[e].push(a));return h},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null,i=this.getStage(),r=t.x||0,a=t.y||0,o=new Kinetic.SceneCanvas({width:t.width||this.getWidth()||(i?i.getWidth():0),height:t.height||this.getHeight()||(i?i.getHeight():0),pixelRatio:1}),s=o.getContext();return s.save(),(r||a)&&s.translate(-1*r,-1*a),this.drawScene(o),s.restore(),o.toDataURL(e,n)},toImage:function(t){Kinetic.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kinetic.dragDistance},_get:function(t){return this.nodeType===t?[this]:[]},_off:function(t,e){var n,i,r=this.eventListeners[t];for(n=0;n<r.length;n++)if(i=r[n].name,!("kinetic"===i&&"kinetic"!==e||e&&i!==e)){if(r.splice(n,1),0===r.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,i){this._fire(t+n,{oldVal:e,newVal:i})},setId:function(t){var e=this.getId();return Kinetic._removeId(e),Kinetic._addId(this,t),
this._setAttr(s,t),this},setName:function(t){var e=this.getName();return Kinetic._removeName(e,this._id),Kinetic._addName(this,t),this._setAttr(f,t),this},setAttr:function(){var t=Array.prototype.slice.call(arguments),e=t[0],n=t[1],i=d+Kinetic.Util._capitalize(e),r=this[i];return Kinetic.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this},_setAttr:function(t,e){var n;void 0!==e&&(n=this.attrs[t],this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var i;void 0!==n&&(i=this.attrs[t],i||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))},_fireAndBubble:function(t,e,n){var i=!0;e&&this.nodeType===p&&(e.target=this),t===l&&n&&this._id===n._id?i=!1:t===h&&n&&this._id===n._id&&(i=!1),i&&(this._fire(t,e),e&&!e.cancelBubble&&this.parent&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e)))},_fire:function(t,e){var n,i=this.eventListeners[t];if(e.type=t,i)for(n=0;n<i.length;n++)i[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),Kinetic.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},Kinetic.Node._createNode=function(t,e){var n,i,r,a=Kinetic.Node.prototype.getClassName.call(t),o=t.children;if(e&&(t.attrs.container=e),n=new Kinetic[a](t.attrs),o)for(i=o.length,r=0;i>r;r++)n.add(this._createNode(o[r]));return n},Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"position"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Factory.addGetter(Kinetic.Node,"name"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"name"),Kinetic.Factory.addGetter(Kinetic.Node,"id"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"id"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"rotation",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"scale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"skew",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"offset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetY",0),Kinetic.Factory.addSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addSetter(Kinetic.Node,"width",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"width"),Kinetic.Factory.addSetter(Kinetic.Node,"height",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"height"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"visible","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"transformsEnabled","all"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"size"),Kinetic.Factory.backCompat(Kinetic.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kinetic.Collection.mapMethods(Kinetic.Node)}(),function(){Kinetic.Filters.Grayscale=function(t){var e,n,i=t.data,r=i.length;for(e=0;r>e;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n}}(),function(){Kinetic.Filters.Brighten=function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;r>e;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},Kinetic.Factory.addGetterSetter(Kinetic.Node,"brightness",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Invert=function(t){var e,n=t.data,i=n.length;for(e=0;i>e;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}}(),function(){/*

     StackBlur - a fast almost Gaussian Blur For Canvas

     Version:   0.5
     Author:    Mario Klingemann
     Contact:   mario@quasimondo.com
     Website:   http://www.quasimondo.com/StackBlurForCanvas
     Twitter:   @quasimondo

     In case you find this class useful - especially in commercial projects -
     I am not totally unhappy for a small donation to my PayPal account
     mario@quasimondo.de

     Or support me on flattr:
     https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

     Copyright (c) 2010 Mario Klingemann

     Permission is hereby granted, free of charge, to any person
     obtaining a copy of this software and associated documentation
     files (the "Software"), to deal in the Software without
     restriction, including without limitation the rights to use,
     copy, modify, merge, publish, distribute, sublicense, and/or sell
     copies of the Software, and to permit persons to whom the
     Software is furnished to do so, subject to the following
     conditions:

     The above copyright notice and this permission notice shall be
     included in all copies or substantial portions of the Software.

     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
     OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
     OTHER DEALINGS IN THE SOFTWARE.
     */
function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,r){var a,o,s,c,u,l,h,f,d,p,g,v,m,$,y,b,x,S,w,C,K,_,A,k,T=e.data,F=e.width,P=e.height,E=r+r+1,D=F-1,M=P-1,O=r+1,N=O*(O+1)/2,L=new t,R=null,I=L,G=null,j=null,V=n[r],U=i[r];for(s=1;E>s;s++)I=I.next=new t,s==O&&(R=I);for(I.next=L,h=l=0,o=0;P>o;o++){for(b=x=S=w=f=d=p=g=0,v=O*(C=T[l]),m=O*(K=T[l+1]),$=O*(_=T[l+2]),y=O*(A=T[l+3]),f+=N*C,d+=N*K,p+=N*_,g+=N*A,I=L,s=0;O>s;s++)I.r=C,I.g=K,I.b=_,I.a=A,I=I.next;for(s=1;O>s;s++)c=l+((s>D?D:s)<<2),f+=(I.r=C=T[c])*(k=O-s),d+=(I.g=K=T[c+1])*k,p+=(I.b=_=T[c+2])*k,g+=(I.a=A=T[c+3])*k,b+=C,x+=K,S+=_,w+=A,I=I.next;for(G=L,j=R,a=0;F>a;a++)T[l+3]=A=g*V>>U,0!==A?(A=255/A,T[l]=(f*V>>U)*A,T[l+1]=(d*V>>U)*A,T[l+2]=(p*V>>U)*A):T[l]=T[l+1]=T[l+2]=0,f-=v,d-=m,p-=$,g-=y,v-=G.r,m-=G.g,$-=G.b,y-=G.a,c=h+((c=a+r+1)<D?c:D)<<2,b+=G.r=T[c],x+=G.g=T[c+1],S+=G.b=T[c+2],w+=G.a=T[c+3],f+=b,d+=x,p+=S,g+=w,G=G.next,v+=C=j.r,m+=K=j.g,$+=_=j.b,y+=A=j.a,b-=C,x-=K,S-=_,w-=A,j=j.next,l+=4;h+=F}for(a=0;F>a;a++){for(x=S=w=b=d=p=g=f=0,l=a<<2,v=O*(C=T[l]),m=O*(K=T[l+1]),$=O*(_=T[l+2]),y=O*(A=T[l+3]),f+=N*C,d+=N*K,p+=N*_,g+=N*A,I=L,s=0;O>s;s++)I.r=C,I.g=K,I.b=_,I.a=A,I=I.next;for(u=F,s=1;r>=s;s++)l=u+a<<2,f+=(I.r=C=T[l])*(k=O-s),d+=(I.g=K=T[l+1])*k,p+=(I.b=_=T[l+2])*k,g+=(I.a=A=T[l+3])*k,b+=C,x+=K,S+=_,w+=A,I=I.next,M>s&&(u+=F);for(l=a,G=L,j=R,o=0;P>o;o++)c=l<<2,T[c+3]=A=g*V>>U,A>0?(A=255/A,T[c]=(f*V>>U)*A,T[c+1]=(d*V>>U)*A,T[c+2]=(p*V>>U)*A):T[c]=T[c+1]=T[c+2]=0,f-=v,d-=m,p-=$,g-=y,v-=G.r,m-=G.g,$-=G.b,y-=G.a,c=a+((c=o+O)<M?c:M)*F<<2,f+=b+=G.r=T[c],d+=x+=G.g=T[c+1],p+=S+=G.b=T[c+2],g+=w+=G.a=T[c+3],G=G.next,v+=C=j.r,m+=K=j.g,$+=_=j.b,y+=A=j.a,b-=C,x-=K,S-=_,w-=A,j=j.next,l+=F}}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(t){var n=Math.round(this.blurRadius());n>0&&e(t,n)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"blurRadius",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function t(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function n(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function i(i,r){var a=t(i,0,0),o=t(i,i.width-1,0),s=t(i,0,i.height-1),c=t(i,i.width-1,i.height-1),u=r||10;if(e(a,o)<u&&e(o,c)<u&&e(c,s)<u&&e(s,a)<u){for(var l=n([o,a,c,s]),h=[],f=0;f<i.width*i.height;f++){var d=e(l,[i.data[4*f],i.data[4*f+1],i.data[4*f+2]]);h[f]=u>d?0:255}return h}}function r(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function a(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;n>s;s++)for(var c=0;e>c;c++){for(var u=s*e+c,l=0,h=0;r>h;h++)for(var f=0;r>f;f++){var d=s+h-a,p=c+f-a;if(d>=0&&n>d&&p>=0&&e>p){var g=d*e+p,v=i[h*r+f];l+=t[g]*v}}o[u]=2040===l?255:0}return o}function o(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;n>s;s++)for(var c=0;e>c;c++){for(var u=s*e+c,l=0,h=0;r>h;h++)for(var f=0;r>f;f++){var d=s+h-a,p=c+f-a;if(d>=0&&n>d&&p>=0&&e>p){var g=d*e+p,v=i[h*r+f];l+=t[g]*v}}o[u]=l>=1020?255:0}return o}function s(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;n>s;s++)for(var c=0;e>c;c++){for(var u=s*e+c,l=0,h=0;r>h;h++)for(var f=0;r>f;f++){var d=s+h-a,p=c+f-a;if(d>=0&&n>d&&p>=0&&e>p){var g=d*e+p,v=i[h*r+f];l+=t[g]*v}}o[u]=l}return o}Kinetic.Filters.Mask=function(t){var e=this.threshold(),n=i(t,e);return n&&(n=a(n,t.width,t.height),n=o(n,t.width,t.height),n=s(n,t.width,t.height),r(t,n)),t},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.RGB=function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue();for(e=0;r>e;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*a,i[e+1]=n*o,i[e+2]=n*s,i[e+3]=i[e+3]},Kinetic.Factory.addGetterSetter(Kinetic.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:0>t?0:Math.round(t)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:0>t?0:Math.round(t)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"blue",0,Kinetic.Validators.RGBComponent,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.HSV=function(t){var e,n,i,r,a,o=t.data,s=o.length,c=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,h=c*u*Math.cos(l*Math.PI/180),f=c*u*Math.sin(l*Math.PI/180),d=.299*c+.701*h+.167*f,p=.587*c-.587*h+.33*f,g=.114*c-.114*h-.497*f,v=.299*c-.299*h-.328*f,m=.587*c+.413*h+.035*f,$=.114*c-.114*h+.293*f,y=.299*c-.3*h+1.25*f,b=.587*c-.586*h-1.05*f,x=.114*c+.886*h-.2*f;for(e=0;s>e;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=d*n+p*i+g*r,o[e+1]=v*n+m*i+$*r,o[e+2]=y*n+b*i+x*r,o[e+3]=a},Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"value",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"luminance",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.HSL=function(t){var e,n,i,r,a,o=t.data,s=o.length,c=1,u=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,h=127*this.luminance(),f=c*u*Math.cos(l*Math.PI/180),d=c*u*Math.sin(l*Math.PI/180),p=.299*c+.701*f+.167*d,g=.587*c-.587*f+.33*d,v=.114*c-.114*f-.497*d,m=.299*c-.299*f-.328*d,$=.587*c+.413*f+.035*d,y=.114*c-.114*f+.293*d,b=.299*c-.3*f+1.25*d,x=.587*c-.586*f-1.05*d,S=.114*c+.886*f-.2*d;for(e=0;s>e;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=p*n+g*i+v*r+h,o[e+1]=m*n+$*i+y*r+h,o[e+2]=b*n+x*i+S*r+h,o[e+3]=a}}(),function(){/**
     * Emboss Filter
     * @function
     * @memberof Kinetic.Filters
     * @param {Object} imageData
     * Pixastic Lib - Emboss filter - v0.1.0
     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
     * License: [http://www.pixastic.com/lib/license.txt]
     */
Kinetic.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),a=0,o=0,s=t.data,c=t.width,u=t.height,l=4*c,h=u;switch(i){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1}do{var f=(h-1)*l,d=a;1>h+d&&(d=0),h+d>u&&(d=0);var p=(h-1+d)*c*4,g=c;do{var v=f+4*(g-1),m=o;1>g+m&&(m=0),g+m>c&&(m=0);var $=p+4*(g-1+m),y=s[v]-s[$],b=s[v+1]-s[$+1],x=s[v+2]-s[$+2],S=y,w=S>0?S:-S,C=b>0?b:-b,K=x>0?x:-x;if(C>w&&(S=b),K>w&&(S=x),S*=e,r){var _=s[v]+S,A=s[v+1]+S,k=s[v+2]+S;s[v]=_>255?255:0>_?0:_,s[v+1]=A>255?255:0>A?0:A,s[v+2]=k>255?255:0>k?0:k}else{var T=n-S;0>T?T=0:T>255&&(T=255),s[v]=s[v+1]=s[v+2]=T}}while(--g)}while(--h)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossStrength",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossWhiteLevel",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossDirection","top-left",null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossBlend",!1,null,Kinetic.Factory.afterSetFilter)}(),function(){function t(t,e,n,i,r){var a,o=n-e,s=r-i;return 0===o?i+s/2:0===s?i:(a=(t-e)/o,a=s*a+i)}Kinetic.Filters.Enhance=function(e){var n,i,r,a,o=e.data,s=o.length,c=o[0],u=c,l=o[1],h=l,f=o[2],d=f,p=o[3],g=p,v=this.enhance();if(0!==v){for(a=0;s>a;a+=4)n=o[a+0],c>n?c=n:n>u&&(u=n),i=o[a+1],l>i?l=i:i>h&&(h=i),r=o[a+2],f>r?f=r:r>d&&(d=r);u===c&&(u=255,c=0),h===l&&(h=255,l=0),d===f&&(d=255,f=0),g===p&&(g=255,p=0);var m,$,y,b,x,S,w,C,K,_,A,k;for(v>0?($=u+v*(255-u),y=c-v*(c-0),x=h+v*(255-h),S=l-v*(l-0),C=d+v*(255-d),k=f-v*(f-0),A=g+v*(255-g),K=p-v*(p-0)):(m=.5*(u+c),$=u+v*(u-m),y=c+v*(c-m),b=.5*(h+l),x=h+v*(h-b),S=l+v*(l-b),w=.5*(d+f),C=d+v*(d-w),k=f+v*(f-w),_=.5*(g+p),A=g+v*(g-_),K=p+v*(p-_)),a=0;s>a;a+=4)o[a+0]=t(o[a+0],c,u,y,$),o[a+1]=t(o[a+1],l,h,S,x),o[a+2]=t(o[a+2],f,d,k,C)}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"enhance",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,a=255/n;for(e=0;r>e;e+=1)i[e]=Math.floor(i[e]/a)*a},Kinetic.Factory.addGetterSetter(Kinetic.Node,"levels",.5,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Noise=function(t){var e,n=255*this.noise(),i=t.data,r=i.length,a=n/2;for(e=0;r>e;e+=4)i[e+0]+=a-2*a*Math.random(),i[e+1]+=a-2*a*Math.random(),i[e+2]+=a-2*a*Math.random()},Kinetic.Factory.addGetterSetter(Kinetic.Node,"noise",.2,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Pixelate=function(t){var e,n,i,r,a,o,s,c,u,l,h,f,d,p,g=Math.ceil(this.pixelSize()),v=t.width,m=t.height,$=Math.ceil(v/g),y=Math.ceil(m/g);for(t=t.data,f=0;$>f;f+=1)for(d=0;y>d;d+=1){for(r=0,a=0,o=0,s=0,c=f*g,u=c+g,l=d*g,h=l+g,p=0,e=c;u>e;e+=1)if(!(e>=v))for(n=l;h>n;n+=1)n>=m||(i=4*(v*n+e),r+=t[i+0],a+=t[i+1],o+=t[i+2],s+=t[i+3],p+=1);for(r/=p,a/=p,o/=p,e=c;u>e;e+=1)if(!(e>=v))for(n=l;h>n;n+=1)n>=m||(i=4*(v*n+e),t[i+0]=r,t[i+1]=a,t[i+2]=o,t[i+3]=s)}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"pixelSize",8,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Threshold=function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;r>e;e+=1)i[e]=i[e]<n?0:255},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",.5,null,Kinetic.Factory.afterSetFilter)}(),function(){/**
     * Sepia Filter
     * Based on: Pixastic Lib - Sepia filter - v0.1.0
     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
     * @function
     * @memberof Kinetic.Filters
     * @param {Object} imageData
     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
     */
Kinetic.Filters.Sepia=function(t){var e,n,i,r,a,o,s,c,u,l=t.data,h=t.width,f=t.height,d=4*h;do{e=(f-1)*d,n=h;do i=e+4*(n-1),r=l[i],a=l[i+1],o=l[i+2],s=.393*r+.769*a+.189*o,c=.349*r+.686*a+.168*o,u=.272*r+.534*a+.131*o,l[i]=s>255?255:s,l[i+1]=c>255?255:c,l[i+2]=u>255?255:u,l[i+3]=l[i+3];while(--n)}while(--f)}}(),function(){/**
     * Solarize Filter
     * @function
     * @memberof Kinetic.Filters
     * @param {Object} imageData
     * Pixastic Lib - Solarize filter - v0.1.0
     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
     * License: [http://www.pixastic.com/lib/license.txt]
     */
Kinetic.Filters.Solarize=function(t){var e=t.data,n=t.width,i=t.height,r=4*n,a=i;do{var o=(a-1)*r,s=n;do{var c=o+4*(s-1),u=e[c],l=e[c+1],h=e[c+2];u>127&&(u=255-u),l>127&&(l=255-l),h>127&&(h=255-h),e[c]=u,e[c+1]=l,e[c+2]=h}while(--s)}while(--a)}}(),function(){var t=function(t,e,n){var i,r,a,o,s=t.data,c=e.data,u=t.width,l=t.height,h=n.polarCenterX||u/2,f=n.polarCenterY||l/2,d=0,p=0,g=0,v=0,m=Math.sqrt(h*h+f*f);r=u-h,a=l-f,o=Math.sqrt(r*r+a*a),m=o>m?o:m;var $,y,b,x,S=l,w=u,C=360/w*Math.PI/180;for(y=0;w>y;y+=1)for(b=Math.sin(y*C),x=Math.cos(y*C),$=0;S>$;$+=1)r=Math.floor(h+m*$/S*x),a=Math.floor(f+m*$/S*b),i=4*(a*u+r),d=s[i+0],p=s[i+1],g=s[i+2],v=s[i+3],i=4*(y+$*u),c[i+0]=d,c[i+1]=p,c[i+2]=g,c[i+3]=v},e=function(t,e,n){var i,r,a,o,s,c,u=t.data,l=e.data,h=t.width,f=t.height,d=n.polarCenterX||h/2,p=n.polarCenterY||f/2,g=0,v=0,m=0,$=0,y=Math.sqrt(d*d+p*p);r=h-d,a=f-p,c=Math.sqrt(r*r+a*a),y=c>y?c:y;var b,x,S,w,C=f,K=h,_=n.polarRotation||0;for(r=0;h>r;r+=1)for(a=0;f>a;a+=1)o=r-d,s=a-p,b=Math.sqrt(o*o+s*s)*C/y,x=(180*Math.atan2(s,o)/Math.PI+360+_)%360,x=x*K/360,S=Math.floor(x),w=Math.floor(b),i=4*(w*h+S),g=u[i+0],v=u[i+1],m=u[i+2],$=u[i+3],i=4*(a*h+r),l[i+0]=g,l[i+1]=v,l[i+2]=m,l[i+3]=$},n=Kinetic.Util.createCanvasElement();Kinetic.Filters.Kaleidoscope=function(i){var r,a,o,s,c,u,l,h,f,d,p=i.width,g=i.height,v=Math.round(this.kaleidoscopePower()),m=Math.round(this.kaleidoscopeAngle()),$=Math.floor(p*(m%360)/360);if(!(1>v)){n.width=p,n.height=g;var y=n.getContext("2d").getImageData(0,0,p,g);t(i,y,{polarCenterX:p/2,polarCenterY:g/2});for(var b=p/Math.pow(2,v);8>=b;)b=2*b,v-=1;b=Math.ceil(b);var x=b,S=0,w=x,C=1;for($+b>p&&(S=x,w=0,C=-1),a=0;g>a;a+=1)for(r=S;r!==w;r+=C)o=Math.round(r+$)%p,f=4*(p*a+o),c=y.data[f+0],u=y.data[f+1],l=y.data[f+2],h=y.data[f+3],d=4*(p*a+r),y.data[d+0]=c,y.data[d+1]=u,y.data[d+2]=l,y.data[d+3]=h;for(a=0;g>a;a+=1)for(x=Math.floor(b),s=0;v>s;s+=1){for(r=0;x+1>r;r+=1)f=4*(p*a+r),c=y.data[f+0],u=y.data[f+1],l=y.data[f+2],h=y.data[f+3],d=4*(p*a+2*x-r-1),y.data[d+0]=c,y.data[d+1]=u,y.data[d+2]=l,y.data[d+3]=h;x*=2}e(y,i,{polarRotation:0})}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopePower",2,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopeAngle",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function t(t){Kinetic.root.setTimeout(t,1e3/60)}function e(){return r.apply(Kinetic.root,arguments)}var n=500,i=function(){return Kinetic.root.performance&&Kinetic.root.performance.now?function(){return Kinetic.root.performance.now()}:function(){return(new Date).getTime()}}(),r=function(){return Kinetic.root.requestAnimationFrame||Kinetic.root.webkitRequestAnimationFrame||Kinetic.root.mozRequestAnimationFrame||Kinetic.root.oRequestAnimationFrame||Kinetic.root.msRequestAnimationFrame||t}();Kinetic.Animation=function(t,e){var n=Kinetic.Animation;this.func=t,this.setLayers(e),this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i()}},Kinetic.Animation.prototype={setLayers:function(t){var e=[];e=t?t.length>0?t:[t]:[],this.layers=e},getLayers:function(){return this.layers},addLayer:function(t){var e,n,i=this.layers;if(i){for(e=i.length,n=0;e>n;n++)if(i[n]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){var t,e=Kinetic.Animation,n=e.animations,i=n.length;for(t=0;i>t;t++)if(n[t].id===this.id)return!0;return!1},start:function(){var t=Kinetic.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;r>e;e++)if(i[e].id===n){this.animations.splice(e,1);break}},Kinetic.Animation._runFrames=function(){var t,e,n,r,a,o,s,c,u={},l=this.animations;for(r=0;r<l.length;r++){for(t=l[r],e=t.layers,n=t.func,t._updateFrameObject(i()),o=e.length,a=0;o>a;a++)s=e[a],void 0!==s._id&&(u[s._id]=s);n&&n.call(t,t.frame)}for(c in u)u[c].draw()},Kinetic.Animation._animationLoop=function(){var t=Kinetic.Animation;t.animations.length?(e(t._animationLoop),t._runFrames()):t.animRunning=!1},Kinetic.Animation._handleAnimation=function(){var t=this;this.animRunning||(this.animRunning=!0,t._animationLoop())};var a=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(t){a.call(this,t)},Kinetic.Layer.prototype.batchDraw=function(){var t=this,e=Kinetic.Animation;this.batchAnim||(this.batchAnim=new e(function(){t.lastBatchDrawTime&&i()-t.lastBatchDrawTime>n&&t.batchAnim.stop()},this)),this.lastBatchDrawTime=i(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(t){t.batchDraw()})}}((1,eval)("this")),function(){var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=1,n=2,i=3,r=0;Kinetic.Tween=function(e){var n,i=this,o=e.node,s=o._id,c=e.duration||1,u=e.easing||Kinetic.Easings.Linear,l=!!e.yoyo;this.node=o,this._id=r++,this.anim=new Kinetic.Animation(function(){i.tween.onEnterFrame()},o.getLayer()),this.tween=new a(n,function(t){i._tweenFunc(t)},u,0,1,1e3*c,l),this._addListeners(),Kinetic.Tween.attrs[s]||(Kinetic.Tween.attrs[s]={}),Kinetic.Tween.attrs[s][this._id]||(Kinetic.Tween.attrs[s][this._id]={}),Kinetic.Tween.tweens[s]||(Kinetic.Tween.tweens[s]={});for(n in e)void 0===t[n]&&this._addAttr(n,e[n]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(t,e){var n,i,r,a,o,s=this.node,c=s._id;if(r=Kinetic.Tween.tweens[c][t],r&&delete Kinetic.Tween.attrs[c][r][t],n=s.getAttr(t),Kinetic.Util._isArray(e))for(i=[],o=e.length,a=0;o>a;a++)i.push(e[a]-n[a]);else i=e-n;Kinetic.Tween.attrs[c][this._id][t]={start:n,diff:i},Kinetic.Tween.tweens[c][t]=this._id},_tweenFunc:function(t){var e,n,i,r,a,o,s,c=this.node,u=Kinetic.Tween.attrs[c._id][this._id];for(e in u){if(n=u[e],i=n.start,r=n.diff,Kinetic.Util._isArray(i))for(a=[],s=i.length,o=0;s>o;o++)a.push(i[o]+r[o]*t);else a=i+r*t;c.setAttr(e,a)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){t.onFinish&&t.onFinish()},this.tween.onReset=function(){t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){this.node;return this.tween.reset(),this},seek:function(t){this.node;return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){this.node;return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,i=Kinetic.Tween.tweens[e];this.pause();for(t in i)delete Kinetic.Tween.tweens[e][t];delete Kinetic.Tween.attrs[e][n]}};var a=function(t,e,n,i,r,a,o){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()};a.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>t?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=i,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;this.state===n?this.setTime(t):this.state===i&&this.setTime(this.duration-t)},pause:function(){this.state=e,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut:function(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut:function(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*t*t*(((r*=1.525)+1)*t-r)+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},ElasticEaseIn:function(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-o)*Math.PI/a))+e)},ElasticEaseOut:function(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin(2*(t*i-o)*Math.PI/a)+n+e)},ElasticEaseInOut:function(t,e,n,i,r,a){var o=0;return 0===t?e:2==(t/=i/2)?e+n:(a||(a=.3*i*1.5),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-o)*Math.PI/a)+e:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-o)*Math.PI/a)*.5+n+e)},BounceEaseOut:function(t,e,n,i){return(t/=i)<1/2.75?7.5625*n*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,i){return n-Kinetic.Easings.BounceEaseOut(i-t,0,n,i)+e},BounceEaseInOut:function(t,e,n,i){return i/2>t?.5*Kinetic.Easings.BounceEaseIn(2*t,0,n,i)+e:.5*Kinetic.Easings.BounceEaseOut(2*t-i,0,n,i)+.5*n+e},EaseIn:function(t,e,n,i){return n*(t/=i)*t+e},EaseOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},EaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},StrongEaseOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,i){return n*t/i+e}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Kinetic.DD,n=e.node;if(n){if(!e.isDragging){var i=n.getStage().getPointerPosition(),r=n.dragDistance(),a=Math.max(Math.abs(i.x-e.startPointerPos.x),Math.abs(i.y-e.startPointerPos.y));if(r>a)return}n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n,i=Kinetic.DD,r=i.node;r&&(e=r.nodeType,n=r.getLayer(),i.anim.stop(),i.isDragging&&(i.isDragging=!1,Kinetic.listenClickTap=!1,t&&(t.dragEndNode=r)),delete i.node,(n||r).draw())},_endDragAfter:function(t){t=t||{};var e=t.dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Kinetic.Node.prototype.startDrag=function(){var t=Kinetic.DD,e=this.getStage(),n=this.getLayer(),i=e.getPointerPosition(),r=this.getAbsolutePosition();i&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=i,t.offset.x=i.x-r.x,t.offset.y=i.y-r.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},Kinetic.Node.prototype._setDragPosition=function(t){var e=Kinetic.DD,n=this.getStage().getPointerPosition(),i=this.getDragBoundFunc();if(n){var r={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==i&&(r=i.call(this,r,t)),this.setAbsolutePosition(r)}},Kinetic.Node.prototype.stopDrag=function(){var t=Kinetic.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Kinetic.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var e=Kinetic.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Kinetic.Node.prototype.isDragging=function(){var t=Kinetic.DD;return t.node&&t.node._id===this._id&&t.isDragging},Kinetic.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(e){Kinetic.DD.node||t.startDrag(e)}):this.on("mousedown.kinetic touchstart.kinetic",function(e){Kinetic.DD.node||t.startDrag(e)})},Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Kinetic.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Kinetic.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},Kinetic.Factory.addGetterSetter(Kinetic.Node,"dragBoundFunc"),Kinetic.Factory.addGetter(Kinetic.Node,"draggable",!1),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"draggable");var e=Kinetic.document.documentElement;e.addEventListener("mouseup",Kinetic.DD._endDragBefore,!0),e.addEventListener("touchend",Kinetic.DD._endDragBefore,!0),e.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1),e.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)}(),function(){Kinetic.Util.addMethods(Kinetic.Container,{__init:function(t){this.children=new Kinetic.Collection,Kinetic.Node.call(this,t)},getChildren:function(t){if(t){var e=new Kinetic.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e}return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=Kinetic.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.hasChildren()&&t.removeChildren(),t.remove();return e=null,this.children=new Kinetic.Collection,this},destroyChildren:function(){for(var t,e=Kinetic.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.destroy();return e=null,this.children=new Kinetic.Collection,this},add:function(t){if(!(arguments.length>1)){if(t.getParent())return void t.moveTo(this);var e=this.children;return this._validateAdd(t),t.index=e.length,t.parent=this,e.push(t),this._fire("add",{child:t}),this}for(var n=0;n<arguments.length;n++)this.add(arguments[n])},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},find:function(t){var e,n,i,r,a,o,s,c=[],u=t.replace(/ /g,"").split(","),l=u.length;for(e=0;l>e;e++)if(i=u[e],"#"===i.charAt(0))a=this._getNodeById(i.slice(1)),a&&c.push(a);else if("."===i.charAt(0))r=this._getNodesByName(i.slice(1)),c=c.concat(r);else for(o=this.getChildren(),s=o.length,n=0;s>n;n++)c=c.concat(o[n]._get(i));return Kinetic.Collection.toCollection(c)},_getNodeById:function(t){var e=Kinetic.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=Kinetic.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=Kinetic.Node.prototype._get.call(this,t),n=this.getChildren(),i=n.length,r=0;i>r;r++)e=e.concat(n[r]._get(t));return e},toObject:function(){var t=Kinetic.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,i=0;n>i;i++){var r=e[i];t.children.push(r.toObject())}return t},_getDescendants:function(t){for(var e=[],n=t.length,i=0;n>i;i++){var r=t[i];this.isAncestorOf(r)&&e.push(r)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Kinetic.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),r=i&&i.getContext(),a=this._cache.canvas,o=a&&a.scene;return this.isVisible()&&(o?this._drawCachedSceneCanvas(r):this._drawChildren(i,"drawScene",e)),this},drawHit:function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas,r=i&&i.getContext(),a=this._cache.canvas,o=a&&a.hit;return this.shouldDrawHit()&&(o?this._drawCachedHitCanvas(r):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n){var i,r,a=this.getLayer(),o=t&&t.getContext(),s=this.getClipWidth(),c=this.getClipHeight(),u=s&&c;u&&a&&(i=this.getClipX(),r=this.getClipY(),o.save(),a._applyTransform(this,o),o.beginPath(),o.rect(i,r,s,c),o.clip(),o.reset()),this.children.each(function(i){i[e](t,n)}),u&&o.restore()}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Container.prototype.get=Kinetic.Container.prototype.find,Kinetic.Factory.addComponentsGetterSetter(Kinetic.Container,"clip",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipX"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipY"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipWidth"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipHeight"),Kinetic.Collection.mapMethods(Kinetic.Container)}(),function(){function t(t){t.fill()}function e(t){t.stroke()}function n(t){t.fill()}function i(t){t.stroke()}function r(){this._clearCache(a)}var a="hasShadow";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(a){this.nodeType="Shape",this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=n,this._strokeFuncHit=i;for(var o,s=Kinetic.shapes;;)if(o=Kinetic.Util.getRandomColor(),o&&!(o in s))break;this.colorKey=o,s[o]=this,Kinetic.Node.call(this,a),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",r)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(a,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},intersects:function(t){var e,n=this.getStage(),i=n.bufferHitCanvas;return i.getContext().clear(),this.drawScene(i),e=i.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,e[3]>0},destroy:function(){Kinetic.Node.prototype.destroy.call(this),delete Kinetic.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(t,e){var n,i,r,a=this.getLayer(),o=t||a.getCanvas(),s=o.getContext(),c=this._cache.canvas,u=this.sceneFunc(),l=this.hasShadow();return this.isVisible()&&(c?this._drawCachedSceneCanvas(s):u&&(s.save(),this._useBufferCanvas()?(n=this.getStage(),i=n.bufferCanvas,r=i.getContext(),r.clear(),r.save(),r._applyLineJoin(this),a._applyTransform(this,r,e),u.call(this,r),r.restore(),l&&(s.save(),s._applyShadow(this),s.drawImage(i._canvas,0,0),s.restore()),s._applyOpacity(this),s.drawImage(i._canvas,0,0)):(s._applyLineJoin(this),a._applyTransform(this,s,e),l&&(s.save(),s._applyShadow(this),u.call(this,s),s.restore()),s._applyOpacity(this),u.call(this,s)),s.restore())),this},drawHit:function(t,e){var n=this.getLayer(),i=t||n.hitCanvas,r=i.getContext(),a=this.hitFunc()||this.sceneFunc(),o=this._cache.canvas,s=o&&o.hit;return this.shouldDrawHit()&&(s?this._drawCachedHitCanvas(r):a&&(r.save(),r._applyLineJoin(this),n._applyTransform(this,r,e),a.call(this,r),r.restore())),this},drawHitFromCache:function(t){var e,n,i,r,a,o,s,c,u=t||0,l=this._cache.canvas,h=this._getCachedSceneCanvas(),f=h.getContext(),d=l.hit,p=d.getContext(),g=h.getWidth(),v=h.getHeight();p.clear();try{for(e=f.getImageData(0,0,g,v),n=e.data,i=p.getImageData(0,0,g,v),r=i.data,a=n.length,o=Kinetic.Util._hexToRgb(this.colorKey),s=0;a>s;s+=4)c=n[s+3],c>u&&(r[s]=o.r,r[s+1]=o.g,r[s+2]=o.b,r[s+3]=255);p.putImageData(i,0,0)}catch(m){Kinetic.Util.warn("Unable to draw hit graph from cached scene canvas. "+m.message)}return this}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth",2),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"sceneFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"hitFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dash"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"shadowOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fill"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRepeat","repeat"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternScale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRotation",0),Kinetic.Factory.backCompat(Kinetic.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),Kinetic.Collection.mapMethods(Kinetic.Shape)}(),function(){function t(t,e){t.content.addEventListener(e,function(n){t[M+e](n)},!1)}var e="Stage",n="string",i="px",r="mouseout",a="mouseleave",o="mouseover",s="mouseenter",c="mousemove",u="mousedown",l="mouseup",h="click",f="dblclick",d="touchstart",p="touchend",g="tap",v="dbltap",m="touchmove",$="contentMouseout",y="contentMouseover",b="contentMousemove",x="contentMousedown",S="contentMouseup",w="contentClick",C="contentDblclick",K="contentTouchstart",_="contentTouchend",A="contentDbltap",k="contentTouchmove",T="div",F="relative",P="inline-block",E="kineticjs-content",D=" ",M="_",O="container",N="",L=[u,c,l,r,d,m,p,o],R=L.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(t){this.nodeType=e,Kinetic.Container.call(this,t),this._id=Kinetic.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Kinetic.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Kinetic.Util.error("You may only add layers to the stage.")},setContainer:function(t){if(typeof t===n){var e=t;if(t=Kinetic.document.getElementById(t),!t)throw"Can not find container in document with id "+e}return this._setAttr(O,t),this},shouldDrawHit:function(){return!0},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(t){return Kinetic.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Kinetic.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;n>t;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=Kinetic.document.createElement(T),Kinetic.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;Kinetic.Container.prototype.destroy.call(this),t&&Kinetic.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=Kinetic.stages.indexOf(this);e>-1&&Kinetic.stages.splice(e,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){function e(r){var a=c[r],u=a.toDataURL(),l=new Kinetic.window.Image;l.onload=function(){s.drawImage(l,0,0),r<c.length-1?e(r+1):t.callback(o.toDataURL(n,i))},l.src=u}t=t||{};var n=t.mimeType||null,i=t.quality||null,r=t.x||0,a=t.y||0,o=new Kinetic.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:1}),s=o.getContext()._context,c=this.children;(r||a)&&s.translate(-1*r,-1*a),e(0)},toImage:function(t){var e=t.callback;t.callback=function(t){Kinetic.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t){var e,n,i=this.getChildren(),r=i.length,a=r-1;for(e=a;e>=0;e--)if(n=i[e].getIntersection(t))return n;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),r=this.getHeight(),a=this.getChildren(),o=a.length;for(this.content.style.width=n+i,this.content.style.height=r+i,this.bufferCanvas.setSize(n,r),this.bufferHitCanvas.setSize(n,r),t=0;o>t;t++)e=a[t],e.getCanvas().setSize(n,r),e.hitCanvas.setSize(n,r),e.draw()}},add:function(t){if(!(arguments.length>1))return Kinetic.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this;for(var e=0;e<arguments.length;e++)this.add(arguments[e])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var e=0;R>e;e++)t(this,L[e])},_mouseover:function(t){Kinetic.UA.mobile||(this._setPointerPosition(t),this._fire(y,{evt:t}))},_mouseout:function(t){if(!Kinetic.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!Kinetic.isDragging()&&(e._fireAndBubble(r,{evt:t}),e._fireAndBubble(a,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire($,{evt:t})}},_mousemove:function(t){if(!Kinetic.UA.mobile){this._setPointerPosition(t);var e=Kinetic.DD,n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?Kinetic.isDragging()||this.targetShape&&this.targetShape._id===n._id?n._fireAndBubble(c,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(r,{evt:t},n),this.targetShape._fireAndBubble(a,{evt:t},n)),n._fireAndBubble(o,{evt:t},this.targetShape),n._fireAndBubble(s,{evt:t},this.targetShape),this.targetShape=n):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble(r,{evt:t}),this.targetShape._fireAndBubble(a,{evt:t}),this.targetShape=null),this._fire(b,{evt:t}),e&&e._drag(t)}t.preventDefault&&t.preventDefault()},_mousedown:function(t){if(!Kinetic.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble(u,{evt:t})),this._fire(x,{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(!Kinetic.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,i=!1;Kinetic.inDblClickWindow?(i=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(l,{evt:t}),Kinetic.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble(h,{evt:t}),i&&e._fireAndBubble(f,{evt:t}))),this._fire(S,{evt:t}),Kinetic.listenClickTap&&(this._fire(w,{evt:t}),i&&this._fire(C,{evt:t})),Kinetic.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble(d,{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire(K,{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;Kinetic.inDblClickWindow?(n=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(p,{evt:t}),Kinetic.listenClickTap&&e._id===this.tapStartShape._id&&(e._fireAndBubble(g,{evt:t}),n&&e._fireAndBubble(v,{evt:t})),e.isListening()&&t.preventDefault&&t.preventDefault()),Kinetic.listenClickTap&&(this._fire(_,{evt:t}),
n&&this._fire(A,{evt:t})),Kinetic.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e=Kinetic.DD,n=this.getIntersection(this.getPointerPosition());n&&n.isListening()&&(n._fireAndBubble(m,{evt:t}),n.isListening()&&t.preventDefault&&t.preventDefault()),this._fire(k,{evt:t}),e&&e._drag(t)},_setPointerPosition:function(t){var e,n=this._getContentPosition(),i=t.offsetX,r=t.clientX,a=null,o=null;t=t?t:window.event,void 0!==t.touches?t.touches.length>0&&(e=t.touches[0],a=e.clientX-n.left,o=e.clientY-n.top):void 0!==i?(a=i,o=t.offsetY):"mozilla"===Kinetic.UA.browser?(a=t.layerX,o=t.layerY):void 0!==r&&n&&(a=r-n.left,o=t.clientY-n.top),null!==a&&null!==o&&(this.pointerPos={x:a,y:o})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Kinetic.Util.isBrowser())throw"Stage has not container. But container is required";t=Kinetic.document.createElement(T)}t.innerHTML=N,this.content=Kinetic.document.createElement(T),this.content.style.position=F,this.content.style.display=P,this.content.className=E,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(t,e){var n,i,r=t.split(D),a=r.length;for(n=0;a>n;n++)i=r[n],this.content.addEventListener(i,e,!1)},cache:function(){Kinetic.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Factory.addGetter(Kinetic.Stage,"container"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Stage,"container")}(),function(){Kinetic.Util.addMethods(Kinetic.BaseLayer,{___init:function(t){this.nodeType="Layer",Kinetic.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},setZIndex:function(t){Kinetic.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Kinetic.Node.prototype.remove.call(this),t&&t.parentNode&&Kinetic.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent}}),Kinetic.Util.extend(Kinetic.BaseLayer,Kinetic.Container),Kinetic.Factory.addGetterSetter(Kinetic.BaseLayer,"clearBeforeDraw",!0),Kinetic.Collection.mapMethods(Kinetic.BaseLayer)}(),function(){var t="#",e="beforeDraw",n="draw",i=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],r=i.length;Kinetic.Util.addMethods(Kinetic.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(t){var e,n,a,o;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(n=0;r>n;n++){if(a=i[n],e=this._getIntersection({x:t.x+a.x,y:t.y+a.y}),o=e.shape)return o;if(!e.antialiased)return null}},_getIntersection:function(e){var n,i,r=this.hitCanvas.context._context.getImageData(e.x,e.y,1,1).data,a=r[3];return 255===a?(n=Kinetic.Util._rgbToHex(r[0],r[1],r[2]),i=Kinetic.shapes[t+n],{shape:i}):a>0?{antialiased:!0}:{}},drawScene:function(t,i){var r=this.getLayer(),a=t||r&&r.getCanvas();return this._fire(e,{node:this}),this.getClearBeforeDraw()&&a.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,a,i),this._fire(n,{node:this}),this},_applyTransform:function(t,e,n){var i=t.getAbsoluteTransform(n).getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])},drawHit:function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Kinetic.Container.prototype.drawHit.call(this,i,e),this},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},setVisible:function(t){return Kinetic.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.BaseLayer),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"hitGraphEnabled",!0),Kinetic.Collection.mapMethods(Kinetic.Layer)}(),function(){Kinetic.Util.addMethods(Kinetic.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,Kinetic.BaseLayer.call(this,t)},_validateAdd:function(t){var e=t.getType();"Shape"!==e&&Kinetic.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,n),this},_applyTransform:function(t,e,n){if(!n||n._id!==this._id){var i=t.getTransform().getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}},draw:function(){return this.drawScene(),this},clear:function(t){return this.getContext().clear(t),this},setVisible:function(t){return Kinetic.Node.prototype.setVisible.call(this,t),this.getCanvas()._canvas.style.display=t?"block":"none",this}}),Kinetic.Util.extend(Kinetic.FastLayer,Kinetic.BaseLayer),Kinetic.Collection.mapMethods(Kinetic.FastLayer)}(),function(){Kinetic.Util.addMethods(Kinetic.Group,{___init:function(t){this.nodeType="Group",Kinetic.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Kinetic.Util.error("You may only add groups and shapes to groups.")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container),Kinetic.Collection.mapMethods(Kinetic.Group)}(),function(){Kinetic.Rect=function(t){this.___init(t)},Kinetic.Rect.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),i=this.getHeight();t.beginPath(),e?(t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,i-e),t.arc(n-e,i-e,e,0,Math.PI/2,!1),t.lineTo(e,i),t.arc(e,i-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Rect)}(),function(){var t=2*Math.PI-1e-4,e="Circle";Kinetic.Circle=function(t){this.___init(t)},Kinetic.Circle.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setRadius(t/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Circle,"radius",0),Kinetic.Collection.mapMethods(Kinetic.Circle)}(),function(){var t=2*Math.PI-1e-4,e="Ellipse";Kinetic.Ellipse=function(t){this.___init(t)},Kinetic.Ellipse.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadius(),i=n.x,r=n.y;e.beginPath(),e.save(),i!==r&&e.scale(1,r/i),e.arc(0,0,i,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius().x},getHeight:function(){return 2*this.getRadius().y},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Ellipse,"radius",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusX",0),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusY",0),Kinetic.Collection.mapMethods(Kinetic.Ellipse)}(),function(){var t=2*Math.PI-1e-4;Kinetic.Ring=function(t){this.___init(t)},Kinetic.Ring.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setOuterRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setOuterRadius(t/2)}},Kinetic.Util.extend(Kinetic.Ring,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Ring)}(),function(){Kinetic.Wedge=function(t){this.___init(t)},Kinetic.Wedge.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Kinetic.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"clockwise",!1),Kinetic.Factory.backCompat(Kinetic.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Kinetic.Collection.mapMethods(Kinetic.Wedge)}(),function(){Math.PI/180;Kinetic.Arc=function(t){this.___init(t)},Kinetic.Arc.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Kinetic.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Arc,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"outerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"clockwise",!1),Kinetic.Collection.mapMethods(Kinetic.Arc)}(),function(){var t="Image";Kinetic.Image=function(t){this.___init(t)},Kinetic.Image.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_sceneFunc:function(t){var e,n,i,r,a=this.getWidth(),o=this.getHeight(),s=this.getImage();s&&(e=this.getCrop(),n=e.width,i=e.height,r=n&&i?[s,e.x,e.y,n,i,0,0,a,o]:[s,0,0,a,o]),t.beginPath(),t.rect(0,0,a,o),t.closePath(),t.fillStrokeShape(this),s&&t.drawImage.apply(t,r)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Image,"image"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Image,"crop",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropX",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropY",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropHeight",0),Kinetic.Collection.mapMethods(Kinetic.Image)}(),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="auto",i="center",r="Change.kinetic",a="2d",o="-",s="",c="left",u="text",l="Text",h="middle",f="normal",d="px ",p=" ",g="right",v="word",m="char",$="none",y=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap"],b=y.length,x=Kinetic.Util.createCanvasElement().getContext(a);Kinetic.Text=function(t){this.___init(t)},Kinetic.Text.prototype={___init:function(i){var a=this;void 0===i.width&&(i.width=n),void 0===i.height&&(i.height=n),Kinetic.Shape.call(this,i),this._fillFunc=t,this._strokeFunc=e,this.className=l;for(var o=0;b>o;o++)this.on(y[o]+r,a._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),r=this.getTextHeight(),a=this.getLineHeight()*r,o=this.textArr,s=o.length,u=this.getWidth();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",h),t.setAttr("textAlign",c),t.save(),t.translate(n,0),t.translate(0,n+r/2),e=0;s>e;e++){var l=o[e],f=l.text,d=l.width;t.save(),this.getAlign()===g?t.translate(u-d-2*n,0):this.getAlign()===i&&t.translate((u-d-2*n)/2,0),this.partialText=f,t.fillStrokeShape(this),t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=Kinetic.Util._isString(t)?t:t.toString();return this._setAttr(u,e),this},getWidth:function(){return this.attrs.width===n?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===n?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=x,i=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(i,10)}},_getContextFont:function(){return this.getFontStyle()+p+this.getFontVariant()+p+this.getFontSize()+d+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return x.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),i=0,r=this.getLineHeight()*e,a=this.attrs.width,s=this.attrs.height,c=a!==n,u=s!==n,l=this.getPadding(),h=a-2*l,f=s-2*l,d=0,g=this.getWrap(),v=g!==$,y=g!==m&&v;this.textArr=[],x.save(),x.font=this._getContextFont();for(var b=0,S=t.length;S>b;++b){var w=t[b],C=this._getTextWidth(w);if(c&&C>h)for(;w.length>0;){for(var K=0,_=w.length,A="",k=0;_>K;){var T=K+_>>>1,F=w.slice(0,T+1),P=this._getTextWidth(F);h>=P?(K=T+1,A=F,k=P):_=T}if(!A)break;if(y){var E=Math.max(A.lastIndexOf(p),A.lastIndexOf(o))+1;E>0&&(K=E,A=A.slice(0,K),k=this._getTextWidth(A))}if(this._addTextLine(A,k),i=Math.max(i,k),d+=r,!v||u&&d+r>f)break;if(w=w.slice(K),w.length>0&&(C=this._getTextWidth(w),h>=C)){this._addTextLine(w,C),d+=r,i=Math.max(i,C);break}}else this._addTextLine(w,C),d+=r,i=Math.max(i,C);if(u&&d+r>f)break}x.restore(),this.textHeight=e,this.textWidth=i}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontStyle",f),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontVariant",f),Kinetic.Factory.addGetterSetter(Kinetic.Text,"padding",0),Kinetic.Factory.addGetterSetter(Kinetic.Text,"align",c),Kinetic.Factory.addGetterSetter(Kinetic.Text,"lineHeight",1),Kinetic.Factory.addGetterSetter(Kinetic.Text,"wrap",v),Kinetic.Factory.addGetter(Kinetic.Text,"text",s),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Text,"text"),Kinetic.Collection.mapMethods(Kinetic.Text)}(),function(){Kinetic.Line=function(t){this.___init(t)},Kinetic.Line.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,i,r=this.getPoints(),a=r.length,o=this.getTension(),s=this.getClosed();if(t.beginPath(),t.moveTo(r[0],r[1]),0!==o&&a>4){for(e=this.getTensionPoints(),n=e.length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n-2>i;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[a-2],r[a-1])}else for(i=2;a>i;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Kinetic.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),i=Kinetic.Util,r=i._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),a=i._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),o=Kinetic.Util._expandPoints(t,n),s=[r[2],r[3]].concat(o).concat([a[0],a[1],t[e-2],t[e-1],a[2],a[3],r[0],r[1],t[0],t[1]]);return s}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Line,"closed",!1),Kinetic.Factory.addGetterSetter(Kinetic.Line,"tension",0),Kinetic.Factory.addGetterSetter(Kinetic.Line,"points"),Kinetic.Collection.mapMethods(Kinetic.Line)}(),function(){Kinetic.Sprite=function(t){this.___init(t)},Kinetic.Sprite.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Sprite",this.anim=new Kinetic.Animation,this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.on("frameRateChange.kinetic",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),i=4*n,r=this.getAnimations()[e],a=r[i+0],o=r[i+1],s=r[i+2],c=r[i+3],u=this.getImage();u&&t.drawImage(u,a,o,s,c,0,0,s,c)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),i=4*n,r=this.getAnimations()[e],a=r[i+2],o=r[i+3];t.beginPath(),t.rect(0,0,a,o),t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),n=this.getAnimations(),i=n[e],r=i.length/4;this.frameIndex(r-1>t?t+1:0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animation"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animations"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"image"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameIndex",0),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameRate",17),Kinetic.Factory.backCompat(Kinetic.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Kinetic.Collection.mapMethods(Kinetic.Sprite)}(),function(){Kinetic.Path=function(t){this.___init(t)},Kinetic.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Kinetic.Shape.call(this,t),this.className="Path",this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){e.dataArray=Kinetic.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray,n=!1;t.beginPath();for(var i=0;i<e.length;i++){var r=e[i].command,a=e[i].points;switch(r){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],s=a[1],c=a[2],u=a[3],l=a[4],h=a[5],f=a[6],d=a[7],p=c>u?c:u,g=c>u?1:c/u,v=c>u?u/c:1;t.translate(o,s),t.rotate(f),t.scale(g,v),t.arc(0,0,p,l,l+h,1-d),t.scale(1/g,1/v),t.rotate(-f),t.translate(-o,-s);break;case"z":t.closePath(),n=!0}}n?t.fillStrokeShape(this):t.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},Kinetic.Path.getPointOnLine=function(t,e,n,i,r,a,o){void 0===a&&(a=e),void 0===o&&(o=n);var s=(r-n)/(i-e+1e-8),c=Math.sqrt(t*t/(1+s*s));e>i&&(c*=-1);var u,l=s*c;if(i===e)u={x:a,y:o+l};else if((o-n)/(a-e+1e-8)===s)u={x:a+c,y:o+l};else{var h,f,d=this.getLineLength(e,n,i,r);if(1e-8>d)return void 0;var p=(a-e)*(i-e)+(o-n)*(r-n);p/=d*d,h=e+p*(i-e),f=n+p*(r-n);var g=this.getLineLength(a,o,h,f),v=Math.sqrt(t*t-g*g);c=Math.sqrt(v*v/(1+s*s)),e>i&&(c*=-1),l=s*c,u={x:h+c,y:f+l}}return u},Kinetic.Path.getPointOnCubicBezier=function(t,e,n,i,r,a,o,s,c){function u(t){return t*t*t}function l(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}var d=s*u(t)+a*l(t)+i*h(t)+e*f(t),p=c*u(t)+o*l(t)+r*h(t)+n*f(t);return{x:d,y:p}},Kinetic.Path.getPointOnQuadraticBezier=function(t,e,n,i,r,a,o){function s(t){return t*t}function c(t){return 2*t*(1-t)}function u(t){return(1-t)*(1-t)}var l=a*s(t)+i*c(t)+e*u(t),h=o*s(t)+r*c(t)+n*u(t);return{x:l,y:h}},Kinetic.Path.getPointOnEllipticalArc=function(t,e,n,i,r,a){var o=Math.cos(a),s=Math.sin(a),c={x:n*Math.cos(r),y:i*Math.sin(r)};return{x:t+(c.x*o-c.y*s),y:e+(c.x*s+c.y*o)}},Kinetic.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r=e.split("|"),a=[],o=0,s=0;for(i=1;i<r.length;i++){var c=r[i],u=c.charAt(0);c=c.slice(1),c=c.replace(new RegExp(",-","g"),"-"),c=c.replace(new RegExp("-","g"),",-"),c=c.replace(new RegExp("e,-","g"),"e-");var l=c.split(",");l.length>0&&""===l[0]&&l.shift();for(var h=0;h<l.length;h++)l[h]=parseFloat(l[h]);for(;l.length>0&&!isNaN(l[0]);){var f,d,p,g,v,m,$,y,b,x,S=null,w=[],C=o,K=s;switch(u){case"l":o+=l.shift(),s+=l.shift(),S="L",w.push(o,s);break;case"L":o=l.shift(),s=l.shift(),w.push(o,s);break;case"m":var _=l.shift(),A=l.shift();if(o+=_,s+=A,S="M",a.length>2&&"z"===a[a.length-1].command)for(var k=a.length-2;k>=0;k--)if("M"===a[k].command){o=a[k].points[0]+_,s=a[k].points[1]+A;break}w.push(o,s),u="l";break;case"M":o=l.shift(),s=l.shift(),S="M",w.push(o,s),u="L";break;case"h":o+=l.shift(),S="L",w.push(o,s);break;case"H":o=l.shift(),S="L",w.push(o,s);break;case"v":s+=l.shift(),S="L",w.push(o,s);break;case"V":s=l.shift(),S="L",w.push(o,s);break;case"C":w.push(l.shift(),l.shift(),l.shift(),l.shift()),o=l.shift(),s=l.shift(),w.push(o,s);break;case"c":w.push(o+l.shift(),s+l.shift(),o+l.shift(),s+l.shift()),o+=l.shift(),s+=l.shift(),S="C",w.push(o,s);break;case"S":d=o,p=s,f=a[a.length-1],"C"===f.command&&(d=o+(o-f.points[2]),p=s+(s-f.points[3])),w.push(d,p,l.shift(),l.shift()),o=l.shift(),s=l.shift(),S="C",w.push(o,s);break;case"s":d=o,p=s,f=a[a.length-1],"C"===f.command&&(d=o+(o-f.points[2]),p=s+(s-f.points[3])),w.push(d,p,o+l.shift(),s+l.shift()),o+=l.shift(),s+=l.shift(),S="C",w.push(o,s);break;case"Q":w.push(l.shift(),l.shift()),o=l.shift(),s=l.shift(),w.push(o,s);break;case"q":w.push(o+l.shift(),s+l.shift()),o+=l.shift(),s+=l.shift(),S="Q",w.push(o,s);break;case"T":d=o,p=s,f=a[a.length-1],"Q"===f.command&&(d=o+(o-f.points[0]),p=s+(s-f.points[1])),o=l.shift(),s=l.shift(),S="Q",w.push(d,p,o,s);break;case"t":d=o,p=s,f=a[a.length-1],"Q"===f.command&&(d=o+(o-f.points[0]),p=s+(s-f.points[1])),o+=l.shift(),s+=l.shift(),S="Q",w.push(d,p,o,s);break;case"A":g=l.shift(),v=l.shift(),m=l.shift(),$=l.shift(),y=l.shift(),b=o,x=s,o=l.shift(),s=l.shift(),S="A",w=this.convertEndpointToCenterParameterization(b,x,o,s,$,y,g,v,m);break;case"a":g=l.shift(),v=l.shift(),m=l.shift(),$=l.shift(),y=l.shift(),b=o,x=s,o+=l.shift(),s+=l.shift(),S="A",w=this.convertEndpointToCenterParameterization(b,x,o,s,$,y,g,v,m)}a.push({command:S||u,points:w,start:{x:C,y:K},pathLength:this.calcLength(C,K,S||u,w)})}("z"===u||"Z"===u)&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},Kinetic.Path.calcLength=function(t,e,n,i){var r,a,o,s,c=Kinetic.Path;switch(n){case"L":return c.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,a=c.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),s=.01;1>=s;s+=.01)o=c.getPointOnCubicBezier(s,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"Q":for(r=0,a=c.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),s=.01;1>=s;s+=.01)o=c.getPointOnQuadraticBezier(s,t,e,i[0],i[1],i[2],i[3]),r+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"A":r=0;var u=i[4],l=i[5],h=i[4]+l,f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),0>l)for(s=u-f;s>h;s-=f)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=u+f;h>s;s+=f)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),r+=c.getLineLength(a.x,a.y,o.x,o.y)}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(t,e,n,i,r,a,o,s,c){var u=c*(Math.PI/180),l=Math.cos(u)*(t-n)/2+Math.sin(u)*(e-i)/2,h=-1*Math.sin(u)*(t-n)/2+Math.cos(u)*(e-i)/2,f=l*l/(o*o)+h*h/(s*s);f>1&&(o*=Math.sqrt(f),s*=Math.sqrt(f));var d=Math.sqrt((o*o*s*s-o*o*h*h-s*s*l*l)/(o*o*h*h+s*s*l*l));r===a&&(d*=-1),isNaN(d)&&(d=0);var p=d*o*h/s,g=d*-s*l/o,v=(t+n)/2+Math.cos(u)*p-Math.sin(u)*g,m=(e+i)/2+Math.sin(u)*p+Math.cos(u)*g,$=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},y=function(t,e){return(t[0]*e[0]+t[1]*e[1])/($(t)*$(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))},x=b([1,0],[(l-p)/o,(h-g)/s]),S=[(l-p)/o,(h-g)/s],w=[(-1*l-p)/o,(-1*h-g)/s],C=b(S,w);return y(S,w)<=-1&&(C=Math.PI),y(S,w)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&0>C&&(C+=2*Math.PI),[v,m,o,s,x,C,u,a]},Kinetic.Factory.addGetterSetter(Kinetic.Path,"data"),Kinetic.Collection.mapMethods(Kinetic.Path)}(),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="",i="normal";Kinetic.TextPath=function(t){this.___init(t)},Kinetic.TextPath.prototype={___init:function(n){var i=this;this.dummyCanvas=Kinetic.Util.createCanvasElement(),this.dataArray=[],Kinetic.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){i.dataArray=Kinetic.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",i._setTextData),i._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save();for(var e=this.glyphInfo,n=0;n<e.length;n++){t.save();var i=e[n].p0;t.translate(i.x,i.y),t.rotate(e[n].rotation),this.partialText=e[n].text,t.fillStrokeShape(this),t.restore()}t.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Kinetic.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas,n=e.getContext("2d");n.save(),n.font=this._getContextFont();var i=n.measureText(t);return n.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text);this.textWidth=e.width,this.textHeight=e.height,this.glyphInfo=[];for(var n,i,r,a=this.attrs.text.split(""),o=-1,s=0,c=function(){s=0;for(var e=t.dataArray,i=o+1;i<e.length;i++){if(e[i].pathLength>0)return o=i,e[i];"M"==e[i].command&&(n={x:e[i].points[0],y:e[i].points[1]})}return{}},u=function(e){var a=t._getTextSize(e).width,o=0,u=0;for(i=void 0;Math.abs(a-o)/a>.01&&25>u;){u++;for(var l=o;void 0===r;)r=c(),r&&l+r.pathLength<a&&(l+=r.pathLength,r=void 0);if(r==={}||void 0===n)return void 0;var h=!1;switch(r.command){case"L":Kinetic.Path.getLineLength(n.x,n.y,r.points[0],r.points[1])>a?i=Kinetic.Path.getPointOnLine(a,n.x,n.y,r.points[0],r.points[1],n.x,n.y):r=void 0;break;case"A":var f=r.points[4],d=r.points[5],p=r.points[4]+d;0===s?s=f+1e-8:a>o?s+=Math.PI/180*d/Math.abs(d):s-=Math.PI/360*d/Math.abs(d),(0>d&&p>s||d>=0&&s>p)&&(s=p,h=!0),i=Kinetic.Path.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],s,r.points[6]);break;case"C":0===s?s=a>r.pathLength?1e-8:a/r.pathLength:a>o?s+=(a-o)/r.pathLength:s-=(o-a)/r.pathLength,s>1&&(s=1,h=!0),i=Kinetic.Path.getPointOnCubicBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3],r.points[4],r.points[5]);break;case"Q":0===s?s=a/r.pathLength:a>o?s+=(a-o)/r.pathLength:s-=(o-a)/r.pathLength,s>1&&(s=1,h=!0),i=Kinetic.Path.getPointOnQuadraticBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3])}void 0!==i&&(o=Kinetic.Path.getLineLength(n.x,n.y,i.x,i.y)),h&&(h=!1,r=void 0)}},l=0;l<a.length&&(u(a[l]),void 0!==n&&void 0!==i);l++){var h=Kinetic.Path.getLineLength(n.x,n.y,i.x,i.y),f=0,d=Kinetic.Path.getPointOnLine(f+h/2,n.x,n.y,i.x,i.y),p=Math.atan2(i.y-n.y,i.x-n.x);this.glyphInfo.push({transposeX:d.x,transposeY:d.y,text:a[l],rotation:p,p0:n,p1:i}),n=i}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontStyle",i),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontVariant",i),
Kinetic.Factory.addGetter(Kinetic.TextPath,"text",n),Kinetic.Collection.mapMethods(Kinetic.TextPath)}(),function(){Kinetic.RegularPolygon=function(t){this.___init(t)},Kinetic.RegularPolygon.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,i,r=this.attrs.sides,a=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-a),e=1;r>e;e++)n=a*Math.sin(2*e*Math.PI/r),i=-1*a*Math.cos(2*e*Math.PI/r),t.lineTo(n,i);t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"sides",0),Kinetic.Collection.mapMethods(Kinetic.RegularPolygon)}(),function(){Kinetic.Star=function(t){this.___init(t)},Kinetic.Star.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;2*i>r;r++){var a=r%2===0?n:e,o=a*Math.sin(r*Math.PI/i),s=-1*a*Math.cos(r*Math.PI/i);t.lineTo(o,s)}t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Star,"numPoints",5),Kinetic.Factory.addGetterSetter(Kinetic.Star,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Star,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Star)}(),function(){var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"],e="Change.kinetic",n="none",i="up",r="right",a="down",o="left",s="Label",c=t.length;Kinetic.Label=function(t){this.____init(t)},Kinetic.Label.prototype={____init:function(t){var e=this;this.className=s,Kinetic.Group.call(this,t),this.on("add.kinetic",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var i,r=this,a=function(){r._sync()};for(i=0;c>i;i++)n.on(t[i]+e,a)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,n,s,c,u,l,h=this.getText(),f=this.getTag();if(h&&f){switch(t=h.getWidth(),e=h.getHeight(),n=f.getPointerDirection(),s=f.getPointerWidth(),l=f.getPointerHeight(),c=0,u=0,n){case i:c=t/2,u=-1*l;break;case r:c=t+s,u=e/2;break;case a:c=t/2,u=e+l;break;case o:c=-1*s,u=e/2}f.setAttrs({x:-1*c,y:-1*u,width:t,height:e}),h.setAttrs({x:-1*c,y:-1*u})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Collection.mapMethods(Kinetic.Label),Kinetic.Tag=function(t){this.___init(t)},Kinetic.Tag.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),n=this.getHeight(),s=this.getPointerDirection(),c=this.getPointerWidth(),u=this.getPointerHeight();t.beginPath(),t.moveTo(0,0),s===i&&(t.lineTo((e-c)/2,0),t.lineTo(e/2,-1*u),t.lineTo((e+c)/2,0)),t.lineTo(e,0),s===r&&(t.lineTo(e,(n-u)/2),t.lineTo(e+c,n/2),t.lineTo(e,(n+u)/2)),t.lineTo(e,n),s===a&&(t.lineTo((e+c)/2,n),t.lineTo(e/2,n+u),t.lineTo((e-c)/2,n)),t.lineTo(0,n),s===o&&(t.lineTo(0,(n+u)/2),t.lineTo(-1*c,n/2),t.lineTo(0,(n-u)/2)),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerDirection",n),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerHeight",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Tag)}(),/*!
 * angular-translate - v2.8.1 - 2015-10-01
 * 
 * Copyright (c) 2015 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),i=function(){var i=t.preferredLanguage();angular.isString(i)?t.use(i):n.put(e,t.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](i):i():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,i=!1,r=!1;e={sanitize:function(t,e){return"text"===e&&(t=o(t)),t},escape:function(t,e){return"text"===e&&(t=a(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,o)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return i=!0,n=t,this},this.$get=["$injector","$log",function(a,o){var s={},c=function(t,n,i){return angular.forEach(i,function(i){if(angular.isFunction(i))t=i(t,n);else if(angular.isFunction(e[i]))t=e[i](t,n);else{if(!angular.isString(e[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!s[e[i]])try{s[e[i]]=a.get(e[i])}catch(r){throw s[e[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}t=s[e[i]](t,n)}}),t},u=function(){i||r||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return a.has("$sanitize")&&(t=a.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,i){if(n||u(),arguments.length<3&&(i=n),!i)return t;var r=angular.isArray(i)?i:[i];return c(t,e,r)}}}];var a=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},o=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},s=function(t,e){if(angular.isObject(t)){var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,i){n[i]=s(t,e)}),n}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,i){"use strict";var r,a,o,s,c,u,l,h,f,d,p,g,v,m,$,y={},b=[],x=t,S=[],w="translate-cloak",C=!1,K=!1,_=".",A=!1,k=0,T=!0,F="default",P={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e}},E="2.8.1",D=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var t,n,r=e.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if(n=r.languages[t],n&&n.length)return n;for(t=0;t<a.length;t++)if(n=r[a[t]],n&&n.length)return n;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var M=function(){var t=D()||"";return P[F]&&(t=P[F](t)),t};M.displayName="angular-translate/service: getLocale";var O=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},N=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(t){for(var e=[],n=angular.lowercase(t),i=0,r=b.length;r>i;i++)e.push(angular.lowercase(b[i]));if(O(e,n)>-1)return t;if(a){var o;for(var s in a){var c=!1,u=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(c=s.slice(0,-1)===t.slice(0,s.length-1)),(u||c)&&(o=a[s],O(e,angular.lowercase(o))>-1))return o}}if(t){var l=t.split("_");if(l.length>1&&O(e,angular.lowercase(l[0]))>-1)return l[0]}return t},R=function(t,e){if(!t&&!e)return y;if(t&&!e){if(angular.isString(t))return y[t]}else angular.isObject(y[t])||(y[t]={}),angular.extend(y[t],I(e));return this};this.translations=R,this.cloakClassName=function(t){return t?(w=t,this):w},this.nestedObjectDelimeter=function(t){return t?(_=t,this):_};var I=function(t,e,n,i){var r,a,o,s;e||(e=[]),n||(n={});for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?I(s,e.concat(r),n,r):(a=e.length?""+e.join(_)+_+r:r,e.length&&r===i&&(o=""+e.join(_),n[o]="@:"+a),n[a]=s));return n};I.displayName="flatObject",this.addInterpolation=function(t){return S.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return d=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(G(t),this):r};var G=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(v=t,this):v},this.translationNotFoundIndicatorRight=function(t){return t?(m=t,this):m},this.fallbackLanguage=function(t){return j(t),this};var j=function(t){return t?(angular.isString(t)?(s=!0,o=[t]):angular.isArray(t)&&(s=!1,o=t),angular.isString(r)&&O(o,r)<0&&o.push(r),this):s?o[0]:o};this.use=function(t){if(t){if(!y[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return c=t,this}return c};var V=function(t){return t?(x=t,this):h?h+x:x};this.storageKey=V,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return l=t,this},this.storagePrefix=function(t){return t?(h=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return f=t,this},this.usePostCompiling=function(t){return C=!!t,this},this.forceAsyncReload=function(t){return K=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},F=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():M();return r=b.length?L(e):e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(b=t,e&&(a=e),this):b},this.useLoaderCache=function(t){return t===!1?$=void 0:t===!0?$=!0:"undefined"==typeof t?$="$translationCache":t&&($=t),this},this.directivePriority=function(t){return void 0===t?k:(k=t,this)},this.statefulFilter=function(t){return void 0===t?T:(T=t,this)},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,i){var a,h,b,F=e.get(d||"$translateDefaultInterpolation"),P=!1,D={},M={},U=function(t,e,n,s){if(angular.isArray(t)){var u=function(t){for(var r={},a=[],o=function(t){var a=i.defer(),o=function(e){r[t]=e,a.resolve([t,e])};return U(t,e,n,s).then(o,o),a.promise},c=0,u=t.length;u>c;c++)a.push(o(t[c]));return i.all(a).then(function(){return r})};return u(t)}var f=i.defer();t&&(t=N.apply(t));var d=function(){var t=r?M[r]:M[c];if(h=0,l&&!t){var e=a.get(x);if(t=M[e],o&&o.length){var n=O(o,e);h=0===n?1:0,O(o,r)<0&&o.push(r)}}return t}();if(d){var p=function(){nt(t,e,n,s).then(f.resolve,f.reject)};p.displayName="promiseResolved",d["finally"](p,f.reject)}else nt(t,e,n,s).then(f.resolve,f.reject);return f.promise},B=function(t){return v&&(t=[v,t].join(" ")),m&&(t=[t,m].join(" ")),t},H=function(t){c=t,l&&a.put(U.storageKey(),c),n.$emit("$translateChangeSuccess",{language:t}),F.setLocale(c);var e=function(t,e){D[e].setLocale(c)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(D,e),n.$emit("$translateChangeEnd",{language:t})},q=function(t){if(!t)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:t}),P=!0;var a=$;"string"==typeof a&&(a=e.get(a));var o=angular.extend({},g,{key:t,$http:angular.extend({},{cache:a},g.$http)}),s=function(e){var i={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(i,I(t))}):angular.extend(i,I(e)),P=!1,r.resolve({key:t,table:i}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var c=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return c.displayName="onLoaderError",e.get(p)(o).then(s,c),r.promise};if(l&&(a=e.get(l),!a.get||!a.put))throw new Error("Couldn't use storage '"+l+"', missing get() or put() method!");if(S.length){var z=function(t){var n=e.get(t);n.setLocale(r||c),D[n.getInterpolationIdentifier()]=n};z.displayName="interpolationFactoryAdder",angular.forEach(S,z)}var W=function(t){var e=i.defer();if(Object.prototype.hasOwnProperty.call(y,t))e.resolve(y[t]);else if(M[t]){var n=function(t){R(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",M[t].then(n,e.reject)}else e.reject();return e.promise},Y=function(t,e,n,r){var a=i.defer(),o=function(i){if(Object.prototype.hasOwnProperty.call(i,e)){r.setLocale(t);var o=i[e];"@:"===o.substr(0,2)?Y(t,o.substr(2),n,r).then(a.resolve,a.reject):a.resolve(r.interpolate(i[e],n)),r.setLocale(c)}else a.reject()};return o.displayName="fallbackTranslationResolver",W(t).then(o,a.reject),a.promise},X=function(t,e,n,i){var r,a=y[t];if(a&&Object.prototype.hasOwnProperty.call(a,e)){if(i.setLocale(t),r=i.interpolate(a[e],n),"@:"===r.substr(0,2))return X(t,r.substr(2),n,i);i.setLocale(c)}return r},J=function(t,n){if(f){var i=e.get(f)(t,c,n);return void 0!==i?i:t}return t},Q=function(t,e,n,r,a){var s=i.defer();if(t<o.length){var c=o[t];Y(c,e,n,r).then(s.resolve,function(){Q(t+1,e,n,r,a).then(s.resolve)})}else s.resolve(a?a:J(e,n));return s.promise},Z=function(t,e,n,i){var r;if(t<o.length){var a=o[t];r=X(a,e,n,i),r||(r=Z(t+1,e,n,i))}return r},tt=function(t,e,n,i){return Q(b>0?b:h,t,e,n,i)},et=function(t,e,n){return Z(b>0?b:h,t,e,n)},nt=function(t,e,n,r){var a=i.defer(),s=c?y[c]:y,u=n?D[n]:F;if(s&&Object.prototype.hasOwnProperty.call(s,t)){var l=s[t];"@:"===l.substr(0,2)?U(l.substr(2),e,n,r).then(a.resolve,a.reject):a.resolve(u.interpolate(l,e))}else{var h;f&&!P&&(h=J(t,e)),c&&o&&o.length?tt(t,e,u,r).then(function(t){a.resolve(t)},function(t){a.reject(B(t))}):f&&!P&&h?a.resolve(r?r:h):r?a.resolve(r):a.reject(B(t))}return a.promise},it=function(t,e,n){var i,r=c?y[c]:y,a=F;if(D&&Object.prototype.hasOwnProperty.call(D,n)&&(a=D[n]),r&&Object.prototype.hasOwnProperty.call(r,t)){var s=r[t];i="@:"===s.substr(0,2)?it(s.substr(2),e,n):a.interpolate(s,e)}else{var u;f&&!P&&(u=J(t,e)),c&&o&&o.length?(h=0,i=et(t,e,a)):i=f&&!P&&u?u:B(t)}return i},rt=function(t){u===t&&(u=void 0),M[t]=void 0};U.preferredLanguage=function(t){return t&&G(t),r},U.cloakClassName=function(){return w},U.nestedObjectDelimeter=function(){return _},U.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(j(t),p&&o&&o.length)for(var e=0,n=o.length;n>e;e++)M[o[e]]||(M[o[e]]=q(o[e]));U.use(U.use())}return s?o[0]:o},U.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=O(o,t);e>-1&&(b=e)}else b=0},U.proposedLanguage=function(){return u},U.storage=function(){return a},U.use=function(t){if(!t)return c;var e=i.defer();n.$emit("$translateChangeStart",{language:t});var r=L(t);return r&&(t=r),!K&&y[t]||!p||M[t]?u===t&&M[t]?M[t].then(function(t){return e.resolve(t.key),t},function(t){return e.reject(t),i.reject(t)}):(e.resolve(t),H(t)):(u=t,M[t]=q(t).then(function(n){return R(n.key,n.table),e.resolve(n.key),u===t&&H(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),i.reject(t)}),M[t]["finally"](function(){rt(t)})),e.promise},U.storageKey=function(){return V()},U.isPostCompilingEnabled=function(){return C},U.isForceAsyncReloadEnabled=function(){return K},U.refresh=function(t){function e(){a.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function r(){a.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var a=i.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(y[t]){var s=function(n){R(n.key,n.table),t===c&&H(c),e()};s.displayName="refreshPostProcessor",q(t).then(s,r)}else r();else{var u=[],l={};if(o&&o.length)for(var h=0,f=o.length;f>h;h++)u.push(q(o[h])),l[o[h]]=!0;c&&!l[c]&&u.push(q(c));var d=function(t){y={},angular.forEach(t,function(t){R(t.key,t.table)}),c&&H(c),e()};d.displayName="refreshPostProcessor",i.all(u).then(d,r)}return a.promise},U.instant=function(t,e,n){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var i={},a=0,s=t.length;s>a;a++)i[t[a]]=U.instant(t[a],e,n);return i}if(angular.isString(t)&&t.length<1)return t;t&&(t=N.apply(t));var u,l=[];r&&l.push(r),c&&l.push(c),o&&o.length&&(l=l.concat(o));for(var h=0,d=l.length;d>h;h++){var p=l[h];if(y[p]&&("undefined"!=typeof y[p][t]?u=it(t,e,n):(v||m)&&(u=B(t))),"undefined"!=typeof u)break}return u||""===u||(u=F.interpolate(t,e),f&&!P&&(u=J(t,e))),u},U.versionInfo=function(){return E},U.loaderCache=function(){return $},U.directivePriority=function(){return k},U.statefulFilter=function(){return T},U.isReady=function(){return A};var at=i.defer();at.promise.then(function(){A=!0}),U.onReady=function(t){var e=i.defer();return angular.isFunction(t)&&e.promise.then(t),A?e.resolve():at.promise.then(e.resolve),e.promise};var ot=n.$on("$translateReady",function(){at.resolve(),ot(),ot=null}),st=n.$on("$translateChangeEnd",function(){at.resolve(),st(),st=null});if(p){if(angular.equals(y,{})&&U.use()&&U.use(U.use()),o&&o.length)for(var ct=function(t){return R(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ut=0,lt=o.length;lt>ut;ut++){var ht=o[ut];(K||!y[ht])&&(M[ht]=q(ht).then(ct))}}else n.$emit("$translateReady",{language:U.use()});return U}]}function i(t,e){"use strict";var n,i={},r="default";return i.setLocale=function(t){n=t},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},i.interpolate=function(n,i){i=i||{},i=e.sanitize(i,"params");var r=t(n)(i);return r=e.sanitize(r,"text")},i}function r(t,e,n,i,r,o){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,c){var u=c.translateValues?c.translateValues:void 0,l=c.translateInterpolation?c.translateInterpolation:void 0,h=e[0].outerHTML.match(/translate-value-+/i),f="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,p,g){e.interpolateParams={},e.preText="",e.postText="",e.translateNamespace=a(e);var v={},m=function(t,n,i){if(n.translateValues&&angular.extend(t,r(n.translateValues)(e.$parent)),h)for(var a in i)if(Object.prototype.hasOwnProperty.call(n,a)&&"translateValue"===a.substr(0,14)&&"translateValues"!==a){var o=angular.lowercase(a.substr(14,1))+a.substr(15);t[o]=i[a]}},$=function(t){if(angular.isFunction($._unwatchOld)&&($._unwatchOld(),$._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var i=s.apply(p.text()),r=i.match(f);if(angular.isArray(r)){e.preText=r[1],e.postText=r[3],v.translate=n(r[2])(e.$parent);var a=i.match(d);angular.isArray(a)&&a[2]&&a[2].length&&($._unwatchOld=e.$watch(a[2],function(t){v.translate=t,C()}))}else v.translate=i}else v.translate=t;C()},y=function(t){g.$observe(t,function(e){v[t]=e,C()})};m(e.interpolateParams,g,c);var b=!0;g.$observe("translate",function(t){"undefined"==typeof t?$(""):""===t&&b||(v.translate=t,C()),b=!1});for(var x in g)g.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&y(x);if(g.$observe("translateDefault",function(t){e.defaultText=t}),u&&g.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,r(t)(e.$parent))})}),h){var S=function(t){g.$observe(t,function(n){var i=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[i]=n})};for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&S(w)}var C=function(){for(var t in v)v.hasOwnProperty(t)&&void 0!==v[t]&&K(t,v[t],e,e.interpolateParams,e.defaultText,e.translateNamespace)},K=function(e,n,i,r,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),t(n,r,l,a).then(function(t){_(t,i,!0,e)},function(t){_(t,i,!1,e)})):_(n,i,!1,e)},_=function(e,n,r,a){if("translate"===a){r||"undefined"==typeof n.defaultText||(e=n.defaultText),p.empty().append(n.preText+e+n.postText);var o=t.isPostCompilingEnabled(),s="undefined"!=typeof c.translateCompile,u=s&&"false"!==c.translateCompile;(o&&!s||u)&&i(p.contents())(n)}else{r||"undefined"==typeof n.defaultText||(e=n.defaultText);var l=g.$attr[a];"data-"===l.substr(0,5)&&(l=l.substr(5)),l=l.substr(15),p.attr(l,e)}};(u||h||g.translateDefault)&&e.$watch("interpolateParams",C,!0);var A=o.$on("$translateChangeSuccess",C);p.text().length?$(g.translate?g.translate:""):g.translate&&$(g.translate),C(),e.$on("$destroy",A)}}}}function a(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?a(t.$parent):void 0}function o(t){"use strict";return{compile:function(e){var n=function(){e.addClass(t.cloakClassName())},i=function(){e.removeClass(t.cloakClassName())};return t.onReady(function(){i()}),n(),function(e,r,a){a.translateCloak&&a.translateCloak.length&&a.$observe("translateCloak",function(e){t(e).then(i,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=a(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function a(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?a(t.$parent):void 0}function c(t,e){"use strict";var n=function(n,i,r){return angular.isObject(i)||(i=t(i)(this)),e.instant(n,i,r)};return e.statefulFilter()&&(n.$stateful=!0),n}function u(t){"use strict";return t("translations")}return angular.module("pascalprecht.translate",["ng"]).run(t),t.$inject=["$translate"],t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.$inject=["$interpolate","$translateSanitization"],i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",c),c.$inject=["$parse","$translate"],c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.$inject=["$cacheFactory"],u.displayName="$translationCache","pascalprecht.translate"});